<linker>
    <!--
        Preserve Physics classes that are used at runtime via CreatePrimitive().
        Unity's CreatePrimitive automatically adds colliders:
        - PrimitiveType.Sphere -> SphereCollider
        - PrimitiveType.Capsule -> CapsuleCollider
        - PrimitiveType.Cube -> BoxCollider
        - PrimitiveType.Cylinder -> MeshCollider
        - PrimitiveType.Plane -> MeshCollider

        Only preserve specific Collider types instead of the entire module
        to reduce build size.
    -->
    <assembly fullname="UnityEngine.PhysicsModule">
        <type fullname="UnityEngine.BoxCollider" preserve="all"/>
        <type fullname="UnityEngine.SphereCollider" preserve="all"/>
        <type fullname="UnityEngine.CapsuleCollider" preserve="all"/>
        <type fullname="UnityEngine.MeshCollider" preserve="all"/>
        <type fullname="UnityEngine.Rigidbody" preserve="all"/>
    </assembly>

    <!-- Prevent IL2CPP from stripping AppsInToss SDK types -->
    <!-- SDK Result types have fields accessed via Reflection (JsonUtility) -->
    <assembly fullname="AppsInTossSDK" preserve="all">
        <type fullname="AppsInToss.AppLoginResult" preserve="all"/>
        <type fullname="AppsInToss.CheckoutPaymentResult" preserve="all"/>
        <type fullname="AppsInToss.ContactResult" preserve="all"/>
        <type fullname="AppsInToss.GameCenterGameProfileResponse" preserve="all"/>
        <type fullname="AppsInToss.GetUserKeyForGameResult" preserve="all"/>
        <type fullname="AppsInToss.GrantPromotionRewardForGameResult" preserve="all"/>
        <type fullname="AppsInToss.ImageResponse" preserve="all"/>
        <type fullname="AppsInToss.Location" preserve="all"/>
        <type fullname="AppsInToss.NetworkStatus" preserve="all"/>
        <type fullname="AppsInToss.SetScreenAwakeModeResult" preserve="all"/>
        <type fullname="AppsInToss.SetSecureScreenResult" preserve="all"/>
        <type fullname="AppsInToss.SubmitGameCenterLeaderBoardScoreResponse" preserve="all"/>
        <type fullname="AppsInToss.CallbackData" preserve="all"/>
        <!-- Preserve all types in AppsInToss namespace -->
        <type fullname="AppsInToss.*" preserve="all"/>
    </assembly>
</linker>
