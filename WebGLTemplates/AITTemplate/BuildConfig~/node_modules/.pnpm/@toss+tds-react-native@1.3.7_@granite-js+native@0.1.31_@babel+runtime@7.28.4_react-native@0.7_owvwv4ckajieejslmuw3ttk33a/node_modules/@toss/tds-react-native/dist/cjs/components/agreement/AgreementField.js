"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.contentTextPropsMap=exports.marginTopMap=void 0,exports.CheckboxAgreementField=CheckboxAgreementField,exports.AgreementField=AgreementField;const jsx_runtime_1=require("react/jsx-runtime"),checkbox_1=require("../checkbox"),pressable_effect_1=require("../../interactions/pressable-effect"),utils_1=require("../../utils"),react_1=require("react"),react_native_1=require("react-native"),BaseAgreementField_1=__importDefault(require("./BaseAgreementField"));function AgreementField({children:e,type:s,addonText:o,arrow:t,indent:r,withBorder:a,style:x,onPress:i,onActionPress:l}){const c=exports.contentTextPropsMap[s],d=(0,react_1.useCallback)(u=>{i?.(u),l?.(u)},[i,l]);return(0,jsx_runtime_1.jsx)(pressable_effect_1.PressableEffect,{underlay:(0,jsx_runtime_1.jsx)(pressable_effect_1.PressableEffect.Underlay,{style:touchEffectUnderlayStyleMap[s]}),style:[{flex:1},x],onPress:i!=null||l!=null?d:void 0,children:(0,jsx_runtime_1.jsx)(BaseAgreementField_1.default,{content:(0,jsx_runtime_1.jsx)(BaseAgreementField_1.default.ContentText,{...c,style:styles.contentText,children:e}),indent:r,withBorder:a,right:(0,jsx_runtime_1.jsx)(react_native_1.View,{style:{marginTop:exports.marginTopMap[s]},children:(0,jsx_runtime_1.jsxs)(react_native_1.View,{style:styles.rightContainer,children:[o!=null?(0,jsx_runtime_1.jsx)(react_native_1.View,{style:[styles.addonTextContainer,{marginRight:t==null?8:4}],children:o}):null,t]})})})})}function CheckboxAgreementField({children:e,checked:s,defaultChecked:o=!1,type:t,addonText:r,arrow:a,indent:x,withBorder:i,style:l,onCheckedChange:c,onPress:d,onActionPress:u}){const b=exports.contentTextPropsMap[t],[g,h]=(0,utils_1.useControlled)({controlledValue:s,defaultValue:o}),f=(0,react_1.useCallback)(n=>{c?.(n),h(n)},[c,h]),{opacityAnim:j,scaleAnim:y,startPressInAnim:m,startPressOutAnim:p}=(0,pressable_effect_1.usePressAnim)({pressIn:{scale:.96,opacity:1},pressOut:{scale:1,opacity:0}});return(0,jsx_runtime_1.jsx)(react_native_1.View,{style:[{flex:1},l],children:(0,jsx_runtime_1.jsxs)(react_native_1.Animated.View,{style:{transform:[{scale:y}]},children:[(0,jsx_runtime_1.jsx)(pressable_effect_1.PressableEffect.Underlay,{style:[touchEffectUnderlayStyleMap[t],{opacity:j}]}),(0,jsx_runtime_1.jsx)(react_native_1.Pressable,{onPress:n=>{d?.(n),f(!g)},onPressIn:m,onPressOut:p,children:(0,jsx_runtime_1.jsx)(BaseAgreementField_1.default,{left:(0,jsx_runtime_1.jsx)(checkbox_1.Checkbox.Line,{size:24,checked:g,onPress:n=>{d?.(n),f(!g)},onPressIn:m,onPressOut:p,style:{marginTop:exports.marginTopMap[t],marginRight:8,alignItems:"flex-start"}}),content:(0,jsx_runtime_1.jsx)(BaseAgreementField_1.default.ContentText,{...b,style:styles.contentText,children:e}),indent:x,withBorder:i,right:a!=null?(0,jsx_runtime_1.jsx)(react_native_1.Pressable,{style:{paddingLeft:16,paddingRight:16},onPress:n=>{u?.(n)},onPressIn:m,onPressOut:p,children:(0,jsx_runtime_1.jsx)(react_native_1.View,{style:{marginTop:exports.marginTopMap[t]},children:(0,jsx_runtime_1.jsxs)(react_native_1.View,{style:styles.rightContainer,children:[r!=null?(0,jsx_runtime_1.jsx)(react_native_1.View,{style:[styles.addonTextContainer,{marginRight:4}],children:r}):null,a]})})}):(0,jsx_runtime_1.jsx)(react_native_1.View,{style:{marginTop:exports.marginTopMap[t]},children:(0,jsx_runtime_1.jsx)(react_native_1.View,{style:styles.rightContainer,children:r!=null?(0,jsx_runtime_1.jsx)(react_native_1.View,{style:[styles.addonTextContainer,{marginRight:8}],children:r}):null})})})})]})})}exports.marginTopMap={"big-bold":18,"medium-bold":6,"medium-regular":6},exports.contentTextPropsMap={"big-bold":{size:"big",fontWeight:"bold"},"medium-bold":{size:"medium",fontWeight:"bold"},"medium-regular":{size:"medium",fontWeight:"regular"}};const touchEffectUnderlayStyleMap={"big-bold":{borderRadius:12,marginVertical:4,marginHorizontal:6},"medium-bold":{borderRadius:8,marginVertical:0,marginHorizontal:6},"medium-regular":{borderRadius:8,marginVertical:0,marginHorizontal:6}},styles=react_native_1.StyleSheet.create({contentText:{flex:1},rightContainer:{flexDirection:"row",alignItems:"center"},addonTextContainer:{marginLeft:8}});AgreementField.AddonText=BaseAgreementField_1.default.AddonText,AgreementField.Arrow=BaseAgreementField_1.default.Arrow;
