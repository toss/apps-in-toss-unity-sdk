"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BottomSheetDimmer=void 0;const jsx_runtime_1=require("react/jsx-runtime"),tds_colors_1=require("@toss/tds-colors"),tds_easings_1=require("@toss/tds-easings"),react_1=require("react"),react_native_1=require("react-native"),core_1=require("../../core"),dimmerOpacity={light:{normal:.2,darker:.4},dark:{normal:.56,darker:.8}},AnimatedPressable=react_native_1.Animated.createAnimatedComponent(react_native_1.Pressable);exports.BottomSheetDimmer=(0,react_1.forwardRef)(function({open:r,onPress:s},i){const{width:n,height:o}=(0,react_native_1.useWindowDimensions)(),{colorPreference:t}=(0,core_1.useColorPreference)(),e=(0,react_1.useRef)(new react_native_1.Animated.Value(0)).current;return(0,react_1.useEffect)(()=>{if(r)return react_native_1.Animated.spring(e,{toValue:dimmerOpacity[t].normal,useNativeDriver:!0,...tds_easings_1.spring.quick}).start(),()=>{requestAnimationFrame(()=>react_native_1.Animated.spring(e,{toValue:0,useNativeDriver:!0,...tds_easings_1.spring.quick}).start())}},[t,e,r]),(0,react_1.useImperativeHandle)(i,()=>({darken:()=>{react_native_1.Animated.spring(e,{toValue:dimmerOpacity[t].darker,useNativeDriver:!0,...tds_easings_1.spring.quick}).start()},lighten:a=>{react_native_1.Animated.spring(e,{toValue:dimmerOpacity[t].normal*(1-a),useNativeDriver:!0,...tds_easings_1.spring.quick}).start()},reset:()=>{react_native_1.Animated.spring(e,{toValue:dimmerOpacity[t].normal,useNativeDriver:!0,...tds_easings_1.spring.quick}).start()}}),[t,e]),(0,jsx_runtime_1.jsx)(AnimatedPressable,{pointerEvents:r?void 0:"none",onPress:s,style:[styles.container,{opacity:e},{width:n,height:o}]})});const styles=react_native_1.StyleSheet.create({container:{position:"absolute",top:0,left:0,bottom:0,right:0,backgroundColor:tds_colors_1.colors.black,opacity:0}});
