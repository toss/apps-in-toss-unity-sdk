"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HighlightUI=void 0;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),react_native_1=require("react-native"),tds_colors_1=require("@toss/tds-colors"),utils_1=require("../../utils"),components_1=require("./components"),hooks_1=require("./hooks"),utils_2=require("./utils");exports.HighlightUI=(0,react_1.forwardRef)(function({open:g,x:s,y:o,width:r,height:l,padding:e=0,paddingLeft:h=e,paddingTop:m=e,paddingRight:y=e,paddingBottom:d=e,message:t,messageColor:p=tds_colors_1.colors.white,messageXAlignment:v,messageYAlignment:x,onPress:_,onExited:A,onTargetPress:j,...a},w){const n=(0,utils_2.addLayoutPadding)({layout:{x:s,y:o,width:r,height:l},padding:{paddingLeft:h,paddingTop:m,paddingRight:y,paddingBottom:d}}),{style:i,enter:q,exit:H}=(0,hooks_1.useHighlightUIAnimation)(),{width:f,height:S}=react_native_1.Dimensions.get("window"),E=v??(0,utils_2.getElementXAlignment)({x:s,width:r,parentWidth:f}),c=x??(0,utils_2.getElementYAlignment)({y:o,height:l,parentHeight:S}),{presenceState:u}=(0,utils_1.useAnimatePresence)(g,{enter:q,exit:H,onExited:A});return u==="invisible"?null:(0,jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment,{children:[(0,jsx_runtime_1.jsxs)(react_native_1.View,{ref:w,...a,style:[react_native_1.StyleSheet.absoluteFill,{pointerEvents:"none"},a.style],children:[(0,jsx_runtime_1.jsx)(components_1.SvgHighlightOverlay,{layout:n,opacity:i.overlayOpacity,holeStep:i.holeStep}),t&&(0,jsx_runtime_1.jsx)(components_1.MessageBox,{layout:n,opacity:i.messageOpacity,yAlignment:c,children:typeof t=="string"?(0,jsx_runtime_1.jsx)(components_1.Message,{layout:n,color:p,xAlignment:E,yAlignment:c,children:t}):t})]}),(0,jsx_runtime_1.jsx)(components_1.PassClickEventThroughHoleOverlay,{layout:n,onPress:_,onTargetPress:j,style:{pointerEvents:u==="invisible-animation"?"none":"auto"}})]})});
