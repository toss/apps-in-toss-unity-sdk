"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PostList=PostList;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),react_native_1=require("react-native"),prevent_font_scaling_1=require("../../../extensions/prevent-font-scaling"),constants_1=require("../constants"),PostListProvider_1=require("./PostListProvider"),DEFAULT_GAP=8;function PostList({listType:r,typography:n="t5",paddingBottom:t=paddingByListType[r].bottom,style:e,children:o}){return(0,jsx_runtime_1.jsx)(prevent_font_scaling_1.PreventFontScaling,{limit:160,children:(0,jsx_runtime_1.jsx)(PostListProvider_1.PostListProvider,{listType:r,typography:n,children:(0,jsx_runtime_1.jsx)(react_native_1.View,{style:[{paddingTop:paddingByListType[r].top,paddingRight:paddingByListType[r].right,paddingBottom:t,paddingLeft:paddingByListType[r].left},e],children:r==="ol"?(0,jsx_runtime_1.jsx)(PostOLListRenderer,{children:o}):(0,jsx_runtime_1.jsx)(PostULListRenderer,{children:o})})})})}function PostOLListRenderer({children:r}){let n=0,t=0;return(0,jsx_runtime_1.jsx)(jsx_runtime_1.Fragment,{children:react_1.Children.toArray(r).filter(react_1.isValidElement).map(e=>{const o=e.type?.displayName,s=t===0?0:DEFAULT_GAP;return o===constants_1.POST_LI?(n=n+1,t++,(0,react_1.cloneElement)(e,{order:n,...e.props,style:{marginTop:s,...e.props.style}})):o===constants_1.POST_OL?(0,react_1.cloneElement)(e,{...e.props,paddingBottom:e.props?.paddingBottom??0,style:{marginTop:s,...e.props.style}}):e})})}function PostULListRenderer({children:r}){let n=0;return(0,jsx_runtime_1.jsx)(jsx_runtime_1.Fragment,{children:react_1.Children.toArray(r).filter(react_1.isValidElement).map(t=>{const e=t.type?.displayName,o=n===0?0:DEFAULT_GAP;return e===constants_1.POST_UL?(n++,(0,react_1.cloneElement)(t,{paddingBottom:t.props?.paddingBottom??0,...t.props,style:{marginTop:o,...t.props.style}})):e===constants_1.POST_LI?(n++,(0,react_1.cloneElement)(t,{...t.props,style:{marginTop:o,...t.props.style}})):t})})}const paddingByListType={ol:{top:0,right:24,bottom:24,left:16},ul:{top:0,right:24,bottom:24,left:24}};
