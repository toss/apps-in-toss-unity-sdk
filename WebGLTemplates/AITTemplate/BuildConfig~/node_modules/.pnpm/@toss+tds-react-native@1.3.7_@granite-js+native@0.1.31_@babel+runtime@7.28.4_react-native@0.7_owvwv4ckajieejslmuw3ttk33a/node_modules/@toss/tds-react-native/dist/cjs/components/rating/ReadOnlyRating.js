"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReadOnlyRating=exports.ProgressIcons=void 0;const jsx_runtime_1=require("react/jsx-runtime"),react_native_svg_1=require("@granite-js/native/react-native-svg"),core_1=require("../../core"),private_1=require("../icon/private"),txt_1=require("../txt"),react_1=require("react"),react_native_1=require("react-native"),ClippedIcon=(0,react_1.forwardRef)(function({name:r,size:e,progress:i,color:o,...t},n){return(0,jsx_runtime_1.jsxs)(react_native_svg_1.Svg,{ref:n,width:e,height:e,...t,children:[(0,jsx_runtime_1.jsx)(react_native_svg_1.Defs,{children:(0,jsx_runtime_1.jsx)(react_native_svg_1.ClipPath,{id:"clip",children:(0,jsx_runtime_1.jsx)(react_native_svg_1.Rect,{width:e*i,height:e})})}),(0,jsx_runtime_1.jsx)(react_native_svg_1.G,{clipPath:"url(#clip)",children:(0,jsx_runtime_1.jsx)(private_1.SvgIcon,{name:r,size:e,color:o})})]})}),ProgressIcon=(0,react_1.forwardRef)(function({name:r,size:e,progress:i,idleColor:o,activeColor:t,style:n,...l},a){return(0,jsx_runtime_1.jsxs)(react_native_1.View,{ref:a,style:[{position:"relative"},n],...l,children:[(0,jsx_runtime_1.jsx)(private_1.SvgIcon,{name:r,size:e,color:o}),(0,jsx_runtime_1.jsx)(ClippedIcon,{name:r,size:e,progress:i,color:t,style:{position:"absolute",top:0,left:0}})]})});exports.ProgressIcons=(0,react_1.forwardRef)(function({name:r,size:e,gap:i,max:o,value:t,style:n,idleColor:l,activeColor:a,...g},p){return(0,jsx_runtime_1.jsx)(react_native_1.View,{ref:p,style:[{flexDirection:"row",alignItems:"center",gap:i},n],...g,children:Array.from({length:o},(h,c)=>{const s=Math.min(1,Math.max(0,t-c)),y=s<.25?0:s<.75?.5:1;return(0,jsx_runtime_1.jsx)(ProgressIcon,{name:r,size:e,progress:y,idleColor:l,activeColor:a},c)})})});const GapBySize={tiny:0,small:0,medium:0,large:0,big:0},ItemSizeBySize={tiny:16,small:20,medium:24,large:32,big:40},IconAndTextGapBySize={tiny:4,small:4,medium:4,large:4,big:2},TextStyleBySize={tiny:{typography:"t7",fontWeight:txt_1.FontWeight.Medium},small:{typography:"t5",fontWeight:txt_1.FontWeight.Semibold},medium:{typography:"t4",fontWeight:txt_1.FontWeight.Semibold},large:{typography:"t3",fontWeight:txt_1.FontWeight.Bold},big:{typography:"st5",fontWeight:txt_1.FontWeight.Bold}};exports.ReadOnlyRating=(0,react_1.forwardRef)(function({variant:r,size:e="large",gap:i=GapBySize[e],max:o=5,value:t,style:n,activeColor:l,accessibilityLabel:a="\uBCC4\uC810\uD3C9\uAC00",accessibilityValueText:g=`${o}\uC810 \uB9CC\uC810 \uC911 ${t}\uC810`,...p},h){const c=ItemSizeBySize[e],s=(0,core_1.useAdaptive)(),y=s.greyOpacity200,f=l??s.yellow400,x="icon-star-mono",m={accessible:!0,accessibilityRole:"text",accessibilityLabel:a,accessibilityValue:{text:typeof g=="function"?g(o,t):g}};if(r==="full")return(0,jsx_runtime_1.jsxs)(react_native_1.View,{ref:h,style:[{flexDirection:"row",alignItems:"center",gap:IconAndTextGapBySize[e]},n],...m,...p,children:[(0,jsx_runtime_1.jsx)(exports.ProgressIcons,{idleColor:y,activeColor:f,name:x,size:c,gap:i,max:o,value:t}),(0,jsx_runtime_1.jsx)(txt_1.Txt,{typography:TextStyleBySize[e].typography,fontWeight:TextStyleBySize[e].fontWeight,color:s.grey800,children:t})]});if(r==="compact")return(0,jsx_runtime_1.jsxs)(react_native_1.View,{ref:h,style:[{flexDirection:"row",alignItems:"center",gap:IconAndTextGapBySize[e]},n],...m,...p,children:[(0,jsx_runtime_1.jsx)(private_1.SvgIcon,{name:x,size:c,color:f}),(0,jsx_runtime_1.jsx)(txt_1.Txt,{typography:TextStyleBySize[e].typography,fontWeight:TextStyleBySize[e].fontWeight,color:s.grey800,children:t})]});if(r==="iconOnly")return(0,jsx_runtime_1.jsx)(react_native_1.View,{ref:h,style:[{flexDirection:"row",alignItems:"center"},n],...m,...p,children:(0,jsx_runtime_1.jsx)(exports.ProgressIcons,{idleColor:y,activeColor:f,name:x,size:c,gap:i,max:o,value:t})});throw new Error("Unhandled variant")});
