"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Item=Item;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),react_native_1=require("react-native"),core_1=require("../../../../core"),prevent_font_scaling_1=require("../../../../extensions/prevent-font-scaling"),pressable_effect_1=require("../../../../interactions/pressable-effect"),paragraph_1=require("../../../paragraph"),AlignmentContext_1=require("../../contexts/AlignmentContext"),RadioContext_1=require("../../contexts/RadioContext"),useItemStyle_1=require("./useItemStyle");function Item({style:d,children:y,value:n,disabled:x=!1,size:f,...p}){const{ensureFluidAlignment:g}=(0,react_1.useContext)(AlignmentContext_1.AlignmentContext),[s,m]=(0,react_1.useState)(null),{setSelectedValue:a,selectedValue:_,setSelectedElementLayout:i,disabled:b}=(0,react_1.useContext)(RadioContext_1.RadioContext),t=b||x,o=(0,useItemStyle_1.useItemStyle)({size:f,disabled:t}),r=(0,core_1.useAdaptive)(),e=_===n,h=(0,react_1.useCallback)(()=>{a(n)},[n,a]),c=(0,react_1.useCallback)(()=>{s!=null&&i(s)},[s,i]);return(0,react_1.useEffect)(()=>{e&&c()},[e,c]),(0,jsx_runtime_1.jsx)(pressable_effect_1.PressableEffect,{onPress:t||e?void 0:h,onLayout:l=>{const u=l.nativeEvent.layout;m(u),e&&i(u)},style:[o.containerStyle,d],accessibilityRole:"radio",accessibilityValue:{text:n},accessibilityState:{selected:e,disabled:t},disabled:t,...p,children:(0,jsx_runtime_1.jsx)(react_native_1.View,{style:{justifyContent:"center",alignItems:"center"},children:(0,jsx_runtime_1.jsx)(prevent_font_scaling_1.PreventFontScaling,{limit:140,children:(0,jsx_runtime_1.jsx)(paragraph_1.Root,{typography:o.labelTypography,style:o.labelStyle,onTextLayout:l=>{g(l.nativeEvent.lines.length>1)},children:(0,jsx_runtime_1.jsx)(paragraph_1.Text,{color:t?r.grey400:e?r.grey800:r.grey600,fontWeight:e?"semiBold":"medium",children:y})})})})})}
