"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ScrollControlOverlay=ScrollControlOverlay;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),react_native_1=require("react-native"),spring_1=require("../../constants/spring"),ScrollContext_1=require("../../contexts/ScrollContext"),EdgeGradient_1=require("./EdgeGradient"),PreviousButton_1=require("./PreviousButton");function ScrollControlOverlay(){const{ref:s,scrollHandlers:n}=(0,react_1.useContext)(ScrollContext_1.ScrollContext),[t,i]=(0,react_1.useState)(!1),[a,c]=(0,react_1.useState)(!1),e=(0,react_1.useRef)(new react_native_1.Animated.Value(0)).current,u=e.interpolate({inputRange:[0,1],outputRange:[-5,0]});(0,react_1.useEffect)(()=>{function d(r){const f=r.nativeEvent.contentSize.width,x=r.nativeEvent.contentOffset.x,g=r.nativeEvent.layoutMeasurement.width,o=x/Math.max(0,f-g);i(o>.05),c(o<=.95)}return n.add(d),()=>{n.clear()}},[n]);const l=()=>{s?.current?.scrollTo({x:0})};return(0,react_1.useEffect)(()=>()=>{react_native_1.Animated.spring(e,{toValue:t?0:1,useNativeDriver:!0,...spring_1.SPRING_OPTION}).start()},[e,t]),(0,jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment,{children:[(0,jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment,{children:[(0,jsx_runtime_1.jsx)(EdgeGradient_1.LeftEdgeGradient,{exiting:t}),(0,jsx_runtime_1.jsx)(react_native_1.Animated.View,{pointerEvents:t?"auto":"none",style:[buttonContainerStyle,{transform:[{translateX:u}],opacity:e}],children:(0,jsx_runtime_1.jsx)(PreviousButton_1.PreviousButton,{onPress:l})})]}),(0,jsx_runtime_1.jsx)(EdgeGradient_1.RightEdgeGradient,{exiting:a})]})}const buttonContainerStyle={zIndex:1,position:"absolute",left:0,top:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"};
