"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabItem=TabItem;const jsx_runtime_1=require("react/jsx-runtime"),tds_easings_1=require("@toss/tds-easings"),react_1=require("react"),react_native_1=require("react-native"),core_1=require("../../core"),animated_1=require("../../interactions/animated"),txt_1=require("../txt"),IndicatorContext_1=require("./IndicatorContext"),TabContext_1=require("./TabContext");function TabItem({redBean:n=!1,value:t,children:s,style:h,onPress:u}){const{size:d,fluid:g,value:p,onChange:x}=(0,react_1.useContext)(TabContext_1.TabContext),o=(0,react_1.useRef)(new animated_1.Animated.Value(1)).current,r=(0,react_1.useMemo)(()=>t===p,[t,p]),f=(0,core_1.useAdaptive)(),m=(0,react_1.useCallback)(l=>{u?.(l),x?.(t)},[u,x,t]),e=getSpacingStyles({size:d,fluid:g}),[i,b]=(0,react_1.useState)(),{setWidth:a,setTranslateX:c}=(0,react_1.useContext)(IndicatorContext_1.IndicatorContext);return(0,react_1.useEffect)(()=>{!r||i==null||c==null||a==null||(c(i.x+e.left),a(i.width-(e.left+e.right)))},[r,i,c,a,e.left,e.right]),(0,jsx_runtime_1.jsxs)(react_native_1.Pressable,{accessibilityRole:"tab",accessibilityState:{selected:r},onPress:m,style:[styles.container,{paddingTop:e.top,paddingBottom:e.bottom,paddingHorizontal:e.left,minWidth:g?64:void 0},h],onLayout:l=>{b(l.nativeEvent.layout)},onPressIn:()=>{animated_1.Animated.spring(o,{toValue:.96,useNativeDriver:!0,...tds_easings_1.spring.rapid}).start()},onPressOut:()=>{animated_1.Animated.spring(o,{toValue:1,useNativeDriver:!0,...tds_easings_1.spring.quick}).start()},children:[(0,jsx_runtime_1.jsx)(animated_1.Animated.View,{style:[styles.innerContainer,{transform:[{scale:o}]}],children:(0,jsx_runtime_1.jsx)(txt_1.Txt,{numberOfLines:1,ellipsizeMode:"clip",typography:d==="large"?"t5":"t6",fontWeight:r?"bold":"semiBold",color:r?f.grey800:f.grey600,children:s})}),n?(0,jsx_runtime_1.jsx)(react_native_1.View,{style:styles.redBean}):null]})}const styles=react_native_1.StyleSheet.create({container:{flex:1},innerContainer:{alignItems:"center",justifyContent:"center"},redBean:{position:"absolute",top:4,right:0,width:6,height:6,borderRadius:3,backgroundColor:"#f44336"}}),getSpacingStyles=({size:n,fluid:t})=>{const s=n==="large"&&t?12:8;return{top:n==="large"?12:8,bottom:n==="large"?14:8,left:s,right:s}};
