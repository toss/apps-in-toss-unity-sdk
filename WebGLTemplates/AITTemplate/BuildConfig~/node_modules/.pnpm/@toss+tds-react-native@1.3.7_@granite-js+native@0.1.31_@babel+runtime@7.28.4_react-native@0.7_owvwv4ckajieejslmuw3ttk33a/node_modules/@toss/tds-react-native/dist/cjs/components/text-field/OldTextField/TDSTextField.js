"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TDSTextField=void 0;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),react_native_1=require("react-native"),core_1=require("../../../core"),icon_1=require("../../icon"),hooks_1=require("./hooks"),TDSTextFieldContainer_1=require("./TDSTextFieldContainer"),TDSTextFieldContent_1=require("./TDSTextFieldContent"),utils_1=require("./utils"),TDS_COMMON_INPUT_ACCESSORY_VIEW_ID="TDSCommonInputAccessoryViewID";exports.TDSTextField=(0,react_1.forwardRef)(function({label:S,helpText:_,error:o,size:n,style:p,disabled:e=!1,leftItem:i,rightItem:l,onFocus:f,onBlur:y,placeholder:h,editable:c=!0,clearable:D=!1,textInputStyle:F,value:s,onClear:g,contentStyle:C,...a},m){const[t,u]=(0,react_1.useState)(!1),T=s!=null&&s.length>0,q=(0,utils_1.getState)({disabled:e,focus:t,error:o}),d=(0,hooks_1.useElementStyle)(n,q),x=(0,core_1.useAdaptive)(),{typography:I}=(0,core_1.useTypographyTheme)(),j=(c?T&&t:T)&&D;return(0,jsx_runtime_1.jsx)(TDSTextFieldContainer_1.TDSTextFieldContainer,{label:S,helpText:_,error:o,focus:t,size:n,style:p,disabled:e,children:(0,jsx_runtime_1.jsxs)(TDSTextFieldContent_1.TDSTextFieldContent,{disabled:e,focus:t,error:o,size:n,leftItem:i,rightItem:l,style:C,children:[(0,jsx_runtime_1.jsx)(react_native_1.TextInput,{allowFontScaling:!1,style:[{flex:1,marginLeft:i?8:0,marginRight:l?8:0,textAlignVertical:"center",padding:0,fontSize:I.st10.fontSize},d.input,{color:d.input.color},F],ref:m,placeholder:h,placeholderTextColor:x.grey500,editable:!!(c&&!e),onFocus:r=>{u(!0),f?.(r)},onBlur:r=>{u(!1),y?.(r)},value:s,...a,inputAccessoryViewID:a.inputAccessoryViewID??TDS_COMMON_INPUT_ACCESSORY_VIEW_ID}),j?(0,jsx_runtime_1.jsx)(react_native_1.Pressable,{accessibilityRole:"button",onPress:()=>{g?.()},children:(0,jsx_runtime_1.jsx)(icon_1.Icon,{color:x.grey400,name:"icn-delete",size:20})}):null]})})});
