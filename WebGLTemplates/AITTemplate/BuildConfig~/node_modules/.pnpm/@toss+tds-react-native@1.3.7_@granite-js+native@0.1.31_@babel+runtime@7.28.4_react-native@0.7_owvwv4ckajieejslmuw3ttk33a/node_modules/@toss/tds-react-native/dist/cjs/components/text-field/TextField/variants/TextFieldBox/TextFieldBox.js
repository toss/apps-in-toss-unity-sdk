"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextFieldBox=void 0;const jsx_runtime_1=require("react/jsx-runtime"),tds_colors_1=require("@toss/tds-colors"),react_1=require("react"),react_native_1=require("react-native"),core_1=require("../../../../../core"),txt_1=require("../../../../txt"),TextFieldContainer_1=require("../../components/TextFieldContainer"),TextFieldHelp_1=require("../../components/TextFieldHelp"),TextFieldLabel_1=require("../../components/TextFieldLabel"),useLabelControls_1=require("../../hooks/useLabelControls"),useTextFieldDefaultTextColor_1=require("../../hooks/useTextFieldDefaultTextColor"),useTextFieldHelpControls_1=require("../../hooks/useTextFieldHelpControls"),useTextFieldValueControls_1=require("../../hooks/useTextFieldValueControls"),getTextFieldStatus_1=require("../../utils/getTextFieldStatus"),TextFieldBoxOverlay_1=require("./TextFieldBoxOverlay");exports.TextFieldBox=(0,react_1.forwardRef)(function({prefix:r,right:n,suffix:s,containerStyle:c,style:u,...e},x){const t=(0,core_1.useAdaptive)(),{typography:T}=(0,core_1.useTypographyTheme)(),[o,i]=(0,react_1.useState)(!1),F=(0,useTextFieldHelpControls_1.useTextFieldHelpControls)(e,o),{value:d,onChangeText:y}=(0,useTextFieldValueControls_1.useTextFieldValueControls)(e),a=(0,useLabelControls_1.useTextFieldLabelControls)(e,o),g=(0,getTextFieldStatus_1.getTextFieldStatus)(e,o),h=(0,useTextFieldDefaultTextColor_1.useTextFieldDefaultTextColor)(e,o),C=d!=="";return(0,jsx_runtime_1.jsxs)(TextFieldContainer_1.TextFieldContainer,{paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,style:c,children:[(0,jsx_runtime_1.jsx)(TextFieldLabel_1.TextFieldLabel,{color:a.color,opacity:a.opacity,children:e.label}),(0,jsx_runtime_1.jsxs)(react_native_1.View,{style:[styles.boxContainer,{backgroundColor:t.greyOpacity50}],children:[r?(0,jsx_runtime_1.jsx)(txt_1.Txt,{color:t.grey800,style:{paddingRight:8},children:r}):null,(0,jsx_runtime_1.jsx)(react_native_1.TextInput,{...e,ref:x,onChangeText:y,editable:e.editable??!e.disabled,onFocus:l=>{e.onFocus?.(l),i(!0)},onBlur:l=>{e.onBlur?.(l),i(!1)},value:d,style:[{flexGrow:1,flexBasis:0,color:h,fontSize:T.t5.fontSize,padding:0},u],placeholderTextColor:t.grey500}),s?(0,jsx_runtime_1.jsx)(txt_1.Txt,{color:C?t.grey800:t.grey500,style:{paddingLeft:8},children:s}):null,n?(0,jsx_runtime_1.jsx)(react_native_1.View,{style:{display:"flex",alignItems:"center",marginLeft:8},children:n}):null,(0,jsx_runtime_1.jsx)(TextFieldBoxOverlay_1.TextFieldBoxOverlay,{status:g})]}),e.help!=null?(0,jsx_runtime_1.jsx)(TextFieldHelp_1.TextFieldHelp,{color:F.color,children:e.help}):null]})});const styles=react_native_1.StyleSheet.create({boxContainer:{overflow:"hidden",borderRadius:14,display:"flex",flexDirection:"row",alignItems:"center",borderColor:tds_colors_1.colors.greyOpacity100,borderWidth:1,paddingVertical:14,paddingHorizontal:16,width:"100%"}});
