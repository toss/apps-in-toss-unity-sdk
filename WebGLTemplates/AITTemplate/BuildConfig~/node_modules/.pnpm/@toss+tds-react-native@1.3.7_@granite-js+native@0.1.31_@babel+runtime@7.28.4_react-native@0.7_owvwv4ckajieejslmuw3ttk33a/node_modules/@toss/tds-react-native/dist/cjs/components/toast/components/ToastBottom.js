"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToastBottom=void 0;const jsx_runtime_1=require("react/jsx-runtime"),react_native_1=require("@granite-js/react-native"),react_1=require("react"),react_native_2=require("react-native"),tds_colors_1=require("@toss/tds-colors"),core_1=require("../../../core"),animated_1=require("../../../interactions/animated"),utils_1=require("../../../utils"),txt_1=require("../../txt"),hooks_1=require("../hooks"),AnimatedPressable=animated_1.Animated.createAnimatedComponent(react_native_2.Pressable),ToastBottom=({open:l,text:d,icon:o,button:e,duration:u=e?5:3,bottomOffset:r=20,onClose:i,onExited:m=()=>{},onEntered:h=()=>{}})=>{const{width:x}=(0,react_native_2.useWindowDimensions)(),[n,g]=(0,react_1.useState)(),s=(0,utils_1.useSafeAreaBottom)(),y=n?r+n+s:void 0,p=(0,react_native_1.useKeyboardAnimatedHeight)(),{textLine:f,updateTextLine:_}=(0,hooks_1.useTextLine)(),{colorPreference:w}=(0,core_1.useColorPreference)(),{typographyLevel:a}=(0,core_1.useTypographyTheme)(),t=react_native_2.Platform.OS==="android"?a>200:a?.startsWith("A11y_x"),{enter:T,exit:q,animatedStyle:c}=(0,hooks_1.useToastAnimation)({position:"bottom",initialY:y}),{presenceState:v}=(0,utils_1.useAnimatePresence)(l,{enter:T,exit:q,onExited:m,onEntered:h});return(0,hooks_1.useTimer)({duration:u,callback:i}),v==="invisible"?null:(0,jsx_runtime_1.jsxs)(AnimatedPressable,{onPress:i,onLayout:A=>{g(A.nativeEvent.layout.height)},style:[styles.container,{opacity:c.opacity,transform:[{translateY:animated_1.Animated.subtract(c.transform[0]?.translateY??0,p)}]},{flexDirection:t?"column":"row",alignItems:t?"flex-start":"center",gap:t?10:0,width:e?x-marginHorizontal*2:"auto",bottom:r+s,paddingLeft:o?16:20,paddingRight:e?14:20,borderRadius:f==="single"?100:20,backgroundColor:w==="light"?tds_colors_1.colors.grey500:tds_colors_1.colors.darkThemeGrey200}],children:[(0,jsx_runtime_1.jsxs)(react_native_2.View,{style:[styles.iconTextContainer,t?{width:"100%"}:{flexGrow:e?1:0,width:e?0:"auto"}],children:[o&&(0,jsx_runtime_1.jsx)(react_native_2.View,{style:styles.icon,children:o}),(0,jsx_runtime_1.jsx)(txt_1.Txt,{onTextLayout:_,typography:"t6",fontWeight:"semiBold",color:tds_colors_1.colors.white,children:d})]}),e?(0,jsx_runtime_1.jsx)(react_native_2.View,{style:styles.button,children:e}):null]})};exports.ToastBottom=ToastBottom;const marginHorizontal=20,styles=react_native_2.StyleSheet.create({container:{position:"absolute",alignSelf:"center",zIndex:100,flexDirection:"row",paddingVertical:14,marginHorizontal},iconTextContainer:{flexDirection:"row",alignItems:"center"},icon:{marginRight:12},button:{marginLeft:20,flexShrink:0}});
