"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToastTop=void 0;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),react_native_1=require("react-native"),tds_colors_1=require("@toss/tds-colors"),core_1=require("../../../core"),animated_1=require("../../../interactions/animated"),utils_1=require("../../../utils"),txt_1=require("../../txt"),hooks_1=require("../hooks"),AnimatedPressable=animated_1.Animated.createAnimatedComponent(react_native_1.Pressable),ToastTop=({open:s,text:n,icon:e,duration:a=3,onClose:t,onExited:c=()=>{},onEntered:l=()=>{}})=>{const o=(0,utils_1.useSafeAreaTop)(),[r,d]=(0,react_1.useState)(),u=r?-(o+r):void 0,{textLine:h,updateTextLine:p}=(0,hooks_1.useTextLine)(),g=(0,core_1.useAdaptive)(),{colorPreference:i}=(0,core_1.useColorPreference)(),{enter:m,exit:x,animatedStyle:y}=(0,hooks_1.useToastAnimation)({position:"top",initialY:u}),{presenceState:T}=(0,utils_1.useAnimatePresence)(s,{enter:m,exit:x,onExited:c,onEntered:l});return(0,hooks_1.useTimer)({duration:a,callback:t}),T==="invisible"?null:(0,jsx_runtime_1.jsxs)(AnimatedPressable,{onPress:t,onLayout:f=>{d(f.nativeEvent.layout.height)},style:[styles.container,y,{top:o,paddingLeft:e?12:16,borderRadius:h==="single"?100:20,backgroundColor:i==="light"?tds_colors_1.colors.white:tds_colors_1.colors.darkThemeGrey200,shadowColor:i==="light"?tds_colors_1.colors.greyOpacity200:tds_colors_1.colors.darkThemeGrey50}],children:[e&&(0,jsx_runtime_1.jsx)(react_native_1.View,{style:styles.icon,children:e}),(0,jsx_runtime_1.jsx)(txt_1.Txt,{onTextLayout:p,typography:"t6",fontWeight:"semiBold",color:g.opacity800,children:n})]})};exports.ToastTop=ToastTop;const styles=react_native_1.StyleSheet.create({container:{position:"absolute",alignSelf:"center",zIndex:100,flexDirection:"row",alignItems:"center",paddingVertical:12,paddingRight:16,marginHorizontal:react_native_1.Platform.OS==="ios"?18:react_native_1.Platform.OS==="android"?12:0,shadowOffset:{width:0,height:2},shadowRadius:30,shadowOpacity:1,elevation:50},icon:{marginRight:10}});
