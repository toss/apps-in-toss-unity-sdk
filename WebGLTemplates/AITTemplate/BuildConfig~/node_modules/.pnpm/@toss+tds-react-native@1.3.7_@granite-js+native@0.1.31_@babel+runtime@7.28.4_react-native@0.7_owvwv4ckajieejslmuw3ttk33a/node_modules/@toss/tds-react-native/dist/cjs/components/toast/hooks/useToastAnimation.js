"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useToastAnimation=void 0;const react_1=require("react"),tds_easings_1=require("@toss/tds-easings"),animated_1=require("../../../interactions/animated"),useToastAnimation=({position:s,initialY:e})=>{const n=(0,react_1.useRef)(new animated_1.Animated.Value(0)).current,t=(0,react_1.useRef)(new animated_1.Animated.Value(e??0)).current,u=(0,react_1.useRef)(!1),a=(0,react_1.useCallback)(()=>new Promise(r=>{if(e===void 0){r();return}t.setValue(e),u.current=!0,animated_1.Animated.parallel([animated_1.Animated.spring(n,{toValue:1,useNativeDriver:!0,...s==="bottom"?tds_easings_1.spring.quick:tds_easings_1.spring.small}),animated_1.Animated.spring(t,{toValue:0,useNativeDriver:!0,...s==="bottom"?tds_easings_1.spring.quick:tds_easings_1.spring.small})]).start(()=>{r()})}),[e,n,s,t]);return(0,react_1.useEffect)(()=>{!u.current&&e!=null&&a()},[e,a]),{enter:a,exit:()=>new Promise(r=>{if(e==null){r();return}animated_1.Animated.parallel([animated_1.Animated.spring(n,{toValue:0,useNativeDriver:!0,...tds_easings_1.spring.quick}),animated_1.Animated.spring(t,{toValue:e,useNativeDriver:!0,...tds_easings_1.spring.quick})]).start(()=>{r()})}),animatedStyle:{opacity:n,transform:[{translateY:t}]}}};exports.useToastAnimation=useToastAnimation;
