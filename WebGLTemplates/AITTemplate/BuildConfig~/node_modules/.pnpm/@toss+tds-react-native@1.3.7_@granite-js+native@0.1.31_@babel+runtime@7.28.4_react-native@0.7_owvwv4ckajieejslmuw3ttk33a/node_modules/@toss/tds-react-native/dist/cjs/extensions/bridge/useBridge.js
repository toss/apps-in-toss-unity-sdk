"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useBridge=useBridge;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),core_1=require("../../core"),Bridge_1=require("./Bridge");function useBridge({closeOnDestroy:s=!0}={}){const e=(0,react_1.useRef)(),r=(0,core_1.useOverlay)(),t=(0,react_1.useCallback)(()=>r.close(),[r]),c=(0,react_1.useCallback)(({onExited:u,onClose:i,color:l,...n})=>{e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{r.open(({isOpen:d,exit:m,close:_})=>{const f=()=>{i?.(),_()};return(0,jsx_runtime_1.jsx)(core_1.ThemeProvider,{token:{color:{primary:l}},children:(0,jsx_runtime_1.jsx)(Bridge_1.Bridge,{open:d,onClose:f,onExited:()=>{u?.(),m()},...n})})});const a=n.variant==="basic"?2e3:2300;e.current=setTimeout(()=>{t()},a)},200)},[t,r]),o=(0,react_1.useMemo)(()=>({close:t,open:c}),[t,c]);return(0,react_1.useEffect)(()=>()=>{s&&o?.close()},[s,o]),o}
