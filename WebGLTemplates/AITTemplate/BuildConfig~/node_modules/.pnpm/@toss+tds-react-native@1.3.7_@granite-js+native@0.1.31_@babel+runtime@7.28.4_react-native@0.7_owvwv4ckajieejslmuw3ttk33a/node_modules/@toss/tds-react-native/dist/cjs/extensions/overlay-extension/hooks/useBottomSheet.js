"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useBottomSheet=useBottomSheet;const jsx_runtime_1=require("react/jsx-runtime"),core_1=require("../../../core"),bottom_sheet_1=require("../../../components/bottom-sheet"),react_1=require("react"),CapturePress_1=require("../components/CapturePress"),react_native_1=require("react-native");function useBottomSheet(u={}){const e=(0,core_1.useOverlay)(),o=(0,react_1.useCallback)(()=>e.close(),[e]),n=(0,react_1.useCallback)(({header:l,cta:r,onExited:a,onClose:i,...m})=>e.open(({isOpen:p,exit:_,close:h})=>{const s=()=>{i?.(),h()};return(0,jsx_runtime_1.jsx)(bottom_sheet_1.BottomSheet.Root,{...m,header:l,open:p,cta:(0,react_1.isValidElement)(r)?(0,jsx_runtime_1.jsx)(CapturePress_1.CapturePress,{onPress:s,children:r}):(0,jsx_runtime_1.jsx)(react_native_1.Pressable,{onPress:s,children:r}),onClose:s,onExited:()=>{a?.(),_()}})}),[e]),t=(0,react_1.useMemo)(()=>({close:o,open:n}),[o,n]),{closeOnDestroy:c=!0}=u;return(0,react_1.useEffect)(()=>()=>{c&&t?.close()},[c,t]),t}
