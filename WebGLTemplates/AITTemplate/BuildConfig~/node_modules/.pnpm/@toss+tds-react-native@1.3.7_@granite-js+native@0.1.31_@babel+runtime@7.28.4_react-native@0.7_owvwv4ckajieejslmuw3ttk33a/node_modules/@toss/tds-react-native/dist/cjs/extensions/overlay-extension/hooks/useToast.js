"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useToast=useToast;const jsx_runtime_1=require("react/jsx-runtime"),core_1=require("../../../core"),react_1=require("react"),toast_1=require("../../../components/toast");function useToast(i={}){const e=(0,core_1.useOverlay)(),s=(0,react_1.useCallback)(()=>e.close(),[e]),r=(0,react_1.useCallback)((l,{duration:T,button:o,type:d="bottom",lottie:c,icon:u,iconType:a,onExited:x,onClose:f,...p}={})=>e.open(({isOpen:j,exit:_,close:m})=>{const y=()=>{f?.(),m()};return(0,jsx_runtime_1.jsx)(toast_1.Toast,{...p,text:l,open:j,position:d,button:o?(0,jsx_runtime_1.jsx)(toast_1.Toast.Button,{onPress:o.onPress,children:o.text}):void 0,icon:c?(0,jsx_runtime_1.jsx)(toast_1.Toast.LottieIcon,{src:c,style:{borderRadius:a==="circle"?9999:void 0,overflow:"hidden"}}):u?(0,jsx_runtime_1.jsx)(toast_1.Toast.Icon,{name:u,type:a==="circle"?"circle":"default"}):void 0,onClose:y,onExited:()=>{x?.(),_()}})}),[e]),t=(0,react_1.useMemo)(()=>({close:s,open:r}),[s,r]),{closeOnDestroy:n=!0}=i;return(0,react_1.useEffect)(()=>()=>{n&&t?.close()},[n,t]),t}
