"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabItem=TabItem;const jsx_runtime_1=require("react/jsx-runtime"),core_1=require("../../core"),txt_1=require("../../components/txt"),react_1=require("react"),react_native_1=require("react-native"),const_1=require("./const"),Gradient_1=require("./Gradient"),TabsContext_1=require("./TabsContext");function TabItem({redBean:d=!1,value:t,children:_,style:g,onPress:s,tabIndex:e}){const{fluid:o,value:a,onChange:l,pagerViewRef:n,setTabWidthMap:c}=(0,TabsContext_1.useTabs)(),r=(0,react_1.useMemo)(()=>t===a,[t,a]),u=(0,core_1.useAdaptive)(),h=(0,react_1.useCallback)(i=>{s?.(i),l?.(t,e),e!=null&&n?.current!=null&&n.current.setPage(e)},[l,s,n,e,t]);return(0,jsx_runtime_1.jsxs)(react_native_1.Pressable,{accessibilityRole:"tab",accessibilityState:{selected:r},onPress:h,style:[styles.container,o?styles.fluidContainer:{},g],onLayout:i=>{const p=i.nativeEvent.layout;c!=null&&e!=null&&c(y=>({...y,[e]:p}))},children:[(0,jsx_runtime_1.jsx)(txt_1.Txt,{numberOfLines:1,ellipsizeMode:"clip",typography:"st9",fontWeight:r?"bold":"semiBold",color:r?u.grey800:u.grey600,children:_}),o?null:(0,jsx_runtime_1.jsx)(react_native_1.View,{style:styles.gradientContainer,children:(0,jsx_runtime_1.jsx)(Gradient_1.Gradient,{})}),d?(0,jsx_runtime_1.jsx)(react_native_1.View,{style:styles.redBean}):null]})}const MIN_WIDTH=40,styles=react_native_1.StyleSheet.create({container:{flex:1,alignItems:"center",justifyContent:"center",paddingVertical:12,minWidth:MIN_WIDTH,marginHorizontal:const_1.TAB_ITEM_HORIZONTAL_MARGIN},fluidContainer:{marginHorizontal:const_1.FLUID_TAB_ITEM_HORIZONTAL_MARGIN},gradientContainer:{position:"absolute",top:0,right:-1,height:"100%"},redBean:{position:"absolute",top:4,right:0,width:6,height:6,borderRadius:3,backgroundColor:"#f44336"}});
