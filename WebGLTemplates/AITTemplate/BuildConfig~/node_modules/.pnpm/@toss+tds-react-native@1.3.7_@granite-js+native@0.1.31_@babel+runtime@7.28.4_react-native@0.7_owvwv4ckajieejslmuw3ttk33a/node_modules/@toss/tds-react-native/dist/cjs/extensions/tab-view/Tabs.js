"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tabs=Tabs;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),utils_1=require("../../utils"),IndicatorProvider_1=require("./IndicatorProvider"),TabItem_1=require("./TabItem"),TabsContext_1=require("./TabsContext"),TabsList_1=require("./TabsList"),TabsViews_1=require("./TabsViews"),TabView_1=require("./TabView"),getTabData_1=require("./utils/getTabData");function Tabs({fluid:b,defaultValue:r,value:l,children:a,onChange:o}){const[T,u]=(0,utils_1.useControlled)({controlledValue:l,defaultValue:r}),d=(0,react_1.useRef)(null),[x,I]=(0,react_1.useState)({}),s=(0,react_1.useMemo)(()=>(0,getTabData_1.getTabData)(a),[a]),c=s.findIndex(e=>e.value===r),[_,v]=(0,react_1.useState)(c),n=(0,react_1.useCallback)((e,t)=>{o?.(e,t),u(e),v(t)},[o,u]),V=(0,react_1.useCallback)(e=>{const t=e.nativeEvent.position,i=s.find(q=>q.tabIndex===t);i!=null&&n(i.value,i.tabIndex)},[n,s]);return(0,jsx_runtime_1.jsx)(TabsContext_1.TabsContext.Provider,{value:{fluid:b,value:T,tabLayoutMap:x,setTabWidthMap:I,onChange:n,onPageSelected:V,initialTabIndex:c,pagerViewRef:d,tabIndex:_},children:(0,jsx_runtime_1.jsx)(IndicatorProvider_1.IndicatorProvider,{children:a})})}Tabs.TabList=TabsList_1.TabsList,Tabs.TabItem=TabItem_1.TabItem,Tabs.ViewList=TabsViews_1.TabsViewList,Tabs.View=TabView_1.TabView;
