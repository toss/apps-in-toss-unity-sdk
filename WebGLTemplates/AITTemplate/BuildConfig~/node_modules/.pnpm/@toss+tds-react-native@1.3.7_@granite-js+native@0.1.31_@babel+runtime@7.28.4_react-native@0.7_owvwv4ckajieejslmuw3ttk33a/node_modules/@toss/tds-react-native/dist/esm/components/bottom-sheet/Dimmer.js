"use strict";import{jsx as l}from"react/jsx-runtime";import{colors as p}from"@toss/tds-colors";import{spring as o}from"@toss/tds-easings";import{forwardRef as f,useEffect as d,useImperativeHandle as k,useRef as v}from"react";import{Animated as r,Pressable as g,StyleSheet as h,useWindowDimensions as D}from"react-native";import{useColorPreference as b}from"../../core";const i={light:{normal:.2,darker:.4},dark:{normal:.56,darker:.8}},q=r.createAnimatedComponent(g);export const BottomSheetDimmer=f(function({open:n,onPress:s},a){const{width:m,height:u}=D(),{colorPreference:t}=b(),e=v(new r.Value(0)).current;return d(()=>{if(n)return r.spring(e,{toValue:i[t].normal,useNativeDriver:!0,...o.quick}).start(),()=>{requestAnimationFrame(()=>r.spring(e,{toValue:0,useNativeDriver:!0,...o.quick}).start())}},[t,e,n]),k(a,()=>({darken:()=>{r.spring(e,{toValue:i[t].darker,useNativeDriver:!0,...o.quick}).start()},lighten:c=>{r.spring(e,{toValue:i[t].normal*(1-c),useNativeDriver:!0,...o.quick}).start()},reset:()=>{r.spring(e,{toValue:i[t].normal,useNativeDriver:!0,...o.quick}).start()}}),[t,e]),l(q,{pointerEvents:n?void 0:"none",onPress:s,style:[y.container,{opacity:e},{width:m,height:u}]})});const y=h.create({container:{position:"absolute",top:0,left:0,bottom:0,right:0,backgroundColor:p.black,opacity:0}});
