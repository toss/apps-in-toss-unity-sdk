"use strict";import{jsx as e,Fragment as g,jsxs as h}from"react/jsx-runtime";import{Gesture as y,GestureDetector as j}from"@granite-js/native/react-native-gesture-handler";import{Stack as C}from"@granite-js/react-native";import{Children as u,isValidElement as c,useMemo as A}from"react";import{Animated as I,View as w}from"react-native";import{useSnapAnimation as S}from"./animations/snap";import{CarouselItem as V}from"./CarouselItem";export function Carousel({children:o,itemWidth:n=280,itemGap:i=12,padding:m=24,renderIndicators:f}){const a=u.toArray(o).filter(t=>c(t)).length,r=A(()=>({itemsCount:a,itemGap:i,itemWidth:n,padding:m}),[i,n,a,m]),s=S(r),p=y.Simultaneous(s.gesture),x={transform:[...s.transforms]},l=u.toArray(o).filter(t=>c(t)).map((t,d)=>e(w,{style:{width:r.itemWidth},children:t},d));return h(g,{children:[e(j,{gesture:p,children:e(I.View,{style:x,children:e(C.Horizontal,{gutter:r.itemGap,align:"flex-start",justify:"center",children:l})})}),f?.({activeIndex:s.activeIndex,itemsCount:l.length})]})}Carousel.Item=V;
