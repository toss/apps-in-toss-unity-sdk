"use strict";import{jsx as t,jsxs as r,Fragment as x}from"react/jsx-runtime";import{forwardRef as U,useCallback as C,useEffect as q,useImperativeHandle as G,useMemo as A,useRef as J,useState as K}from"react";import{Platform as N,StyleSheet as Q,TouchableHighlight as X,useWindowDimensions as Y,View as u}from"react-native";import{useAdaptive as Z,useColorPreference as $,useTypographyTheme as ee}from"../../core";import{Animated as te}from"../../interactions/animated";import{PressableEffect as D}from"../../interactions/pressable-effect";import{ListRowDisabled as H}from"./ListRowDisabled";import{ListRowRightArrow as ne}from"./ListRowRightArrow";import{BlinkEffect as ie}from"./animation/BlinkEffect";import{ShineEffect as E}from"./animation/ShineEffect";import{sToMs as re}from"./animation/sToMs";import{useBlinkAnimation as oe}from"./animation/useBlinkAnimation";import{useShineAnimation as ae}from"./animation/useShineAnimation";import{generateA11yRestProps as se}from"../../utils/a11y";export const ListRow=U(function({left:f,right:n,contents:d,withArrow:S=!1,horizontalPadding:I,verticalPadding:L=24,leftAlignment:R="center",rightAlignment:k="center",onPress:m,containerStyle:T,style:W,preferReducedMotion:B=!1,disabled:i,disabledStyle:h="type1",...M},_){const{colorPreference:V}=$(),b=Z(),j=le(),P=A(()=>{switch(L){case"extraSmall":case 8:return 8;case"small":case 16:return 16;case"medium":case 24:return 24;case"large":case 32:return 32}},[L]),[z,y]=K({width:0,height:0}),s=oe({containerSize:z}),l=ae({containerSize:z}),c=J(null),F=C((e=1.5)=>{s.start(),c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{s.exit(),c.current=null},re(e))},[s]);q(()=>()=>{c.current&&clearTimeout(c.current)},[]);const O=C((e=1)=>{V==="light"?l.light.start(e):l.dark.start(e)},[V,l]);G(_,()=>({blink:F,shine:O}));const p=A(()=>r(te.View,{pointerEvents:i?"none":void 0,style:[{paddingVertical:P,position:"relative"},o.container,T,s.container],children:[t(ie,{blinkAnimation:s}),f!=null?t(u,{style:[o.left,R==="top"?{alignSelf:"flex-start"}:void 0],children:f}):void 0,j?r(u,{style:[o.content],children:[d,n!==void 0&&t(u,{style:[o.rightVertical],children:n})]}):r(x,{children:[d!==void 0&&t(u,{style:o.content,children:d}),n!==void 0&&t(u,{style:[o.right,k==="top"?{alignItems:"flex-start"}:void 0],children:n})]}),S&&t(ne,{})]}),[i,P,T,s,f,R,j,d,n,k,S]),g=A(()=>r(x,{children:[i&&h==="type1"?t(H.Style1,{}):void 0,i&&h==="type2"?t(H.Style2,{}):void 0]}),[i,h]),w=[W,I===0?{marginHorizontal:-24}:void 0,{overflow:"hidden"}],v=se(M,{role:m==null?void 0:"button",disabled:i});return B?m==null?r(u,{...v,onLayout:e=>{y({width:e.nativeEvent.layout.width,height:e.nativeEvent.layout.height})},style:w,children:[p,t(E,{shineAnimation:l}),g]}):t(X,{...v,onLayout:e=>{y({width:e.nativeEvent.layout.width,height:e.nativeEvent.layout.height})},onPress:i?void 0:m,underlayColor:b.greyOpacity100,style:w,children:r(x,{children:[p,t(E,{shineAnimation:l}),g]})}):r(D,{...v,onLayout:e=>{y({width:e.nativeEvent.layout.width,height:e.nativeEvent.layout.height})},underlay:t(D.Underlay,{style:o.underlay}),style:w,onPress:i?void 0:m,children:[p,t(E,{shineAnimation:l}),g]})});const le=()=>{const{typographyLevel:a}=ee(),{width:f}=Y(),n=N.OS==="android";return f>=560?n?a>=200:a?.startsWith("A11y")&&a!=="A11y_Medium":n?a>=135:a?.startsWith("A11y")},o=Q.create({underlay:{marginHorizontal:6,marginVertical:4,borderRadius:12},container:{flexDirection:"row",alignItems:"center",paddingHorizontal:24},content:{flex:1,justifyContent:"center"},left:{flexDirection:"row"},right:{marginLeft:16,height:"100%",flexDirection:"row",alignItems:"center",maxWidth:"80%",justifyContent:"flex-end"},rightVertical:{maxWidth:"100%",width:"100%",marginLeft:0}});
