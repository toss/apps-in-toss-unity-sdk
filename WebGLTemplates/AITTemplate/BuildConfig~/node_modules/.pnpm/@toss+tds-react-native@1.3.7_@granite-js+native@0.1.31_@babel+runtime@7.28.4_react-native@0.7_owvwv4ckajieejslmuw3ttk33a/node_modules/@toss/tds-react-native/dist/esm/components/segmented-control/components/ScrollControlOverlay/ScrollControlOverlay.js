"use strict";import{jsx as n,Fragment as a,jsxs as l}from"react/jsx-runtime";import{useContext as y,useEffect as c,useRef as S,useState as u}from"react";import{Animated as s}from"react-native";import{SPRING_OPTION as b}from"../../constants/spring";import{ScrollContext as j}from"../../contexts/ScrollContext";import{LeftEdgeGradient as C,RightEdgeGradient as E}from"./EdgeGradient";import{PreviousButton as P}from"./PreviousButton";export function ScrollControlOverlay(){const{ref:f,scrollHandlers:o}=y(j),[t,m]=u(!1),[d,p]=u(!1),e=S(new s.Value(0)).current,g=e.interpolate({inputRange:[0,1],outputRange:[-5,0]});c(()=>{function x(r){const v=r.nativeEvent.contentSize.width,R=r.nativeEvent.contentOffset.x,w=r.nativeEvent.layoutMeasurement.width,i=R/Math.max(0,v-w);m(i>.05),p(i<=.95)}return o.add(x),()=>{o.clear()}},[o]);const h=()=>{f?.current?.scrollTo({x:0})};return c(()=>()=>{s.spring(e,{toValue:t?0:1,useNativeDriver:!0,...b}).start()},[e,t]),l(a,{children:[l(a,{children:[n(C,{exiting:t}),n(s.View,{pointerEvents:t?"auto":"none",style:[I,{transform:[{translateX:g}],opacity:e}],children:n(P,{onPress:h})})]}),n(E,{exiting:d})]})}const I={zIndex:1,position:"absolute",left:0,top:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"};
