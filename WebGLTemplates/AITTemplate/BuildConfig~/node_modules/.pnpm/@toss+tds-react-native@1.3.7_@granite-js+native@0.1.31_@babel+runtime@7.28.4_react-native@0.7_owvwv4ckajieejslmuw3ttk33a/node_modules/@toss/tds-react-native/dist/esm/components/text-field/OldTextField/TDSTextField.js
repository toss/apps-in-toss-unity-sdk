"use strict";import{jsx as o,jsxs as b}from"react/jsx-runtime";import{forwardRef as j,useState as B}from"react";import{Pressable as R,TextInput as z}from"react-native";import{useAdaptive as E,useTypographyTheme as O}from"../../../core";import{Icon as M}from"../../icon";import{useElementStyle as N}from"./hooks";import{TDSTextFieldContainer as P}from"./TDSTextFieldContainer";import{TDSTextFieldContent as v}from"./TDSTextFieldContent";import{getState as L}from"./utils";const U="TDSCommonInputAccessoryViewID";export const TDSTextField=j(function({label:d,helpText:y,error:s,size:r,style:S,disabled:e=!1,leftItem:i,rightItem:c,onFocus:h,onBlur:x,placeholder:g,editable:a=!0,clearable:D=!1,textInputStyle:I,value:l,onClear:C,contentStyle:F,...m},_){const[t,f]=B(!1),p=l!=null&&l.length>0,w=L({disabled:e,focus:t,error:s}),u=N(r,w),T=E(),{typography:A}=O(),V=(a?p&&t:p)&&D;return o(P,{label:d,helpText:y,error:s,focus:t,size:r,style:S,disabled:e,children:b(v,{disabled:e,focus:t,error:s,size:r,leftItem:i,rightItem:c,style:F,children:[o(z,{allowFontScaling:!1,style:[{flex:1,marginLeft:i?8:0,marginRight:c?8:0,textAlignVertical:"center",padding:0,fontSize:A.st10.fontSize},u.input,{color:u.input.color},I],ref:_,placeholder:g,placeholderTextColor:T.grey500,editable:!!(a&&!e),onFocus:n=>{f(!0),h?.(n)},onBlur:n=>{f(!1),x?.(n)},value:l,...m,inputAccessoryViewID:m.inputAccessoryViewID??U}),V?o(R,{accessibilityRole:"button",onPress:()=>{C?.()},children:o(M,{color:T.grey400,name:"icn-delete",size:20})}):null]})})});
