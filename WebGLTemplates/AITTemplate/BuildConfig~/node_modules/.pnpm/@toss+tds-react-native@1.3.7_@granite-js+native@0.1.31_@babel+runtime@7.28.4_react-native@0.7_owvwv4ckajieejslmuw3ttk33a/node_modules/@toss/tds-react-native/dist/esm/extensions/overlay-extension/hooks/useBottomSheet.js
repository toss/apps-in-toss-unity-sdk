"use strict";import{jsx as s}from"react/jsx-runtime";import{useOverlay as C}from"../../../core";import{BottomSheet as P}from"../../../components/bottom-sheet";import{isValidElement as y,useCallback as c,useEffect as E,useMemo as b}from"react";import{CapturePress as j}from"../components/CapturePress";import{Pressable as v}from"react-native";export function useBottomSheet(i={}){const e=C(),n=c(()=>e.close(),[e]),l=c(({header:u,cta:r,onExited:p,onClose:f,...a})=>e.open(({isOpen:d,exit:h,close:x})=>{const t=()=>{f?.(),x()};return s(P.Root,{...a,header:u,open:d,cta:y(r)?s(j,{onPress:t,children:r}):s(v,{onPress:t,children:r}),onClose:t,onExited:()=>{p?.(),h()}})}),[e]),o=b(()=>({close:n,open:l}),[n,l]),{closeOnDestroy:m=!0}=i;return E(()=>()=>{m&&o?.close()},[m,o]),o}
