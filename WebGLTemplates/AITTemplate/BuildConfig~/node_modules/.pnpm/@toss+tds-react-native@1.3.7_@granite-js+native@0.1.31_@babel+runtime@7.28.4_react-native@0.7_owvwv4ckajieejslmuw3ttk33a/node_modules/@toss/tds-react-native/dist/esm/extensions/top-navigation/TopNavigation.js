"use strict";import{jsx as o,jsxs as a,Fragment as v}from"react/jsx-runtime";import{useNavigation as T}from"@granite-js/native/@react-navigation/native";import{closeView as k}from"@granite-js/react-native";import{colors as p}from"@toss/tds-colors";import{useLayoutEffect as F}from"react";import{View as n}from"react-native";import{Navigation as N,NavigationBackButton as P,NavigationContent as w,NavigationLeft as _,NavigationRight as x,NavigationTitleIcon as y,NavigationTitleText as E}from"../navigation";import{tdsEvent as I}from"../partner-navigation/event";import{IconButton as h}from"./IconButton";const b=157,L=b+44+4;export function TopNavigation({title:i,icon:e,onPressTitle:r,onPressDots:t,onPressClose:c,fixedRightButton:l,children:d,withHome:u=!1,contentVisible:g=!0,theme:s="light",leftVisible:C=!0}){const m=T(),f=m.canGoBack();return F(()=>{if(!g){m.setOptions({headerBackVisible:!1,headerTitle:()=>null,headerLeft:()=>null});return}},[g,m]),a(N,{children:[g&&a(v,{children:[o(_,{visible:C,children:o(P,{theme:s,canGoBack:f})}),a(w,{onPressTitle:r,horizontalSafeMargin:l!=null?L:b,withHome:u,theme:s,leftVisible:C,children:[o(y,{...e}),i!=null&&o(E,{theme:s,children:i}),u&&o(y,{name:"icon-home-mono"})]})]}),o(x,{children:o(NavigationRightContent,{fixedRightButton:l,onPressDots:t,onPressClose:c,theme:s})}),d]})}export const COLOR_PALETTE={light:{titleTextColor:"#191F28",backgroundColor:p.greyOpacity50,iconTintColor:p.greyOpacity600,dividerColor:p.greyOpacity200},dark:{titleTextColor:"#FFFFFF",backgroundColor:"rgba(2, 3, 7, 0.58)",iconTintColor:"rgba(253, 253, 255, 0.75))",dividerColor:"rgba(222, 222, 255, 0.19)"}};export function NavigationRightContent({fixedRightButton:i,onPressDots:e,onPressClose:r,theme:t="light",...c}){const{style:l,...d}=c;return a(n,{style:[{flexDirection:"row",gap:4},l],...d,children:[i!=null?o(n,{style:{borderRadius:99,overflow:"hidden"},children:o(h,{name:i.icon.name??"",accessibilityLabel:i.title,onPress:()=>{i.onPress?.(),I.emit("navigationAccessoryEvent",{id:i.id})},style:{paddingVertical:7,paddingHorizontal:12,backgroundColor:COLOR_PALETTE[t].backgroundColor},color:COLOR_PALETTE[t].iconTintColor,disabled:i.disabled})}):o(n,{style:{width:44,height:34}}),o(CloseWithDotsMono,{onPressDots:e,onPressClose:r,theme:t})]})}export function CloseWithDotsMono({onPressDots:i,onPressClose:e=k,theme:r="light"}){return o(n,{style:{borderRadius:99,overflow:"hidden"},children:a(n,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:12,height:34,paddingHorizontal:12,backgroundColor:COLOR_PALETTE[r].backgroundColor},children:[o(h,{name:"icon-dots-mono",accessibilityLabel:"\uB354\uBCF4\uAE30",onPress:i,color:COLOR_PALETTE[r].iconTintColor}),o(n,{style:{width:1,height:16,backgroundColor:COLOR_PALETTE[r].dividerColor}}),o(h,{name:"icon-appsintoss-close-mono",accessibilityLabel:"\uB2EB\uAE30",color:COLOR_PALETTE[r].iconTintColor,onPress:()=>{e()}})]})})}
