"use strict";import{jsx as s,Fragment as A,jsxs as O}from"react/jsx-runtime";import{cloneElement as g,forwardRef as f,useCallback as m}from"react";import{Animated as j,Pressable as x,StyleSheet as E,TouchableOpacity as I,View as w}from"react-native";import{Prerender as R}from"./Prerender";import{PressableUnderlay as u}from"./PressableUnderlay";import{usePressAnim as F}from"./usePressAnim";import{generateA11yRestProps as S}from"../../utils/a11y";const U=f((e,r)=>e.onPress==null?s(w,{ref:r,...e,children:e.children}):s(R,{initial:s(V,{onPress:e.onPress,children:e.children,style:e.style}),children:s(_,{ref:r,...e})})),V=({onPress:e,style:r,children:n})=>s(I,{role:e!=null?"button":void 0,style:r,onPress:e,children:n}),_=f(({children:e,underlay:r=s(u,{style:k.underlay}),style:n,onPress:t,onPressIn:i,onPressOut:o,...y},d)=>{const{scaleAnim:P,opacityAnim:b,startPressInAnim:a,startPressOutAnim:c}=F({pressIn:{scale:.96,opacity:1},pressOut:{scale:1,opacity:0}}),h=m(l=>{i?.(l),t!=null&&a()},[i,t,a]),p=m(l=>{o?.(l),t!=null&&c()},[o,t,c]);return s(x,{ref:d,onPress:t,onPressIn:h,onPressOut:p,style:n,...S(y,{role:"button"}),children:s(j.View,{style:{transform:[{scale:P}]},children:O(A,{children:[r!=null?g(r,{...r.props,style:[r.props.style,{opacity:b}]}):null,e]})})})}),k=E.create({underlay:{borderRadius:12}});export const PressableEffect=Object.assign(U,{Underlay:u});
