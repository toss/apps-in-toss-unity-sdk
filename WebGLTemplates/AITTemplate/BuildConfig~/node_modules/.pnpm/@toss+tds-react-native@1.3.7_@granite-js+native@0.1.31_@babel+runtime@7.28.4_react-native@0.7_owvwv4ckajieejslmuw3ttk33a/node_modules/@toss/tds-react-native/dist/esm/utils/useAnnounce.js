"use strict";import{useCallback as a}from"react";import{AccessibilityInfo as e}from"react-native";import{extractTextFromReactElement as l}from"./extractTextFromReactElement";export function useAnnounce(){return{announce:a(async(n,o={})=>{const{queue:s=!1,delay:i=0,onlyWhenScreenReaderEnabled:r=!0}=o;if(r&&!await e.isScreenReaderEnabled())return;const t=typeof n=="string"?n:l(n),c=()=>{e.announceForAccessibilityWithOptions?e.announceForAccessibilityWithOptions(t,{queue:s}):e.announceForAccessibility&&e.announceForAccessibility(t)};i>0?setTimeout(c,i):c()},[])}}
