{"version":3,"file":"backend.js","mappings":"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","sources":["webpack://react-devtools-inline/../../node_modules/lodash.throttle/index.js","webpack://react-devtools-inline/../../node_modules/lru-cache/index.js","webpack://react-devtools-inline/../../node_modules/process/browser.js","webpack://react-devtools-inline/../../node_modules/pseudomap/map.js","webpack://react-devtools-inline/../../node_modules/pseudomap/pseudomap.js","webpack://react-devtools-inline/../../node_modules/util/node_modules/inherits/inherits_browser.js","webpack://react-devtools-inline/../../node_modules/util/support/isBufferBrowser.js","webpack://react-devtools-inline/../../node_modules/util/util.js","webpack://react-devtools-inline/../../node_modules/yallist/yallist.js","webpack://react-devtools-inline/../react-debug-tools/node_modules/error-stack-parser/error-stack-parser.js","webpack://react-devtools-inline/../react-debug-tools/node_modules/stackframe/stackframe.js","webpack://react-devtools-inline/webpack/bootstrap","webpack://react-devtools-inline/webpack/runtime/compat get default export","webpack://react-devtools-inline/webpack/runtime/define property getters","webpack://react-devtools-inline/webpack/runtime/hasOwnProperty shorthand","webpack://react-devtools-inline/webpack/runtime/make namespace object","webpack://react-devtools-inline/../react-devtools-shared/src/events.js","webpack://react-devtools-inline/../react-devtools-shared/src/constants.js","webpack://react-devtools-inline/../react-devtools-shared/src/storage.js","webpack://react-devtools-inline/../../node_modules/memoize-one/esm/index.js","webpack://react-devtools-inline/../../src/index.ts","webpack://react-devtools-inline/external commonjs2 \"react-is\"","webpack://react-devtools-inline/../shared/ReactFeatureFlags.js","webpack://react-devtools-inline/../shared/ReactSymbols.js","webpack://react-devtools-inline/../react-devtools-shared/src/frontend/types.js","webpack://react-devtools-inline/../react-devtools-shared/src/isArray.js","webpack://react-devtools-inline/../react-devtools-shared/src/utils.js","webpack://react-devtools-inline/../react-devtools-shared/src/hydration.js","webpack://react-devtools-inline/../shared/isArray.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/utils.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/views/utils.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/views/Highlighter/Overlay.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/views/Highlighter/Highlighter.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/views/Highlighter/index.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/views/TraceUpdates/canvas.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/views/TraceUpdates/index.js","webpack://react-devtools-inline/../shared/assign.js","webpack://react-devtools-inline/external commonjs2 \"react\"","webpack://react-devtools-inline/../shared/ReactSharedInternals.js","webpack://react-devtools-inline/../react-reconciler/src/ReactWorkTags.js","webpack://react-devtools-inline/../shared/hasOwnProperty.js","webpack://react-devtools-inline/../react-debug-tools/src/ReactDebugHooks.js","webpack://react-devtools-inline/../react-debug-tools/src/ReactDebugTools.js","webpack://react-devtools-inline/../react-debug-tools/index.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/ReactSymbols.js","webpack://react-devtools-inline/../react-devtools-shared/src/config/DevToolsFeatureFlags.default.js","webpack://react-devtools-inline/../shared/objectIs.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/StyleX/utils.js","webpack://react-devtools-inline/../react-devtools-shared/src/devtools/constants.js","webpack://react-devtools-inline/../react-devtools-timeline/src/constants.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/DevToolsConsolePatching.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/DevToolsComponentStackFrame.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/DevToolsFiberComponentStack.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/profilingHooks.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/renderer.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/console.js","webpack://react-devtools-inline/../react-devtools-shared/src/bridge.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/agent.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/legacy/utils.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/legacy/renderer.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/index.js","webpack://react-devtools-inline/../react-devtools-shared/src/hook.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/NativeStyleEditor/resolveBoxStyle.js","webpack://react-devtools-inline/../react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor.js","webpack://react-devtools-inline/./src/backend.js"],"sourcesContent":["/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","'use strict'\n\nmodule.exports = LRUCache\n\n// This will be a proper iterable 'Map' in engines that support it,\n// or a fakey-fake PseudoMap in older versions.\nvar Map = require('pseudomap')\nvar util = require('util')\n\n// A linked list to keep track of recently-used-ness\nvar Yallist = require('yallist')\n\n// use symbols if possible, otherwise just _props\nvar hasSymbol = typeof Symbol === 'function' && process.env._nodeLRUCacheForceNoSymbol !== '1'\nvar makeSymbol\nif (hasSymbol) {\n  makeSymbol = function (key) {\n    return Symbol(key)\n  }\n} else {\n  makeSymbol = function (key) {\n    return '_' + key\n  }\n}\n\nvar MAX = makeSymbol('max')\nvar LENGTH = makeSymbol('length')\nvar LENGTH_CALCULATOR = makeSymbol('lengthCalculator')\nvar ALLOW_STALE = makeSymbol('allowStale')\nvar MAX_AGE = makeSymbol('maxAge')\nvar DISPOSE = makeSymbol('dispose')\nvar NO_DISPOSE_ON_SET = makeSymbol('noDisposeOnSet')\nvar LRU_LIST = makeSymbol('lruList')\nvar CACHE = makeSymbol('cache')\n\nfunction naiveLength () { return 1 }\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nfunction LRUCache (options) {\n  if (!(this instanceof LRUCache)) {\n    return new LRUCache(options)\n  }\n\n  if (typeof options === 'number') {\n    options = { max: options }\n  }\n\n  if (!options) {\n    options = {}\n  }\n\n  var max = this[MAX] = options.max\n  // Kind of weird to have a default max of Infinity, but oh well.\n  if (!max ||\n      !(typeof max === 'number') ||\n      max <= 0) {\n    this[MAX] = Infinity\n  }\n\n  var lc = options.length || naiveLength\n  if (typeof lc !== 'function') {\n    lc = naiveLength\n  }\n  this[LENGTH_CALCULATOR] = lc\n\n  this[ALLOW_STALE] = options.stale || false\n  this[MAX_AGE] = options.maxAge || 0\n  this[DISPOSE] = options.dispose\n  this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n  this.reset()\n}\n\n// resize the cache when the max changes.\nObject.defineProperty(LRUCache.prototype, 'max', {\n  set: function (mL) {\n    if (!mL || !(typeof mL === 'number') || mL <= 0) {\n      mL = Infinity\n    }\n    this[MAX] = mL\n    trim(this)\n  },\n  get: function () {\n    return this[MAX]\n  },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'allowStale', {\n  set: function (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  },\n  get: function () {\n    return this[ALLOW_STALE]\n  },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'maxAge', {\n  set: function (mA) {\n    if (!mA || !(typeof mA === 'number') || mA < 0) {\n      mA = 0\n    }\n    this[MAX_AGE] = mA\n    trim(this)\n  },\n  get: function () {\n    return this[MAX_AGE]\n  },\n  enumerable: true\n})\n\n// resize the cache when the lengthCalculator changes.\nObject.defineProperty(LRUCache.prototype, 'lengthCalculator', {\n  set: function (lC) {\n    if (typeof lC !== 'function') {\n      lC = naiveLength\n    }\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(function (hit) {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      }, this)\n    }\n    trim(this)\n  },\n  get: function () { return this[LENGTH_CALCULATOR] },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'length', {\n  get: function () { return this[LENGTH] },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'itemCount', {\n  get: function () { return this[LRU_LIST].length },\n  enumerable: true\n})\n\nLRUCache.prototype.rforEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this[LRU_LIST].tail; walker !== null;) {\n    var prev = walker.prev\n    forEachStep(this, fn, walker, thisp)\n    walker = prev\n  }\n}\n\nfunction forEachStep (self, fn, node, thisp) {\n  var hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE]) {\n      hit = undefined\n    }\n  }\n  if (hit) {\n    fn.call(thisp, hit.value, hit.key, self)\n  }\n}\n\nLRUCache.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this[LRU_LIST].head; walker !== null;) {\n    var next = walker.next\n    forEachStep(this, fn, walker, thisp)\n    walker = next\n  }\n}\n\nLRUCache.prototype.keys = function () {\n  return this[LRU_LIST].toArray().map(function (k) {\n    return k.key\n  }, this)\n}\n\nLRUCache.prototype.values = function () {\n  return this[LRU_LIST].toArray().map(function (k) {\n    return k.value\n  }, this)\n}\n\nLRUCache.prototype.reset = function () {\n  if (this[DISPOSE] &&\n      this[LRU_LIST] &&\n      this[LRU_LIST].length) {\n    this[LRU_LIST].forEach(function (hit) {\n      this[DISPOSE](hit.key, hit.value)\n    }, this)\n  }\n\n  this[CACHE] = new Map() // hash of items by key\n  this[LRU_LIST] = new Yallist() // list of items in order of use recency\n  this[LENGTH] = 0 // length of items in the list\n}\n\nLRUCache.prototype.dump = function () {\n  return this[LRU_LIST].map(function (hit) {\n    if (!isStale(this, hit)) {\n      return {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }\n    }\n  }, this).toArray().filter(function (h) {\n    return h\n  })\n}\n\nLRUCache.prototype.dumpLru = function () {\n  return this[LRU_LIST]\n}\n\n/* istanbul ignore next */\nLRUCache.prototype.inspect = function (n, opts) {\n  var str = 'LRUCache {'\n  var extras = false\n\n  var as = this[ALLOW_STALE]\n  if (as) {\n    str += '\\n  allowStale: true'\n    extras = true\n  }\n\n  var max = this[MAX]\n  if (max && max !== Infinity) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  max: ' + util.inspect(max, opts)\n    extras = true\n  }\n\n  var maxAge = this[MAX_AGE]\n  if (maxAge) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  maxAge: ' + util.inspect(maxAge, opts)\n    extras = true\n  }\n\n  var lc = this[LENGTH_CALCULATOR]\n  if (lc && lc !== naiveLength) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  length: ' + util.inspect(this[LENGTH], opts)\n    extras = true\n  }\n\n  var didFirst = false\n  this[LRU_LIST].forEach(function (item) {\n    if (didFirst) {\n      str += ',\\n  '\n    } else {\n      if (extras) {\n        str += ',\\n'\n      }\n      didFirst = true\n      str += '\\n  '\n    }\n    var key = util.inspect(item.key).split('\\n').join('\\n  ')\n    var val = { value: item.value }\n    if (item.maxAge !== maxAge) {\n      val.maxAge = item.maxAge\n    }\n    if (lc !== naiveLength) {\n      val.length = item.length\n    }\n    if (isStale(this, item)) {\n      val.stale = true\n    }\n\n    val = util.inspect(val, opts).split('\\n').join('\\n  ')\n    str += key + ' => ' + val\n  })\n\n  if (didFirst || extras) {\n    str += '\\n'\n  }\n  str += '}'\n\n  return str\n}\n\nLRUCache.prototype.set = function (key, value, maxAge) {\n  maxAge = maxAge || this[MAX_AGE]\n\n  var now = maxAge ? Date.now() : 0\n  var len = this[LENGTH_CALCULATOR](value, key)\n\n  if (this[CACHE].has(key)) {\n    if (len > this[MAX]) {\n      del(this, this[CACHE].get(key))\n      return false\n    }\n\n    var node = this[CACHE].get(key)\n    var item = node.value\n\n    // dispose of the old one before overwriting\n    // split out into 2 ifs for better coverage tracking\n    if (this[DISPOSE]) {\n      if (!this[NO_DISPOSE_ON_SET]) {\n        this[DISPOSE](key, item.value)\n      }\n    }\n\n    item.now = now\n    item.maxAge = maxAge\n    item.value = value\n    this[LENGTH] += len - item.length\n    item.length = len\n    this.get(key)\n    trim(this)\n    return true\n  }\n\n  var hit = new Entry(key, value, len, now, maxAge)\n\n  // oversized objects fall out of cache automatically.\n  if (hit.length > this[MAX]) {\n    if (this[DISPOSE]) {\n      this[DISPOSE](key, value)\n    }\n    return false\n  }\n\n  this[LENGTH] += hit.length\n  this[LRU_LIST].unshift(hit)\n  this[CACHE].set(key, this[LRU_LIST].head)\n  trim(this)\n  return true\n}\n\nLRUCache.prototype.has = function (key) {\n  if (!this[CACHE].has(key)) return false\n  var hit = this[CACHE].get(key).value\n  if (isStale(this, hit)) {\n    return false\n  }\n  return true\n}\n\nLRUCache.prototype.get = function (key) {\n  return get(this, key, true)\n}\n\nLRUCache.prototype.peek = function (key) {\n  return get(this, key, false)\n}\n\nLRUCache.prototype.pop = function () {\n  var node = this[LRU_LIST].tail\n  if (!node) return null\n  del(this, node)\n  return node.value\n}\n\nLRUCache.prototype.del = function (key) {\n  del(this, this[CACHE].get(key))\n}\n\nLRUCache.prototype.load = function (arr) {\n  // reset the cache\n  this.reset()\n\n  var now = Date.now()\n  // A previous serialized cache has the most recent items first\n  for (var l = arr.length - 1; l >= 0; l--) {\n    var hit = arr[l]\n    var expiresAt = hit.e || 0\n    if (expiresAt === 0) {\n      // the item was created without expiration in a non aged cache\n      this.set(hit.k, hit.v)\n    } else {\n      var maxAge = expiresAt - now\n      // dont add already expired items\n      if (maxAge > 0) {\n        this.set(hit.k, hit.v, maxAge)\n      }\n    }\n  }\n}\n\nLRUCache.prototype.prune = function () {\n  var self = this\n  this[CACHE].forEach(function (value, key) {\n    get(self, key, false)\n  })\n}\n\nfunction get (self, key, doUse) {\n  var node = self[CACHE].get(key)\n  if (node) {\n    var hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE]) hit = undefined\n    } else {\n      if (doUse) {\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    if (hit) hit = hit.value\n  }\n  return hit\n}\n\nfunction isStale (self, hit) {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE])) {\n    return false\n  }\n  var stale = false\n  var diff = Date.now() - hit.now\n  if (hit.maxAge) {\n    stale = diff > hit.maxAge\n  } else {\n    stale = self[MAX_AGE] && (diff > self[MAX_AGE])\n  }\n  return stale\n}\n\nfunction trim (self) {\n  if (self[LENGTH] > self[MAX]) {\n    for (var walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      var prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nfunction del (self, node) {\n  if (node) {\n    var hit = node.value\n    if (self[DISPOSE]) {\n      self[DISPOSE](hit.key, hit.value)\n    }\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\n// classy, since V8 prefers predictable objects.\nfunction Entry (key, value, length, now, maxAge) {\n  this.key = key\n  this.value = value\n  this.length = length\n  this.now = now\n  this.maxAge = maxAge || 0\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","if (process.env.npm_package_name === 'pseudomap' &&\n    process.env.npm_lifecycle_script === 'test')\n  process.env.TEST_PSEUDOMAP = 'true'\n\nif (typeof Map === 'function' && !process.env.TEST_PSEUDOMAP) {\n  module.exports = Map\n} else {\n  module.exports = require('./pseudomap')\n}\n","var hasOwnProperty = Object.prototype.hasOwnProperty\n\nmodule.exports = PseudoMap\n\nfunction PseudoMap (set) {\n  if (!(this instanceof PseudoMap)) // whyyyyyyy\n    throw new TypeError(\"Constructor PseudoMap requires 'new'\")\n\n  this.clear()\n\n  if (set) {\n    if ((set instanceof PseudoMap) ||\n        (typeof Map === 'function' && set instanceof Map))\n      set.forEach(function (value, key) {\n        this.set(key, value)\n      }, this)\n    else if (Array.isArray(set))\n      set.forEach(function (kv) {\n        this.set(kv[0], kv[1])\n      }, this)\n    else\n      throw new TypeError('invalid argument')\n  }\n}\n\nPseudoMap.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  Object.keys(this._data).forEach(function (k) {\n    if (k !== 'size')\n      fn.call(thisp, this._data[k].value, this._data[k].key)\n  }, this)\n}\n\nPseudoMap.prototype.has = function (k) {\n  return !!find(this._data, k)\n}\n\nPseudoMap.prototype.get = function (k) {\n  var res = find(this._data, k)\n  return res && res.value\n}\n\nPseudoMap.prototype.set = function (k, v) {\n  set(this._data, k, v)\n}\n\nPseudoMap.prototype.delete = function (k) {\n  var res = find(this._data, k)\n  if (res) {\n    delete this._data[res._index]\n    this._data.size--\n  }\n}\n\nPseudoMap.prototype.clear = function () {\n  var data = Object.create(null)\n  data.size = 0\n\n  Object.defineProperty(this, '_data', {\n    value: data,\n    enumerable: false,\n    configurable: true,\n    writable: false\n  })\n}\n\nObject.defineProperty(PseudoMap.prototype, 'size', {\n  get: function () {\n    return this._data.size\n  },\n  set: function (n) {},\n  enumerable: true,\n  configurable: true\n})\n\nPseudoMap.prototype.values =\nPseudoMap.prototype.keys =\nPseudoMap.prototype.entries = function () {\n  throw new Error('iterators are not implemented in this version')\n}\n\n// Either identical, or both NaN\nfunction same (a, b) {\n  return a === b || a !== a && b !== b\n}\n\nfunction Entry (k, v, i) {\n  this.key = k\n  this.value = v\n  this._index = i\n}\n\nfunction find (data, k) {\n  for (var i = 0, s = '_' + k, key = s;\n       hasOwnProperty.call(data, key);\n       key = s + i++) {\n    if (same(data[key].key, k))\n      return data[key]\n  }\n}\n\nfunction set (data, k, v) {\n  for (var i = 0, s = '_' + k, key = s;\n       hasOwnProperty.call(data, key);\n       key = s + i++) {\n    if (same(data[key].key, k)) {\n      data[key].value = v\n      return\n    }\n  }\n  data.size++\n  data[key] = new Entry(k, v, key)\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","module.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(,.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(').replace(/^.*?\\s+/, '');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\(.+\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                // if a location was matched, pass it to extractLocation() otherwise pass all sanitizedLine\n                // because this line doesn't have function name\n                var locationParts = this.extractLocation(location ? location[1] : sanitizedLine);\n                var functionName = location && sanitizedLine || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n    var objectProps = ['evalOrigin'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps, objectProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport default class EventEmitter<Events: Object> {\n  listenersMap: Map<string, Array<Function>> = new Map();\n\n  addListener<Event: $Keys<Events>>(\n    event: Event,\n    listener: (...$ElementType<Events, Event>) => any,\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners === undefined) {\n      this.listenersMap.set(event, [listener]);\n    } else {\n      const index = listeners.indexOf(listener);\n      if (index < 0) {\n        listeners.push(listener);\n      }\n    }\n  }\n\n  emit<Event: $Keys<Events>>(\n    event: Event,\n    ...args: $ElementType<Events, Event>\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      if (listeners.length === 1) {\n        // No need to clone or try/catch\n        const listener = listeners[0];\n        listener.apply(null, args);\n      } else {\n        let didThrow = false;\n        let caughtError = null;\n\n        const clonedListeners = Array.from(listeners);\n        for (let i = 0; i < clonedListeners.length; i++) {\n          const listener = clonedListeners[i];\n          try {\n            listener.apply(null, args);\n          } catch (error) {\n            if (caughtError === null) {\n              didThrow = true;\n              caughtError = error;\n            }\n          }\n        }\n\n        if (didThrow) {\n          throw caughtError;\n        }\n      }\n    }\n  }\n\n  removeAllListeners(): void {\n    this.listenersMap.clear();\n  }\n\n  removeListener(event: $Keys<Events>, listener: Function): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      const index = listeners.indexOf(listener);\n      if (index >= 0) {\n        listeners.splice(index, 1);\n      }\n    }\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport const CHROME_WEBSTORE_EXTENSION_ID = 'fmkadmapgofadopljbjfkapdkoienihi';\nexport const INTERNAL_EXTENSION_ID = 'dnjnjgbfilfphmojnmhliehogmojhclc';\nexport const LOCAL_EXTENSION_ID = 'ikiahnapldjmdmpkmfhjdjilojjhgcbf';\n\n// Flip this flag to true to enable verbose console debug logging.\nexport const __DEBUG__ = false;\n\n// Flip this flag to true to enable performance.mark() and performance.measure() timings.\nexport const __PERFORMANCE_PROFILE__ = false;\n\nexport const TREE_OPERATION_ADD = 1;\nexport const TREE_OPERATION_REMOVE = 2;\nexport const TREE_OPERATION_REORDER_CHILDREN = 3;\nexport const TREE_OPERATION_UPDATE_TREE_BASE_DURATION = 4;\nexport const TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS = 5;\nexport const TREE_OPERATION_REMOVE_ROOT = 6;\nexport const TREE_OPERATION_SET_SUBTREE_MODE = 7;\n\nexport const PROFILING_FLAG_BASIC_SUPPORT = 0b01;\nexport const PROFILING_FLAG_TIMELINE_SUPPORT = 0b10;\n\nexport const LOCAL_STORAGE_DEFAULT_TAB_KEY = 'React::DevTools::defaultTab';\nexport const LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY =\n  'React::DevTools::componentFilters';\nexport const SESSION_STORAGE_LAST_SELECTION_KEY =\n  'React::DevTools::lastSelection';\nexport const LOCAL_STORAGE_OPEN_IN_EDITOR_URL =\n  'React::DevTools::openInEditorUrl';\nexport const LOCAL_STORAGE_OPEN_IN_EDITOR_URL_PRESET =\n  'React::DevTools::openInEditorUrlPreset';\nexport const LOCAL_STORAGE_PARSE_HOOK_NAMES_KEY =\n  'React::DevTools::parseHookNames';\nexport const SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY =\n  'React::DevTools::recordChangeDescriptions';\nexport const SESSION_STORAGE_RELOAD_AND_PROFILE_KEY =\n  'React::DevTools::reloadAndProfile';\nexport const LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS =\n  'React::DevTools::breakOnConsoleErrors';\nexport const LOCAL_STORAGE_BROWSER_THEME = 'React::DevTools::theme';\nexport const LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY =\n  'React::DevTools::appendComponentStack';\nexport const LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY =\n  'React::DevTools::showInlineWarningsAndErrors';\nexport const LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY =\n  'React::DevTools::traceUpdatesEnabled';\nexport const LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE =\n  'React::DevTools::hideConsoleLogsInStrictMode';\nexport const LOCAL_STORAGE_SUPPORTS_PROFILING_KEY =\n  'React::DevTools::supportsProfiling';\n\nexport const PROFILER_EXPORT_VERSION = 5;\n\nexport const FIREFOX_CONSOLE_DIMMING_COLOR = 'color: rgba(124, 124, 124, 0.75)';\nexport const ANSI_STYLE_DIMMING_TEMPLATE = '\\x1b[2;38;2;124;124;124m%s\\x1b[0m';\nexport const ANSI_STYLE_DIMMING_TEMPLATE_WITH_COMPONENT_STACK =\n  '\\x1b[2;38;2;124;124;124m%s %o\\x1b[0m';\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport function localStorageGetItem(key: string): any {\n  try {\n    return localStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function localStorageRemoveItem(key: string): void {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function localStorageSetItem(key: string, value: any): void {\n  try {\n    return localStorage.setItem(key, value);\n  } catch (error) {}\n}\n\nexport function sessionStorageGetItem(key: string): any {\n  try {\n    return sessionStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function sessionStorageRemoveItem(key: string): void {\n  try {\n    sessionStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function sessionStorageSetItem(key: string, value: any): void {\n  try {\n    return sessionStorage.setItem(key, value);\n  } catch (error) {}\n}\n","\n\nvar simpleIsEqual = function simpleIsEqual(a, b) {\n  return a === b;\n};\n\nexport default function (resultFn) {\n  var isEqual = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : simpleIsEqual;\n\n  var lastThis = void 0;\n  var lastArgs = [];\n  var lastResult = void 0;\n  var calledOnce = false;\n\n  var isNewArgEqualToLast = function isNewArgEqualToLast(newArg, index) {\n    return isEqual(newArg, lastArgs[index]);\n  };\n\n  var result = function result() {\n    for (var _len = arguments.length, newArgs = Array(_len), _key = 0; _key < _len; _key++) {\n      newArgs[_key] = arguments[_key];\n    }\n\n    if (calledOnce && lastThis === this && newArgs.length === lastArgs.length && newArgs.every(isNewArgEqualToLast)) {\n      return lastResult;\n    }\n\n    calledOnce = true;\n    lastThis = this;\n    lastArgs = newArgs;\n    lastResult = resultFn.apply(this, newArgs);\n    return lastResult;\n  };\n\n  return result;\n}","/**\n * Compare [semver](https://semver.org/) version strings to find greater, equal or lesser.\n * This library supports the full semver specification, including comparing versions with different number of digits like `1.0.0`, `1.0`, `1`, and pre-release versions like `1.0.0-alpha`.\n * @param v1 - First version to compare\n * @param v2 - Second version to compare\n * @returns Numeric value compatible with the [Array.sort(fn) interface](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#Parameters).\n */\nexport const compareVersions = (v1, v2) => {\n    // validate input and split into segments\n    const n1 = validateAndParse(v1);\n    const n2 = validateAndParse(v2);\n    // pop off the patch\n    const p1 = n1.pop();\n    const p2 = n2.pop();\n    // validate numbers\n    const r = compareSegments(n1, n2);\n    if (r !== 0)\n        return r;\n    // validate pre-release\n    if (p1 && p2) {\n        return compareSegments(p1.split('.'), p2.split('.'));\n    }\n    else if (p1 || p2) {\n        return p1 ? -1 : 1;\n    }\n    return 0;\n};\n/**\n * Validate [semver](https://semver.org/) version strings.\n *\n * @param version Version number to validate\n * @returns `true` if the version number is a valid semver version number, `false` otherwise.\n *\n * @example\n * ```\n * validate('1.0.0-rc.1'); // return true\n * validate('1.0-rc.1'); // return false\n * validate('foo'); // return false\n * ```\n */\nexport const validate = (version) => typeof version === 'string' && /^[v\\d]/.test(version) && semver.test(version);\n/**\n * Compare [semver](https://semver.org/) version strings using the specified operator.\n *\n * @param v1 First version to compare\n * @param v2 Second version to compare\n * @param operator Allowed arithmetic operator to use\n * @returns `true` if the comparison between the firstVersion and the secondVersion satisfies the operator, `false` otherwise.\n *\n * @example\n * ```\n * compare('10.1.8', '10.0.4', '>'); // return true\n * compare('10.0.1', '10.0.1', '='); // return true\n * compare('10.1.1', '10.2.2', '<'); // return true\n * compare('10.1.1', '10.2.2', '<='); // return true\n * compare('10.1.1', '10.2.2', '>='); // return false\n * ```\n */\nexport const compare = (v1, v2, operator) => {\n    // validate input operator\n    assertValidOperator(operator);\n    // since result of compareVersions can only be -1 or 0 or 1\n    // a simple map can be used to replace switch\n    const res = compareVersions(v1, v2);\n    return operatorResMap[operator].includes(res);\n};\n/**\n * Match [npm semver](https://docs.npmjs.com/cli/v6/using-npm/semver) version range.\n *\n * @param version Version number to match\n * @param range Range pattern for version\n * @returns `true` if the version number is within the range, `false` otherwise.\n *\n * @example\n * ```\n * satisfies('1.1.0', '^1.0.0'); // return true\n * satisfies('1.1.0', '~1.0.0'); // return false\n * ```\n */\nexport const satisfies = (version, range) => {\n    // if no range operator then \"=\"\n    const m = range.match(/^([<>=~^]+)/);\n    const op = m ? m[1] : '=';\n    // if gt/lt/eq then operator compare\n    if (op !== '^' && op !== '~')\n        return compare(version, range, op);\n    // else range of either \"~\" or \"^\" is assumed\n    const [v1, v2, v3, , vp] = validateAndParse(version);\n    const [r1, r2, r3, , rp] = validateAndParse(range);\n    const v = [v1, v2, v3];\n    const r = [r1, r2 !== null && r2 !== void 0 ? r2 : 'x', r3 !== null && r3 !== void 0 ? r3 : 'x'];\n    // validate pre-release\n    if (rp) {\n        if (!vp)\n            return false;\n        if (compareSegments(v, r) !== 0)\n            return false;\n        if (compareSegments(vp.split('.'), rp.split('.')) === -1)\n            return false;\n    }\n    // first non-zero number\n    const nonZero = r.findIndex((v) => v !== '0') + 1;\n    // pointer to where segments can be >=\n    const i = op === '~' ? 2 : nonZero > 1 ? nonZero : 1;\n    // before pointer must be equal\n    if (compareSegments(v.slice(0, i), r.slice(0, i)) !== 0)\n        return false;\n    // after pointer must be >=\n    if (compareSegments(v.slice(i), r.slice(i)) === -1)\n        return false;\n    return true;\n};\nconst semver = /^[v^~<>=]*?(\\d+)(?:\\.([x*]|\\d+)(?:\\.([x*]|\\d+)(?:\\.([x*]|\\d+))?(?:-([\\da-z\\-]+(?:\\.[\\da-z\\-]+)*))?(?:\\+[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?)?)?$/i;\nconst validateAndParse = (version) => {\n    if (typeof version !== 'string') {\n        throw new TypeError('Invalid argument expected string');\n    }\n    const match = version.match(semver);\n    if (!match) {\n        throw new Error(`Invalid argument not valid semver ('${version}' received)`);\n    }\n    match.shift();\n    return match;\n};\nconst isWildcard = (s) => s === '*' || s === 'x' || s === 'X';\nconst tryParse = (v) => {\n    const n = parseInt(v, 10);\n    return isNaN(n) ? v : n;\n};\nconst forceType = (a, b) => typeof a !== typeof b ? [String(a), String(b)] : [a, b];\nconst compareStrings = (a, b) => {\n    if (isWildcard(a) || isWildcard(b))\n        return 0;\n    const [ap, bp] = forceType(tryParse(a), tryParse(b));\n    if (ap > bp)\n        return 1;\n    if (ap < bp)\n        return -1;\n    return 0;\n};\nconst compareSegments = (a, b) => {\n    for (let i = 0; i < Math.max(a.length, b.length); i++) {\n        const r = compareStrings(a[i] || '0', b[i] || '0');\n        if (r !== 0)\n            return r;\n    }\n    return 0;\n};\nconst operatorResMap = {\n    '>': [1],\n    '>=': [0, 1],\n    '=': [0],\n    '<=': [-1, 0],\n    '<': [-1],\n};\nconst allowedOperators = Object.keys(operatorResMap);\nconst assertValidOperator = (op) => {\n    if (typeof op !== 'string') {\n        throw new TypeError(`Invalid operator type, expected string but got ${typeof op}`);\n    }\n    if (allowedOperators.indexOf(op) === -1) {\n        throw new Error(`Invalid operator, expected one of ${allowedOperators.join('|')}`);\n    }\n};\n//# sourceMappingURL=index.js.map","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-is\");","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict\n */\n\n// -----------------------------------------------------------------------------\n// Land or remove (zero effort)\n//\n// Flags that can likely be deleted or landed without consequences\n// -----------------------------------------------------------------------------\n\nexport const enableComponentStackLocations = true;\n\n// -----------------------------------------------------------------------------\n// Killswitch\n//\n// Flags that exist solely to turn off a change in case it causes a regression\n// when it rolls out to prod. We should remove these as soon as possible.\n// -----------------------------------------------------------------------------\n\n// -----------------------------------------------------------------------------\n// Land or remove (moderate effort)\n//\n// Flags that can be probably deleted or landed, but might require extra effort\n// like migrating internal callers or performance testing.\n// -----------------------------------------------------------------------------\n\n// TODO: Finish rolling out in www\nexport const favorSafetyOverHydrationPerf = true;\nexport const enableAsyncActions = true;\n\n// Need to remove didTimeout argument from Scheduler before landing\nexport const disableSchedulerTimeoutInWorkLoop = false;\n\n// This will break some internal tests at Meta so we need to gate this until\n// those can be fixed.\nexport const enableDeferRootSchedulingToMicrotask = true;\n\n// TODO: Land at Meta before removing.\nexport const disableDefaultPropsExceptForClasses = true;\n\n// -----------------------------------------------------------------------------\n// Slated for removal in the future (significant effort)\n//\n// These are experiments that didn't work out, and never shipped, but we can't\n// delete from the codebase until we migrate internal callers.\n// -----------------------------------------------------------------------------\n\n// Add a callback property to suspense to notify which promises are currently\n// in the update queue. This allows reporting and tracing of what is causing\n// the user to see a loading state.\n//\n// Also allows hydration callbacks to fire when a dehydrated boundary gets\n// hydrated or deleted.\n//\n// This will eventually be replaced by the Transition Tracing proposal.\nexport const enableSuspenseCallback = false;\n\n// Experimental Scope support.\nexport const enableScopeAPI = false;\n\n// Experimental Create Event Handle API.\nexport const enableCreateEventHandleAPI = false;\n\n// Support legacy Primer support on internal FB www\nexport const enableLegacyFBSupport = false;\n\n// -----------------------------------------------------------------------------\n// Ongoing experiments\n//\n// These are features that we're either actively exploring or are reasonably\n// likely to include in an upcoming release.\n// -----------------------------------------------------------------------------\n\nexport const enableCache = true;\nexport const enableLegacyCache = __EXPERIMENTAL__;\n\nexport const enableBinaryFlight = true;\nexport const enableFlightReadableStream = true;\nexport const enableAsyncIterableChildren = __EXPERIMENTAL__;\n\nexport const enableTaint = __EXPERIMENTAL__;\n\nexport const enablePostpone = __EXPERIMENTAL__;\n\nexport const enableTransitionTracing = false;\n\n// No known bugs, but needs performance testing\nexport const enableLazyContextPropagation = false;\n\n// FB-only usage. The new API has different semantics.\nexport const enableLegacyHidden = false;\n\n// Enables unstable_avoidThisFallback feature in Fiber\nexport const enableSuspenseAvoidThisFallback = false;\n// Enables unstable_avoidThisFallback feature in Fizz\nexport const enableSuspenseAvoidThisFallbackFizz = false;\n\nexport const enableCPUSuspense = __EXPERIMENTAL__;\n\n// Enables useMemoCache hook, intended as a compilation target for\n// auto-memoization.\nexport const enableUseMemoCacheHook = true;\n// Test this at Meta before enabling.\nexport const enableNoCloningMemoCache = false;\n\nexport const enableUseEffectEventHook = __EXPERIMENTAL__;\n\n// Test in www before enabling in open source.\n// Enables DOM-server to stream its instruction set as data-attributes\n// (handled with an MutationObserver) instead of inline-scripts\nexport const enableFizzExternalRuntime = __EXPERIMENTAL__;\n\nexport const alwaysThrottleRetries = true;\n\nexport const passChildrenWhenCloningPersistedNodes = false;\n\nexport const enableServerComponentLogs = __EXPERIMENTAL__;\n\nexport const enableAddPropertiesFastPath = false;\n\nexport const enableOwnerStacks = __EXPERIMENTAL__;\n\nexport const enableShallowPropDiffing = false;\n\n/**\n * Enables an expiration time for retry lanes to avoid starvation.\n */\nexport const enableRetryLaneExpiration = false;\nexport const retryLaneExpirationMs = 5000;\nexport const syncLaneExpirationMs = 250;\nexport const transitionLaneExpirationMs = 5000;\n\n// -----------------------------------------------------------------------------\n// Ready for next major.\n//\n// Alias __NEXT_MAJOR__ to __EXPERIMENTAL__ for easier skimming.\n// -----------------------------------------------------------------------------\n\n// TODO: Anything that's set to `true` in this section should either be cleaned\n// up (if it's on everywhere, including Meta and RN builds) or moved to a\n// different section of this file.\n\n// const __NEXT_MAJOR__ = __EXPERIMENTAL__;\n\n// Renames the internal symbol for elements since they have changed signature/constructor\nexport const renameElementSymbol = true;\n\n// Removes legacy style context\nexport const disableLegacyContext = true;\n\n// Not ready to break experimental yet.\n// Modern <StrictMode /> behaviour aligns more with what components\n// components will encounter in production, especially when used With <Offscreen />.\n// TODO: clean up legacy <StrictMode /> once tests pass WWW.\nexport const useModernStrictMode = true;\n\n// Not ready to break experimental yet.\n// Remove IE and MsApp specific workarounds for innerHTML\nexport const disableIEWorkarounds = true;\n\n// Filter certain DOM attributes (e.g. src, href) if their values are empty\n// strings. This prevents e.g. <img src=\"\"> from making an unnecessary HTTP\n// request for certain browsers.\nexport const enableFilterEmptyStringAttributesDOM = true;\n\n// Disabled caching behavior of `react/cache` in client runtimes.\nexport const disableClientCache = true;\n\n/**\n * Enables a new error detection for infinite render loops from updates caused\n * by setState or similar outside of the component owning the state.\n */\nexport const enableInfiniteRenderLoopDetection = true;\n\n// Subtle breaking changes to JSX runtime to make it faster, like passing `ref`\n// as a normal prop instead of stripping it from the props object.\n\n// Passes `ref` as a normal prop instead of stripping it from the props object\n// during element creation.\nexport const enableRefAsProp = true;\nexport const disableStringRefs = true;\nexport const enableFastJSX = true;\n\n// Warn on any usage of ReactTestRenderer\nexport const enableReactTestRendererWarning = true;\n\n// Disables legacy mode\n// This allows us to land breaking changes to remove legacy mode APIs in experimental builds\n// before removing them in stable in the next Major\nexport const disableLegacyMode = true;\n\n// Make <Context> equivalent to <Context.Provider> instead of <Context.Consumer>\nexport const enableRenderableContext = true;\n\n// Enables the `initialValue` option for `useDeferredValue`\nexport const enableUseDeferredValueInitialArg = true;\n\n// -----------------------------------------------------------------------------\n// Chopping Block\n//\n// Planned feature deprecations and breaking changes. Sorted roughly in order of\n// when we plan to enable them.\n// -----------------------------------------------------------------------------\n\n// Enables time slicing for updates that aren't wrapped in startTransition.\nexport const forceConcurrentByDefaultForTesting = false;\n\n// Adds an opt-in to time slicing for updates that aren't wrapped in startTransition.\nexport const allowConcurrentByDefault = false;\n\n// -----------------------------------------------------------------------------\n// React DOM Chopping Block\n//\n// Similar to main Chopping Block but only flags related to React DOM. These are\n// grouped because we will likely batch all of them into a single major release.\n// -----------------------------------------------------------------------------\n\n// Disable support for comment nodes as React DOM containers. Already disabled\n// in open source, but www codebase still relies on it. Need to remove.\nexport const disableCommentsAsDOMContainers = true;\n\nexport const enableTrustedTypesIntegration = false;\n\n// Prevent the value and checked attributes from syncing with their related\n// DOM properties\nexport const disableInputAttributeSyncing = false;\n\n// Disables children for <textarea> elements\nexport const disableTextareaChildren = false;\n\n// -----------------------------------------------------------------------------\n// Debugging and DevTools\n// -----------------------------------------------------------------------------\n\n// Adds user timing marks for e.g. state updates, suspense, and work loop stuff,\n// for an experimental timeline tool.\nexport const enableSchedulingProfiler = __PROFILE__;\n\n// Helps identify side effects in render-phase lifecycle hooks and setState\n// reducers by double invoking them in StrictLegacyMode.\nexport const debugRenderPhaseSideEffectsForStrictMode = __DEV__;\n\n// Gather advanced timing metrics for Profiler subtrees.\nexport const enableProfilerTimer = __PROFILE__;\n\n// Record durations for commit and passive effects phases.\nexport const enableProfilerCommitHooks = __PROFILE__;\n\n// Phase param passed to onRender callback differentiates between an \"update\" and a \"cascading-update\".\nexport const enableProfilerNestedUpdatePhase = __PROFILE__;\n\n// Adds verbose console logging for e.g. state updates, suspense, and work loop\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\nexport const enableDebugTracing = false;\n\nexport const enableAsyncDebugInfo = __EXPERIMENTAL__;\n\n// Track which Fiber(s) schedule render work.\nexport const enableUpdaterTracking = __PROFILE__;\n\n// Internal only.\nexport const enableGetInspectorDataForInstanceInProduction = false;\n\nexport const consoleManagedByDevToolsDuringStrictMode = true;\n\nexport const enableDO_NOT_USE_disableStrictPassiveEffect = false;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {renameElementSymbol} from 'shared/ReactFeatureFlags';\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types.\nexport const REACT_LEGACY_ELEMENT_TYPE: symbol = Symbol.for('react.element');\nexport const REACT_ELEMENT_TYPE: symbol = renameElementSymbol\n  ? Symbol.for('react.transitional.element')\n  : REACT_LEGACY_ELEMENT_TYPE;\nexport const REACT_PORTAL_TYPE: symbol = Symbol.for('react.portal');\nexport const REACT_FRAGMENT_TYPE: symbol = Symbol.for('react.fragment');\nexport const REACT_STRICT_MODE_TYPE: symbol = Symbol.for('react.strict_mode');\nexport const REACT_PROFILER_TYPE: symbol = Symbol.for('react.profiler');\nexport const REACT_PROVIDER_TYPE: symbol = Symbol.for('react.provider'); // TODO: Delete with enableRenderableContext\nexport const REACT_CONSUMER_TYPE: symbol = Symbol.for('react.consumer');\nexport const REACT_CONTEXT_TYPE: symbol = Symbol.for('react.context');\nexport const REACT_FORWARD_REF_TYPE: symbol = Symbol.for('react.forward_ref');\nexport const REACT_SUSPENSE_TYPE: symbol = Symbol.for('react.suspense');\nexport const REACT_SUSPENSE_LIST_TYPE: symbol = Symbol.for(\n  'react.suspense_list',\n);\nexport const REACT_MEMO_TYPE: symbol = Symbol.for('react.memo');\nexport const REACT_LAZY_TYPE: symbol = Symbol.for('react.lazy');\nexport const REACT_SCOPE_TYPE: symbol = Symbol.for('react.scope');\nexport const REACT_DEBUG_TRACING_MODE_TYPE: symbol = Symbol.for(\n  'react.debug_trace_mode',\n);\nexport const REACT_OFFSCREEN_TYPE: symbol = Symbol.for('react.offscreen');\nexport const REACT_LEGACY_HIDDEN_TYPE: symbol = Symbol.for(\n  'react.legacy_hidden',\n);\nexport const REACT_TRACING_MARKER_TYPE: symbol = Symbol.for(\n  'react.tracing_marker',\n);\n\nexport const REACT_MEMO_CACHE_SENTINEL: symbol = Symbol.for(\n  'react.memo_cache_sentinel',\n);\n\nexport const REACT_POSTPONE_TYPE: symbol = Symbol.for('react.postpone');\n\nconst MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<any> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n\nexport const ASYNC_ITERATOR = Symbol.asyncIterator;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * WARNING:\n * This file contains types that are designed for React DevTools UI and how it interacts with the backend.\n * They might be used in different versions of DevTools backends.\n * Be mindful of backwards compatibility when making changes.\n */\n\nimport type {\n  Dehydrated,\n  Unserializable,\n} from 'react-devtools-shared/src/hydration';\nimport type {Source} from 'react-devtools-shared/src/shared/types';\n\nexport type BrowserTheme = 'dark' | 'light';\n\nexport type Wall = {\n  // `listen` returns the \"unlisten\" function.\n  listen: (fn: Function) => Function,\n  send: (event: string, payload: any, transferable?: Array<any>) => void,\n};\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new element types are added, use new numbers rather than re-ordering existing ones.\n//\n// Changing these types is also a backwards breaking change for the standalone shell,\n// since the frontend and backend must share the same values-\n// and the backend is embedded in certain environments (like React Native).\nexport const ElementTypeClass = 1;\nexport const ElementTypeContext = 2;\nexport const ElementTypeFunction = 5;\nexport const ElementTypeForwardRef = 6;\nexport const ElementTypeHostComponent = 7;\nexport const ElementTypeMemo = 8;\nexport const ElementTypeOtherOrUnknown = 9;\nexport const ElementTypeProfiler = 10;\nexport const ElementTypeRoot = 11;\nexport const ElementTypeSuspense = 12;\nexport const ElementTypeSuspenseList = 13;\nexport const ElementTypeTracingMarker = 14;\n\n// Different types of elements displayed in the Elements tree.\n// These types may be used to visually distinguish types,\n// or to enable/disable certain functionality.\nexport type ElementType = 1 | 2 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14;\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new filter types are added, use new numbers rather than re-ordering existing ones.\nexport const ComponentFilterElementType = 1;\nexport const ComponentFilterDisplayName = 2;\nexport const ComponentFilterLocation = 3;\nexport const ComponentFilterHOC = 4;\n\nexport type ComponentFilterType = 1 | 2 | 3 | 4;\n\n// Hide all elements of types in this Set.\n// We hide host components only by default.\nexport type ElementTypeComponentFilter = {\n  isEnabled: boolean,\n  type: 1,\n  value: ElementType,\n};\n\n// Hide all elements with displayNames or paths matching one or more of the RegExps in this Set.\n// Path filters are only used when elements include debug source location.\nexport type RegExpComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 2 | 3,\n  value: string,\n};\n\nexport type BooleanComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 4,\n};\n\nexport type ComponentFilter =\n  | BooleanComponentFilter\n  | ElementTypeComponentFilter\n  | RegExpComponentFilter;\n\nexport type HookName = string | null;\n// Map of hook source (\"<filename>:<line-number>:<column-number>\") to name.\n// Hook source is used instead of the hook itself because the latter is not stable between element inspections.\n// We use a Map rather than an Array because of nested hooks and traversal ordering.\nexport type HookSourceLocationKey = string;\nexport type HookNames = Map<HookSourceLocationKey, HookName>;\n\nexport type LRUCache<K, V> = {\n  del: (key: K) => void,\n  get: (key: K) => V,\n  has: (key: K) => boolean,\n  reset: () => void,\n  set: (key: K, value: V) => void,\n};\n\nexport type StyleXPlugin = {\n  sources: Array<string>,\n  resolvedStyles: Object,\n};\n\nexport type Plugins = {\n  stylex: StyleXPlugin | null,\n};\n\nexport const StrictMode = 1;\n\n// Each element on the frontend corresponds to a Fiber on the backend.\n// Some of its information (e.g. id, type, displayName) come from the backend.\n// Other bits (e.g. weight and depth) are computed on the frontend for windowing and display purposes.\n// Elements are updated on a push basis meaning the backend pushes updates to the frontend when needed.\nexport type Element = {\n  id: number,\n  parentID: number,\n  children: Array<number>,\n  type: ElementType,\n  displayName: string | null,\n  key: number | string | null,\n\n  hocDisplayNames: null | Array<string>,\n\n  // Should the elements children be visible in the tree?\n  isCollapsed: boolean,\n\n  // Owner (if available)\n  ownerID: number,\n\n  // How many levels deep within the tree is this element?\n  // This determines how much indentation (left padding) should be used in the Elements tree.\n  depth: number,\n\n  // How many nodes (including itself) are below this Element within the tree.\n  // This property is used to quickly determine the total number of Elements,\n  // and the Element at any given index (for windowing purposes).\n  weight: number,\n\n  // This element is not in a StrictMode compliant subtree.\n  // Only true for React versions supporting StrictMode.\n  isStrictModeNonCompliant: boolean,\n\n  // If component is compiled with Forget, the backend will send its name as Forget(...)\n  // Later, on the frontend side, we will strip HOC names and Forget prefix.\n  compiledWithForget: boolean,\n};\n\nexport type SerializedElement = {\n  displayName: string | null,\n  id: number,\n  key: number | string | null,\n  hocDisplayNames: Array<string> | null,\n  compiledWithForget: boolean,\n  type: ElementType,\n};\n\nexport type OwnersList = {\n  id: number,\n  owners: Array<SerializedElement> | null,\n};\n\nexport type InspectedElementResponseType =\n  | 'error'\n  | 'full-data'\n  | 'hydrated-path'\n  | 'no-change'\n  | 'not-found';\n\nexport type InspectedElementPath = Array<string | number>;\n\nexport type InspectedElement = {\n  id: number,\n\n  // Does the current renderer support editable hooks and function props?\n  canEditHooks: boolean,\n  canEditFunctionProps: boolean,\n\n  // Does the current renderer support advanced editing interface?\n  canEditHooksAndDeletePaths: boolean,\n  canEditHooksAndRenamePaths: boolean,\n  canEditFunctionPropsDeletePaths: boolean,\n  canEditFunctionPropsRenamePaths: boolean,\n\n  // Is this Error, and can its value be overridden now?\n  isErrored: boolean,\n  canToggleError: boolean,\n  targetErrorBoundaryID: ?number,\n\n  // Is this Suspense, and can its value be overridden now?\n  canToggleSuspense: boolean,\n\n  // Can view component source location.\n  canViewSource: boolean,\n\n  // Does the component have legacy context attached to it.\n  hasLegacyContext: boolean,\n\n  // Inspectable properties.\n  context: Object | null,\n  hooks: Object | null,\n  props: Object | null,\n  state: Object | null,\n  key: number | string | null,\n  errors: Array<[string, number]>,\n  warnings: Array<[string, number]>,\n\n  // List of owners\n  owners: Array<SerializedElement> | null,\n\n  // Location of component in source code.\n  source: Source | null,\n\n  type: ElementType,\n\n  // Meta information about the root this element belongs to.\n  rootType: string | null,\n\n  // Meta information about the renderer that created this element.\n  rendererPackageName: string | null,\n  rendererVersion: string | null,\n\n  // UI plugins/visualizations for the inspected element.\n  plugins: Plugins,\n};\n\n// TODO: Add profiling type\n\ntype Data =\n  | string\n  | Dehydrated\n  | Unserializable\n  | Array<Dehydrated>\n  | Array<Unserializable>\n  | {[string]: Data};\n\nexport type DehydratedData = {\n  cleaned: Array<Array<string | number>>,\n  data: Data,\n  unserializable: Array<Array<string | number>>,\n};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nconst isArray = Array.isArray;\n\nexport default isArray;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport LRU from 'lru-cache';\nimport {\n  isElement,\n  typeOf,\n  ContextConsumer,\n  ContextProvider,\n  ForwardRef,\n  Fragment,\n  Lazy,\n  Memo,\n  Portal,\n  Profiler,\n  StrictMode,\n  Suspense,\n} from 'react-is';\nimport {\n  REACT_CONSUMER_TYPE,\n  REACT_CONTEXT_TYPE,\n  REACT_FORWARD_REF_TYPE,\n  REACT_FRAGMENT_TYPE,\n  REACT_LAZY_TYPE,\n  REACT_LEGACY_ELEMENT_TYPE,\n  REACT_MEMO_TYPE,\n  REACT_PORTAL_TYPE,\n  REACT_PROFILER_TYPE,\n  REACT_PROVIDER_TYPE,\n  REACT_STRICT_MODE_TYPE,\n  REACT_SUSPENSE_LIST_TYPE,\n  REACT_SUSPENSE_LIST_TYPE as SuspenseList,\n  REACT_SUSPENSE_TYPE,\n  REACT_TRACING_MARKER_TYPE as TracingMarker,\n} from 'shared/ReactSymbols';\nimport {enableRenderableContext} from 'shared/ReactFeatureFlags';\nimport {\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REMOVE_ROOT,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_SET_SUBTREE_MODE,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n  LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n  LOCAL_STORAGE_OPEN_IN_EDITOR_URL,\n  LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS,\n  LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY,\n  LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY,\n  LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE,\n} from './constants';\nimport {\n  ComponentFilterElementType,\n  ComponentFilterLocation,\n  ElementTypeHostComponent,\n} from './frontend/types';\nimport {\n  ElementTypeRoot,\n  ElementTypeClass,\n  ElementTypeForwardRef,\n  ElementTypeFunction,\n  ElementTypeMemo,\n} from 'react-devtools-shared/src/frontend/types';\nimport {localStorageGetItem, localStorageSetItem} from './storage';\nimport {meta} from './hydration';\nimport isArray from './isArray';\n\nimport type {\n  ComponentFilter,\n  ElementType,\n  BrowserTheme,\n  SerializedElement as SerializedElementFrontend,\n  LRUCache,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {SerializedElement as SerializedElementBackend} from 'react-devtools-shared/src/backend/types';\n\n// $FlowFixMe[method-unbinding]\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nconst cachedDisplayNames: WeakMap<Function, string> = new WeakMap();\n\n// On large trees, encoding takes significant time.\n// Try to reuse the already encoded strings.\nconst encodedStringCache: LRUCache<string, Array<number>> = new LRU({\n  max: 1000,\n});\n\nexport function alphaSortKeys(\n  a: string | number | symbol,\n  b: string | number | symbol,\n): number {\n  if (a.toString() > b.toString()) {\n    return 1;\n  } else if (b.toString() > a.toString()) {\n    return -1;\n  } else {\n    return 0;\n  }\n}\n\nexport function getAllEnumerableKeys(\n  obj: Object,\n): Set<string | number | symbol> {\n  const keys = new Set<string | number | symbol>();\n  let current = obj;\n  while (current != null) {\n    const currentKeys = [\n      ...Object.keys(current),\n      ...Object.getOwnPropertySymbols(current),\n    ];\n    const descriptors = Object.getOwnPropertyDescriptors(current);\n    currentKeys.forEach(key => {\n      // $FlowFixMe[incompatible-type]: key can be a Symbol https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\n      if (descriptors[key].enumerable) {\n        keys.add(key);\n      }\n    });\n    current = Object.getPrototypeOf(current);\n  }\n  return keys;\n}\n\n// Mirror https://github.com/facebook/react/blob/7c21bf72ace77094fd1910cc350a548287ef8350/packages/shared/getComponentName.js#L27-L37\nexport function getWrappedDisplayName(\n  outerType: mixed,\n  innerType: any,\n  wrapperName: string,\n  fallbackName?: string,\n): string {\n  const displayName = (outerType: any)?.displayName;\n  return (\n    displayName || `${wrapperName}(${getDisplayName(innerType, fallbackName)})`\n  );\n}\n\nexport function getDisplayName(\n  type: Function,\n  fallbackName: string = 'Anonymous',\n): string {\n  const nameFromCache = cachedDisplayNames.get(type);\n  if (nameFromCache != null) {\n    return nameFromCache;\n  }\n\n  let displayName = fallbackName;\n\n  // The displayName property is not guaranteed to be a string.\n  // It's only safe to use for our purposes if it's a string.\n  // github.com/facebook/react-devtools/issues/803\n  if (typeof type.displayName === 'string') {\n    displayName = type.displayName;\n  } else if (typeof type.name === 'string' && type.name !== '') {\n    displayName = type.name;\n  }\n\n  cachedDisplayNames.set(type, displayName);\n  return displayName;\n}\n\nlet uidCounter: number = 0;\n\nexport function getUID(): number {\n  return ++uidCounter;\n}\n\nexport function utfDecodeStringWithRanges(\n  array: Array<number>,\n  left: number,\n  right: number,\n): string {\n  let string = '';\n  for (let i = left; i <= right; i++) {\n    string += String.fromCodePoint(array[i]);\n  }\n  return string;\n}\n\nfunction surrogatePairToCodePoint(\n  charCode1: number,\n  charCode2: number,\n): number {\n  return ((charCode1 & 0x3ff) << 10) + (charCode2 & 0x3ff) + 0x10000;\n}\n\n// Credit for this encoding approach goes to Tim Down:\n// https://stackoverflow.com/questions/4877326/how-can-i-tell-if-a-string-contains-multibyte-characters-in-javascript\nexport function utfEncodeString(string: string): Array<number> {\n  const cached = encodedStringCache.get(string);\n  if (cached !== undefined) {\n    return cached;\n  }\n\n  const encoded = [];\n  let i = 0;\n  let charCode;\n  while (i < string.length) {\n    charCode = string.charCodeAt(i);\n    // Handle multibyte unicode characters (like emoji).\n    if ((charCode & 0xf800) === 0xd800) {\n      encoded.push(surrogatePairToCodePoint(charCode, string.charCodeAt(++i)));\n    } else {\n      encoded.push(charCode);\n    }\n    ++i;\n  }\n\n  encodedStringCache.set(string, encoded);\n\n  return encoded;\n}\n\nexport function printOperationsArray(operations: Array<number>) {\n  // The first two values are always rendererID and rootID\n  const rendererID = operations[0];\n  const rootID = operations[1];\n\n  const logs = [`operations for renderer:${rendererID} and root:${rootID}`];\n\n  let i = 2;\n\n  // Reassemble the string table.\n  const stringTable: Array<null | string> = [\n    null, // ID = 0 corresponds to the null string.\n  ];\n  const stringTableSize = operations[i++];\n  const stringTableEnd = i + stringTableSize;\n  while (i < stringTableEnd) {\n    const nextLength = operations[i++];\n    const nextString = utfDecodeStringWithRanges(\n      operations,\n      i,\n      i + nextLength - 1,\n    );\n    stringTable.push(nextString);\n    i += nextLength;\n  }\n\n  while (i < operations.length) {\n    const operation = operations[i];\n\n    switch (operation) {\n      case TREE_OPERATION_ADD: {\n        const id = ((operations[i + 1]: any): number);\n        const type = ((operations[i + 2]: any): ElementType);\n\n        i += 3;\n\n        if (type === ElementTypeRoot) {\n          logs.push(`Add new root node ${id}`);\n\n          i++; // isStrictModeCompliant\n          i++; // supportsProfiling\n          i++; // supportsStrictMode\n          i++; // hasOwnerMetadata\n        } else {\n          const parentID = ((operations[i]: any): number);\n          i++;\n\n          i++; // ownerID\n\n          const displayNameStringID = operations[i];\n          const displayName = stringTable[displayNameStringID];\n          i++;\n\n          i++; // key\n\n          logs.push(\n            `Add node ${id} (${displayName || 'null'}) as child of ${parentID}`,\n          );\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE: {\n        const removeLength = ((operations[i + 1]: any): number);\n        i += 2;\n\n        for (let removeIndex = 0; removeIndex < removeLength; removeIndex++) {\n          const id = ((operations[i]: any): number);\n          i += 1;\n\n          logs.push(`Remove node ${id}`);\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE_ROOT: {\n        i += 1;\n\n        logs.push(`Remove root ${rootID}`);\n        break;\n      }\n      case TREE_OPERATION_SET_SUBTREE_MODE: {\n        const id = operations[i + 1];\n        const mode = operations[i + 1];\n\n        i += 3;\n\n        logs.push(`Mode ${mode} set for subtree with root ${id}`);\n        break;\n      }\n      case TREE_OPERATION_REORDER_CHILDREN: {\n        const id = ((operations[i + 1]: any): number);\n        const numChildren = ((operations[i + 2]: any): number);\n        i += 3;\n        const children = operations.slice(i, i + numChildren);\n        i += numChildren;\n\n        logs.push(`Re-order node ${id} children ${children.join(',')}`);\n        break;\n      }\n      case TREE_OPERATION_UPDATE_TREE_BASE_DURATION:\n        // Base duration updates are only sent while profiling is in progress.\n        // We can ignore them at this point.\n        // The profiler UI uses them lazily in order to generate the tree.\n        i += 3;\n        break;\n      case TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS:\n        const id = operations[i + 1];\n        const numErrors = operations[i + 2];\n        const numWarnings = operations[i + 3];\n\n        i += 4;\n\n        logs.push(\n          `Node ${id} has ${numErrors} errors and ${numWarnings} warnings`,\n        );\n        break;\n      default:\n        throw Error(`Unsupported Bridge operation \"${operation}\"`);\n    }\n  }\n\n  console.log(logs.join('\\n  '));\n}\n\nexport function getDefaultComponentFilters(): Array<ComponentFilter> {\n  return [\n    {\n      type: ComponentFilterElementType,\n      value: ElementTypeHostComponent,\n      isEnabled: true,\n    },\n  ];\n}\n\nexport function getSavedComponentFilters(): Array<ComponentFilter> {\n  try {\n    const raw = localStorageGetItem(\n      LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n    );\n    if (raw != null) {\n      const parsedFilters: Array<ComponentFilter> = JSON.parse(raw);\n      return filterOutLocationComponentFilters(parsedFilters);\n    }\n  } catch (error) {}\n  return getDefaultComponentFilters();\n}\n\nexport function setSavedComponentFilters(\n  componentFilters: Array<ComponentFilter>,\n): void {\n  localStorageSetItem(\n    LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n    JSON.stringify(filterOutLocationComponentFilters(componentFilters)),\n  );\n}\n\n// Following __debugSource removal from Fiber, the new approach for finding the source location\n// of a component, represented by the Fiber, is based on lazily generating and parsing component stack frames\n// To find the original location, React DevTools will perform symbolication, source maps are required for that.\n// In order to start filtering Fibers, we need to find location for all of them, which can't be done lazily.\n// Eager symbolication can become quite expensive for large applications.\nexport function filterOutLocationComponentFilters(\n  componentFilters: Array<ComponentFilter>,\n): Array<ComponentFilter> {\n  // This is just an additional check to preserve the previous state\n  // Filters can be stored on the backend side or in user land (in a window object)\n  if (!Array.isArray(componentFilters)) {\n    return componentFilters;\n  }\n\n  return componentFilters.filter(f => f.type !== ComponentFilterLocation);\n}\n\nfunction parseBool(s: ?string): ?boolean {\n  if (s === 'true') {\n    return true;\n  }\n  if (s === 'false') {\n    return false;\n  }\n}\n\nexport function castBool(v: any): ?boolean {\n  if (v === true || v === false) {\n    return v;\n  }\n}\n\nexport function castBrowserTheme(v: any): ?BrowserTheme {\n  if (v === 'light' || v === 'dark' || v === 'auto') {\n    return v;\n  }\n}\n\nexport function getAppendComponentStack(): boolean {\n  const raw = localStorageGetItem(\n    LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY,\n  );\n  return parseBool(raw) ?? true;\n}\n\nexport function getBreakOnConsoleErrors(): boolean {\n  const raw = localStorageGetItem(LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS);\n  return parseBool(raw) ?? false;\n}\n\nexport function getHideConsoleLogsInStrictMode(): boolean {\n  const raw = localStorageGetItem(\n    LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE,\n  );\n  return parseBool(raw) ?? false;\n}\n\nexport function getShowInlineWarningsAndErrors(): boolean {\n  const raw = localStorageGetItem(\n    LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY,\n  );\n  return parseBool(raw) ?? true;\n}\n\nexport function getDefaultOpenInEditorURL(): string {\n  return typeof process.env.EDITOR_URL === 'string'\n    ? process.env.EDITOR_URL\n    : '';\n}\n\nexport function getOpenInEditorURL(): string {\n  try {\n    const raw = localStorageGetItem(LOCAL_STORAGE_OPEN_IN_EDITOR_URL);\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return getDefaultOpenInEditorURL();\n}\n\ntype ParseElementDisplayNameFromBackendReturn = {\n  formattedDisplayName: string | null,\n  hocDisplayNames: Array<string> | null,\n  compiledWithForget: boolean,\n};\nexport function parseElementDisplayNameFromBackend(\n  displayName: string | null,\n  type: ElementType,\n): ParseElementDisplayNameFromBackendReturn {\n  if (displayName === null) {\n    return {\n      formattedDisplayName: null,\n      hocDisplayNames: null,\n      compiledWithForget: false,\n    };\n  }\n\n  if (displayName.startsWith('Forget(')) {\n    const displayNameWithoutForgetWrapper = displayName.slice(\n      7,\n      displayName.length - 1,\n    );\n\n    const {formattedDisplayName, hocDisplayNames} =\n      parseElementDisplayNameFromBackend(displayNameWithoutForgetWrapper, type);\n    return {formattedDisplayName, hocDisplayNames, compiledWithForget: true};\n  }\n\n  let hocDisplayNames = null;\n  switch (type) {\n    case ElementTypeClass:\n    case ElementTypeForwardRef:\n    case ElementTypeFunction:\n    case ElementTypeMemo:\n      if (displayName.indexOf('(') >= 0) {\n        const matches = displayName.match(/[^()]+/g);\n        if (matches != null) {\n          displayName = matches.pop();\n          hocDisplayNames = matches;\n        }\n      }\n      break;\n    default:\n      break;\n  }\n\n  return {\n    formattedDisplayName: displayName,\n    hocDisplayNames,\n    compiledWithForget: false,\n  };\n}\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nexport function shallowDiffers(prev: Object, next: Object): boolean {\n  for (const attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n  for (const attribute in next) {\n    if (prev[attribute] !== next[attribute]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function getInObject(object: Object, path: Array<string | number>): any {\n  return path.reduce((reduced: Object, attr: any): any => {\n    if (reduced) {\n      if (hasOwnProperty.call(reduced, attr)) {\n        return reduced[attr];\n      }\n      if (typeof reduced[Symbol.iterator] === 'function') {\n        // Convert iterable to array and return array[index]\n        //\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        return Array.from(reduced)[attr];\n      }\n    }\n\n    return null;\n  }, object);\n}\n\nexport function deletePathInObject(\n  object: Object,\n  path: Array<string | number>,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      if (isArray(parent)) {\n        parent.splice(((last: any): number), 1);\n      } else {\n        delete parent[last];\n      }\n    }\n  }\n}\n\nexport function renamePathInObject(\n  object: Object,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n) {\n  const length = oldPath.length;\n  if (object != null) {\n    const parent = getInObject(object, oldPath.slice(0, length - 1));\n    if (parent) {\n      const lastOld = oldPath[length - 1];\n      const lastNew = newPath[length - 1];\n      parent[lastNew] = parent[lastOld];\n      if (isArray(parent)) {\n        parent.splice(((lastOld: any): number), 1);\n      } else {\n        delete parent[lastOld];\n      }\n    }\n  }\n}\n\nexport function setInObject(\n  object: Object,\n  path: Array<string | number>,\n  value: any,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      parent[last] = value;\n    }\n  }\n}\n\nexport type DataType =\n  | 'array'\n  | 'array_buffer'\n  | 'bigint'\n  | 'boolean'\n  | 'class_instance'\n  | 'data_view'\n  | 'date'\n  | 'function'\n  | 'html_all_collection'\n  | 'html_element'\n  | 'infinity'\n  | 'iterator'\n  | 'opaque_iterator'\n  | 'nan'\n  | 'null'\n  | 'number'\n  | 'object'\n  | 'react_element'\n  | 'regexp'\n  | 'string'\n  | 'symbol'\n  | 'typed_array'\n  | 'undefined'\n  | 'unknown';\n\n/**\n * Get a enhanced/artificial type string based on the object instance\n */\nexport function getDataType(data: Object): DataType {\n  if (data === null) {\n    return 'null';\n  } else if (data === undefined) {\n    return 'undefined';\n  }\n\n  if (isElement(data)) {\n    return 'react_element';\n  }\n\n  if (typeof HTMLElement !== 'undefined' && data instanceof HTMLElement) {\n    return 'html_element';\n  }\n\n  const type = typeof data;\n  switch (type) {\n    case 'bigint':\n      return 'bigint';\n    case 'boolean':\n      return 'boolean';\n    case 'function':\n      return 'function';\n    case 'number':\n      if (Number.isNaN(data)) {\n        return 'nan';\n      } else if (!Number.isFinite(data)) {\n        return 'infinity';\n      } else {\n        return 'number';\n      }\n    case 'object':\n      if (isArray(data)) {\n        return 'array';\n      } else if (ArrayBuffer.isView(data)) {\n        return hasOwnProperty.call(data.constructor, 'BYTES_PER_ELEMENT')\n          ? 'typed_array'\n          : 'data_view';\n      } else if (data.constructor && data.constructor.name === 'ArrayBuffer') {\n        // HACK This ArrayBuffer check is gross; is there a better way?\n        // We could try to create a new DataView with the value.\n        // If it doesn't error, we know it's an ArrayBuffer,\n        // but this seems kind of awkward and expensive.\n        return 'array_buffer';\n      } else if (typeof data[Symbol.iterator] === 'function') {\n        const iterator = data[Symbol.iterator]();\n        if (!iterator) {\n          // Proxies might break assumptoins about iterators.\n          // See github.com/facebook/react/issues/21654\n        } else {\n          return iterator === data ? 'opaque_iterator' : 'iterator';\n        }\n      } else if (data.constructor && data.constructor.name === 'RegExp') {\n        return 'regexp';\n      } else {\n        // $FlowFixMe[method-unbinding]\n        const toStringValue = Object.prototype.toString.call(data);\n        if (toStringValue === '[object Date]') {\n          return 'date';\n        } else if (toStringValue === '[object HTMLAllCollection]') {\n          return 'html_all_collection';\n        }\n      }\n\n      if (!isPlainObject(data)) {\n        return 'class_instance';\n      }\n\n      return 'object';\n    case 'string':\n      return 'string';\n    case 'symbol':\n      return 'symbol';\n    case 'undefined':\n      if (\n        // $FlowFixMe[method-unbinding]\n        Object.prototype.toString.call(data) === '[object HTMLAllCollection]'\n      ) {\n        return 'html_all_collection';\n      }\n      return 'undefined';\n    default:\n      return 'unknown';\n  }\n}\n\n// Fork of packages/react-is/src/ReactIs.js:30, but with legacy element type\n// Which has been changed in https://github.com/facebook/react/pull/28813\nfunction typeOfWithLegacyElementSymbol(object: any): mixed {\n  if (typeof object === 'object' && object !== null) {\n    const $$typeof = object.$$typeof;\n    switch ($$typeof) {\n      case REACT_LEGACY_ELEMENT_TYPE:\n        const type = object.type;\n\n        switch (type) {\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n          case REACT_SUSPENSE_LIST_TYPE:\n            return type;\n          default:\n            const $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n                return $$typeofType;\n              case REACT_CONSUMER_TYPE:\n                if (enableRenderableContext) {\n                  return $$typeofType;\n                }\n              // Fall through\n              case REACT_PROVIDER_TYPE:\n                if (!enableRenderableContext) {\n                  return $$typeofType;\n                }\n              // Fall through\n              default:\n                return $$typeof;\n            }\n        }\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n}\n\nexport function getDisplayNameForReactElement(\n  element: React$Element<any>,\n): string | null {\n  const elementType = typeOf(element) || typeOfWithLegacyElementSymbol(element);\n  switch (elementType) {\n    case ContextConsumer:\n      return 'ContextConsumer';\n    case ContextProvider:\n      return 'ContextProvider';\n    case ForwardRef:\n      return 'ForwardRef';\n    case Fragment:\n      return 'Fragment';\n    case Lazy:\n      return 'Lazy';\n    case Memo:\n      return 'Memo';\n    case Portal:\n      return 'Portal';\n    case Profiler:\n      return 'Profiler';\n    case StrictMode:\n      return 'StrictMode';\n    case Suspense:\n      return 'Suspense';\n    case SuspenseList:\n      return 'SuspenseList';\n    case TracingMarker:\n      return 'TracingMarker';\n    default:\n      const {type} = element;\n      if (typeof type === 'string') {\n        return type;\n      } else if (typeof type === 'function') {\n        return getDisplayName(type, 'Anonymous');\n      } else if (type != null) {\n        return 'NotImplementedInDevtools';\n      } else {\n        return 'Element';\n      }\n  }\n}\n\nconst MAX_PREVIEW_STRING_LENGTH = 50;\n\nfunction truncateForDisplay(\n  string: string,\n  length: number = MAX_PREVIEW_STRING_LENGTH,\n) {\n  if (string.length > length) {\n    return string.slice(0, length) + '';\n  } else {\n    return string;\n  }\n}\n\n// Attempts to mimic Chrome's inline preview for values.\n// For example, the following value...\n//   {\n//      foo: 123,\n//      bar: \"abc\",\n//      baz: [true, false],\n//      qux: { ab: 1, cd: 2 }\n//   };\n//\n// Would show a preview of...\n//   {foo: 123, bar: \"abc\", baz: Array(2), qux: {}}\n//\n// And the following value...\n//   [\n//     123,\n//     \"abc\",\n//     [true, false],\n//     { foo: 123, bar: \"abc\" }\n//   ];\n//\n// Would show a preview of...\n//   [123, \"abc\", Array(2), {}]\nexport function formatDataForPreview(\n  data: any,\n  showFormattedValue: boolean,\n): string {\n  if (data != null && hasOwnProperty.call(data, meta.type)) {\n    return showFormattedValue\n      ? data[meta.preview_long]\n      : data[meta.preview_short];\n  }\n\n  const type = getDataType(data);\n\n  switch (type) {\n    case 'html_element':\n      return `<${truncateForDisplay(data.tagName.toLowerCase())} />`;\n    case 'function':\n      return truncateForDisplay(\n        ` ${typeof data.name === 'function' ? '' : data.name}() {}`,\n      );\n    case 'string':\n      return `\"${data}\"`;\n    case 'bigint':\n      return truncateForDisplay(data.toString() + 'n');\n    case 'regexp':\n      return truncateForDisplay(data.toString());\n    case 'symbol':\n      return truncateForDisplay(data.toString());\n    case 'react_element':\n      return `<${truncateForDisplay(\n        getDisplayNameForReactElement(data) || 'Unknown',\n      )} />`;\n    case 'array_buffer':\n      return `ArrayBuffer(${data.byteLength})`;\n    case 'data_view':\n      return `DataView(${data.buffer.byteLength})`;\n    case 'array':\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += formatDataForPreview(data[i], false);\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `[${truncateForDisplay(formatted)}]`;\n      } else {\n        const length = hasOwnProperty.call(data, meta.size)\n          ? data[meta.size]\n          : data.length;\n        return `Array(${length})`;\n      }\n    case 'typed_array':\n      const shortName = `${data.constructor.name}(${data.length})`;\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += data[i];\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `${shortName} [${truncateForDisplay(formatted)}]`;\n      } else {\n        return shortName;\n      }\n    case 'iterator':\n      const name = data.constructor.name;\n\n      if (showFormattedValue) {\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        const array = Array.from(data);\n\n        let formatted = '';\n        for (let i = 0; i < array.length; i++) {\n          const entryOrEntries = array[i];\n\n          if (i > 0) {\n            formatted += ', ';\n          }\n\n          // TRICKY\n          // Browsers display Maps and Sets differently.\n          // To mimic their behavior, detect if we've been given an entries tuple.\n          //   Map(2) {\"abc\" => 123, \"def\" => 123}\n          //   Set(2) {\"abc\", 123}\n          if (isArray(entryOrEntries)) {\n            const key = formatDataForPreview(entryOrEntries[0], true);\n            const value = formatDataForPreview(entryOrEntries[1], false);\n            formatted += `${key} => ${value}`;\n          } else {\n            formatted += formatDataForPreview(entryOrEntries, false);\n          }\n\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n\n        return `${name}(${data.size}) {${truncateForDisplay(formatted)}}`;\n      } else {\n        return `${name}(${data.size})`;\n      }\n    case 'opaque_iterator': {\n      return data[Symbol.toStringTag];\n    }\n    case 'date':\n      return data.toString();\n    case 'class_instance':\n      return data.constructor.name;\n    case 'object':\n      if (showFormattedValue) {\n        const keys = Array.from(getAllEnumerableKeys(data)).sort(alphaSortKeys);\n\n        let formatted = '';\n        for (let i = 0; i < keys.length; i++) {\n          const key = keys[i];\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += `${key.toString()}: ${formatDataForPreview(\n            data[key],\n            false,\n          )}`;\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `{${truncateForDisplay(formatted)}}`;\n      } else {\n        return '{}';\n      }\n    case 'boolean':\n    case 'number':\n    case 'infinity':\n    case 'nan':\n    case 'null':\n    case 'undefined':\n      return data;\n    default:\n      try {\n        return truncateForDisplay(String(data));\n      } catch (error) {\n        return 'unserializable';\n      }\n  }\n}\n\n// Basically checking that the object only has Object in its prototype chain\nexport const isPlainObject = (object: Object): boolean => {\n  const objectPrototype = Object.getPrototypeOf(object);\n  if (!objectPrototype) return true;\n\n  const objectParentPrototype = Object.getPrototypeOf(objectPrototype);\n  return !objectParentPrototype;\n};\n\nexport function backendToFrontendSerializedElementMapper(\n  element: SerializedElementBackend,\n): SerializedElementFrontend {\n  const {formattedDisplayName, hocDisplayNames, compiledWithForget} =\n    parseElementDisplayNameFromBackend(element.displayName, element.type);\n\n  return {\n    ...element,\n    displayName: formattedDisplayName,\n    hocDisplayNames,\n    compiledWithForget,\n  };\n}\n\n// This is a hacky one to just support this exact case.\nexport function normalizeUrl(url: string): string {\n  return url.replace('/./', '/');\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  getDataType,\n  getDisplayNameForReactElement,\n  getAllEnumerableKeys,\n  getInObject,\n  formatDataForPreview,\n  setInObject,\n} from 'react-devtools-shared/src/utils';\n\nimport type {\n  DehydratedData,\n  InspectedElementPath,\n} from 'react-devtools-shared/src/frontend/types';\n\nexport const meta = {\n  inspectable: (Symbol('inspectable'): symbol),\n  inspected: (Symbol('inspected'): symbol),\n  name: (Symbol('name'): symbol),\n  preview_long: (Symbol('preview_long'): symbol),\n  preview_short: (Symbol('preview_short'): symbol),\n  readonly: (Symbol('readonly'): symbol),\n  size: (Symbol('size'): symbol),\n  type: (Symbol('type'): symbol),\n  unserializable: (Symbol('unserializable'): symbol),\n};\n\nexport type Dehydrated = {\n  inspectable: boolean,\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n};\n\n// Typed arrays and other complex iteratable objects (e.g. Map, Set, ImmutableJS) need special handling.\n// These objects can't be serialized without losing type information,\n// so a \"Unserializable\" type wrapper is used (with meta-data keys) to send nested values-\n// while preserving the original type and name.\nexport type Unserializable = {\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n  unserializable: boolean,\n  [string | number]: any,\n};\n\n// This threshold determines the depth at which the bridge \"dehydrates\" nested data.\n// Dehydration means that we don't serialize the data for e.g. postMessage or stringify,\n// unless the frontend explicitly requests it (e.g. a user clicks to expand a props object).\n//\n// Reducing this threshold will improve the speed of initial component inspection,\n// but may decrease the responsiveness of expanding objects/arrays to inspect further.\nconst LEVEL_THRESHOLD = 2;\n\n/**\n * Generate the dehydrated metadata for complex object instances\n */\nfunction createDehydrated(\n  type: string,\n  inspectable: boolean,\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  path: Array<string | number>,\n): Dehydrated {\n  cleaned.push(path);\n\n  const dehydrated: Dehydrated = {\n    inspectable,\n    type,\n    preview_long: formatDataForPreview(data, true),\n    preview_short: formatDataForPreview(data, false),\n    name:\n      typeof data.constructor !== 'function' ||\n      typeof data.constructor.name !== 'string' ||\n      data.constructor.name === 'Object'\n        ? ''\n        : data.constructor.name,\n  };\n\n  if (type === 'array' || type === 'typed_array') {\n    dehydrated.size = data.length;\n  } else if (type === 'object') {\n    dehydrated.size = Object.keys(data).length;\n  }\n\n  if (type === 'iterator' || type === 'typed_array') {\n    dehydrated.readonly = true;\n  }\n\n  return dehydrated;\n}\n\n/**\n * Strip out complex data (instances, functions, and data nested > LEVEL_THRESHOLD levels deep).\n * The paths of the stripped out objects are appended to the `cleaned` list.\n * On the other side of the barrier, the cleaned list is used to \"re-hydrate\" the cleaned representation into\n * an object with symbols as attributes, so that a sanitized object can be distinguished from a normal object.\n *\n * Input: {\"some\": {\"attr\": fn()}, \"other\": AnInstance}\n * Output: {\n *   \"some\": {\n *     \"attr\": {\"name\": the fn.name, type: \"function\"}\n *   },\n *   \"other\": {\n *     \"name\": \"AnInstance\",\n *     \"type\": \"object\",\n *   },\n * }\n * and cleaned = [[\"some\", \"attr\"], [\"other\"]]\n */\nexport function dehydrate(\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n  path: Array<string | number>,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  level: number = 0,\n): $PropertyType<DehydratedData, 'data'> {\n  const type = getDataType(data);\n\n  let isPathAllowedCheck;\n\n  switch (type) {\n    case 'html_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.tagName,\n        type,\n      };\n\n    case 'function':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name:\n          typeof data.name === 'function' || !data.name\n            ? 'function'\n            : data.name,\n        type,\n      };\n\n    case 'string':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (isPathAllowedCheck) {\n        return data;\n      } else {\n        return data.length <= 500 ? data : data.slice(0, 500) + '...';\n      }\n\n    case 'bigint':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'symbol':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    // React Elements aren't very inspector-friendly,\n    // and often contain private fields or circular references.\n    case 'react_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: getDisplayNameForReactElement(data) || 'Unknown',\n        type,\n      };\n\n    // ArrayBuffers error if you try to inspect them.\n    case 'array_buffer':\n    case 'data_view':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: type === 'data_view' ? 'DataView' : 'ArrayBuffer',\n        size: data.byteLength,\n        type,\n      };\n\n    case 'array':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n      return data.map((item, i) =>\n        dehydrate(\n          item,\n          cleaned,\n          unserializable,\n          path.concat([i]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        ),\n      );\n\n    case 'html_all_collection':\n    case 'typed_array':\n    case 'iterator':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const unserializableValue: Unserializable = {\n          unserializable: true,\n          type: type,\n          readonly: true,\n          size: type === 'typed_array' ? data.length : undefined,\n          preview_short: formatDataForPreview(data, false),\n          preview_long: formatDataForPreview(data, true),\n          name:\n            typeof data.constructor !== 'function' ||\n            typeof data.constructor.name !== 'string' ||\n            data.constructor.name === 'Object'\n              ? ''\n              : data.constructor.name,\n        };\n\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        Array.from(data).forEach(\n          (item, i) =>\n            (unserializableValue[i] = dehydrate(\n              item,\n              cleaned,\n              unserializable,\n              path.concat([i]),\n              isPathAllowed,\n              isPathAllowedCheck ? 1 : level + 1,\n            )),\n        );\n\n        unserializable.push(path);\n\n        return unserializableValue;\n      }\n\n    case 'opaque_iterator':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data[Symbol.toStringTag],\n        type,\n      };\n\n    case 'date':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'regexp':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'object':\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const object: {\n          [string]: $PropertyType<DehydratedData, 'data'>,\n        } = {};\n        getAllEnumerableKeys(data).forEach(key => {\n          const name = key.toString();\n          object[name] = dehydrate(\n            data[key],\n            cleaned,\n            unserializable,\n            path.concat([name]),\n            isPathAllowed,\n            isPathAllowedCheck ? 1 : level + 1,\n          );\n        });\n        return object;\n      }\n\n    case 'class_instance':\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n\n      const value: Unserializable = {\n        unserializable: true,\n        type,\n        readonly: true,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name:\n          typeof data.constructor !== 'function' ||\n          typeof data.constructor.name !== 'string'\n            ? ''\n            : data.constructor.name,\n      };\n\n      getAllEnumerableKeys(data).forEach(key => {\n        const keyAsString = key.toString();\n\n        value[keyAsString] = dehydrate(\n          data[key],\n          cleaned,\n          unserializable,\n          path.concat([keyAsString]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        );\n      });\n\n      unserializable.push(path);\n\n      return value;\n\n    case 'infinity':\n    case 'nan':\n    case 'undefined':\n      // Some values are lossy when sent through a WebSocket.\n      // We dehydrate+rehydrate them to preserve their type.\n      cleaned.push(path);\n      return {type};\n\n    default:\n      return data;\n  }\n}\n\nexport function fillInPath(\n  object: Object,\n  data: DehydratedData,\n  path: InspectedElementPath,\n  value: any,\n) {\n  const target = getInObject(object, path);\n  if (target != null) {\n    if (!target[meta.unserializable]) {\n      delete target[meta.inspectable];\n      delete target[meta.inspected];\n      delete target[meta.name];\n      delete target[meta.preview_long];\n      delete target[meta.preview_short];\n      delete target[meta.readonly];\n      delete target[meta.size];\n      delete target[meta.type];\n    }\n  }\n\n  if (value !== null && data.unserializable.length > 0) {\n    const unserializablePath = data.unserializable[0];\n    let isMatch = unserializablePath.length === path.length;\n    for (let i = 0; i < path.length; i++) {\n      if (path[i] !== unserializablePath[i]) {\n        isMatch = false;\n        break;\n      }\n    }\n    if (isMatch) {\n      upgradeUnserializable(value, value);\n    }\n  }\n\n  setInObject(object, path, value);\n}\n\nexport function hydrate(\n  object: any,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n): Object {\n  cleaned.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const value = parent[last];\n\n    if (!value) {\n      return;\n    } else if (value.type === 'infinity') {\n      parent[last] = Infinity;\n    } else if (value.type === 'nan') {\n      parent[last] = NaN;\n    } else if (value.type === 'undefined') {\n      parent[last] = undefined;\n    } else {\n      // Replace the string keys with Symbols so they're non-enumerable.\n      const replaced: {[key: symbol]: boolean | string} = {};\n      replaced[meta.inspectable] = !!value.inspectable;\n      replaced[meta.inspected] = false;\n      replaced[meta.name] = value.name;\n      replaced[meta.preview_long] = value.preview_long;\n      replaced[meta.preview_short] = value.preview_short;\n      replaced[meta.size] = value.size;\n      replaced[meta.readonly] = !!value.readonly;\n      replaced[meta.type] = value.type;\n\n      parent[last] = replaced;\n    }\n  });\n  unserializable.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const node = parent[last];\n\n    const replacement = {\n      ...node,\n    };\n\n    upgradeUnserializable(replacement, node);\n\n    parent[last] = replacement;\n  });\n  return object;\n}\n\nfunction upgradeUnserializable(destination: Object, source: Object) {\n  Object.defineProperties(destination, {\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.inspected]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.inspected,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.name]: {\n      configurable: true,\n      enumerable: false,\n      value: source.name,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.preview_long]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_long,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.preview_short]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_short,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.size]: {\n      configurable: true,\n      enumerable: false,\n      value: source.size,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.readonly]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.readonly,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.type]: {\n      configurable: true,\n      enumerable: false,\n      value: source.type,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.unserializable]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.unserializable,\n    },\n  });\n\n  delete destination.inspected;\n  delete destination.name;\n  delete destination.preview_long;\n  delete destination.preview_short;\n  delete destination.size;\n  delete destination.readonly;\n  delete destination.type;\n  delete destination.unserializable;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\ndeclare function isArray(a: mixed): boolean %checks(Array.isArray(a));\n\nconst isArrayImpl = Array.isArray;\n\nfunction isArray(a: mixed): boolean {\n  return isArrayImpl(a);\n}\n\nexport default isArray;\n","/**\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {compareVersions} from 'compare-versions';\nimport {dehydrate} from '../hydration';\nimport isArray from 'shared/isArray';\n\nimport type {Source} from 'react-devtools-shared/src/shared/types';\nimport type {DehydratedData} from 'react-devtools-shared/src/frontend/types';\n\n// TODO: update this to the first React version that has a corresponding DevTools backend\nconst FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER = '999.9.9';\nexport function hasAssignedBackend(version?: string): boolean {\n  if (version == null || version === '') {\n    return false;\n  }\n  return gte(version, FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER);\n}\n\nexport function cleanForBridge(\n  data: Object | null,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  path: Array<string | number> = [],\n): DehydratedData | null {\n  if (data !== null) {\n    const cleanedPaths: Array<Array<string | number>> = [];\n    const unserializablePaths: Array<Array<string | number>> = [];\n    const cleanedData = dehydrate(\n      data,\n      cleanedPaths,\n      unserializablePaths,\n      path,\n      isPathAllowed,\n    );\n\n    return {\n      data: cleanedData,\n      cleaned: cleanedPaths,\n      unserializable: unserializablePaths,\n    };\n  } else {\n    return null;\n  }\n}\n\nexport function copyWithDelete(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === path.length) {\n    if (isArray(updated)) {\n      updated.splice(((key: any): number), 1);\n    } else {\n      delete updated[key];\n    }\n  } else {\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[key] = copyWithDelete(obj[key], path, index + 1);\n  }\n  return updated;\n}\n\n// This function expects paths to be the same except for the final value.\n// e.g. ['path', 'to', 'foo'] and ['path', 'to', 'bar']\nexport function copyWithRename(\n  obj: Object | Array<any>,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const oldKey = oldPath[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === oldPath.length) {\n    const newKey = newPath[index];\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[newKey] = updated[oldKey];\n    if (isArray(updated)) {\n      updated.splice(((oldKey: any): number), 1);\n    } else {\n      delete updated[oldKey];\n    }\n  } else {\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[oldKey] = copyWithRename(obj[oldKey], oldPath, newPath, index + 1);\n  }\n  return updated;\n}\n\nexport function copyWithSet(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  value: any,\n  index: number = 0,\n): Object | Array<any> {\n  if (index >= path.length) {\n    return value;\n  }\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  // $FlowFixMe[incompatible-use] number or string is fine here\n  updated[key] = copyWithSet(obj[key], path, value, index + 1);\n  return updated;\n}\n\nexport function getEffectDurations(root: Object): {\n  effectDuration: any | null,\n  passiveEffectDuration: any | null,\n} {\n  // Profiling durations are only available for certain builds.\n  // If available, they'll be stored on the HostRoot.\n  let effectDuration = null;\n  let passiveEffectDuration = null;\n  const hostRoot = root.current;\n  if (hostRoot != null) {\n    const stateNode = hostRoot.stateNode;\n    if (stateNode != null) {\n      effectDuration =\n        stateNode.effectDuration != null ? stateNode.effectDuration : null;\n      passiveEffectDuration =\n        stateNode.passiveEffectDuration != null\n          ? stateNode.passiveEffectDuration\n          : null;\n    }\n  }\n  return {effectDuration, passiveEffectDuration};\n}\n\nexport function serializeToString(data: any): string {\n  if (data === undefined) {\n    return 'undefined';\n  }\n\n  if (typeof data === 'function') {\n    return data.toString();\n  }\n\n  const cache = new Set<mixed>();\n  // Use a custom replacer function to protect against circular references.\n  return JSON.stringify(\n    data,\n    (key: string, value: any) => {\n      if (typeof value === 'object' && value !== null) {\n        if (cache.has(value)) {\n          return;\n        }\n        cache.add(value);\n      }\n      if (typeof value === 'bigint') {\n        return value.toString() + 'n';\n      }\n      return value;\n    },\n    2,\n  );\n}\n\n// NOTE: KEEP IN SYNC with src/hook.js\n// Formats an array of args with a style for console methods, using\n// the following algorithm:\n//     1. The first param is a string that contains %c\n//          - Bail out and return the args without modifying the styles.\n//            We don't want to affect styles that the developer deliberately set.\n//     2. The first param is a string that doesn't contain %c but contains\n//        string formatting\n//          - [`%c${args[0]}`, style, ...args.slice(1)]\n//          - Note: we assume that the string formatting that the developer uses\n//            is correct.\n//     3. The first param is a string that doesn't contain string formatting\n//        OR is not a string\n//          - Create a formatting string where:\n//                 boolean, string, symbol -> %s\n//                 number -> %f OR %i depending on if it's an int or float\n//                 default -> %o\nexport function formatWithStyles(\n  inputArgs: $ReadOnlyArray<any>,\n  style?: string,\n): $ReadOnlyArray<any> {\n  if (\n    inputArgs === undefined ||\n    inputArgs === null ||\n    inputArgs.length === 0 ||\n    // Matches any of %c but not %%c\n    (typeof inputArgs[0] === 'string' && inputArgs[0].match(/([^%]|^)(%c)/g)) ||\n    style === undefined\n  ) {\n    return inputArgs;\n  }\n\n  // Matches any of %(o|O|d|i|s|f), but not %%(o|O|d|i|s|f)\n  const REGEXP = /([^%]|^)((%%)*)(%([oOdisf]))/g;\n  if (typeof inputArgs[0] === 'string' && inputArgs[0].match(REGEXP)) {\n    return [`%c${inputArgs[0]}`, style, ...inputArgs.slice(1)];\n  } else {\n    const firstArg = inputArgs.reduce((formatStr, elem, i) => {\n      if (i > 0) {\n        formatStr += ' ';\n      }\n      switch (typeof elem) {\n        case 'string':\n        case 'boolean':\n        case 'symbol':\n          return (formatStr += '%s');\n        case 'number':\n          const formatting = Number.isInteger(elem) ? '%i' : '%f';\n          return (formatStr += formatting);\n        default:\n          return (formatStr += '%o');\n      }\n    }, '%c');\n    return [firstArg, style, ...inputArgs];\n  }\n}\n\n// NOTE: KEEP IN SYNC with src/hook.js\n// Skips CSS and object arguments, inlines other in the first argument as a template string\nexport function formatConsoleArguments(\n  maybeMessage: any,\n  ...inputArgs: $ReadOnlyArray<any>\n): $ReadOnlyArray<any> {\n  if (inputArgs.length === 0 || typeof maybeMessage !== 'string') {\n    return [maybeMessage, ...inputArgs];\n  }\n\n  const args = inputArgs.slice();\n\n  let template = '';\n  let argumentsPointer = 0;\n  for (let i = 0; i < maybeMessage.length; ++i) {\n    const currentChar = maybeMessage[i];\n    if (currentChar !== '%') {\n      template += currentChar;\n      continue;\n    }\n\n    const nextChar = maybeMessage[i + 1];\n    ++i;\n\n    // Only keep CSS and objects, inline other arguments\n    switch (nextChar) {\n      case 'c':\n      case 'O':\n      case 'o': {\n        ++argumentsPointer;\n        template += `%${nextChar}`;\n\n        break;\n      }\n      case 'd':\n      case 'i': {\n        const [arg] = args.splice(argumentsPointer, 1);\n        template += parseInt(arg, 10).toString();\n\n        break;\n      }\n      case 'f': {\n        const [arg] = args.splice(argumentsPointer, 1);\n        template += parseFloat(arg).toString();\n\n        break;\n      }\n      case 's': {\n        const [arg] = args.splice(argumentsPointer, 1);\n        template += arg.toString();\n\n        break;\n      }\n\n      default:\n        template += `%${nextChar}`;\n    }\n  }\n\n  return [template, ...args];\n}\n\n// based on https://github.com/tmpfs/format-util/blob/0e62d430efb0a1c51448709abd3e2406c14d8401/format.js#L1\n// based on https://developer.mozilla.org/en-US/docs/Web/API/console#Using_string_substitutions\n// Implements s, d, i and f placeholders\nexport function formatConsoleArgumentsToSingleString(\n  maybeMessage: any,\n  ...inputArgs: $ReadOnlyArray<any>\n): string {\n  const args = inputArgs.slice();\n\n  let formatted: string = String(maybeMessage);\n\n  // If the first argument is a string, check for substitutions.\n  if (typeof maybeMessage === 'string') {\n    if (args.length) {\n      const REGEXP = /(%?)(%([jds]))/g;\n\n      formatted = formatted.replace(REGEXP, (match, escaped, ptn, flag) => {\n        let arg = args.shift();\n        switch (flag) {\n          case 's':\n            arg += '';\n            break;\n          case 'd':\n          case 'i':\n            arg = parseInt(arg, 10).toString();\n            break;\n          case 'f':\n            arg = parseFloat(arg).toString();\n            break;\n        }\n        if (!escaped) {\n          return arg;\n        }\n        args.unshift(arg);\n        return match;\n      });\n    }\n  }\n\n  // Arguments that remain after formatting.\n  if (args.length) {\n    for (let i = 0; i < args.length; i++) {\n      formatted += ' ' + String(args[i]);\n    }\n  }\n\n  // Update escaped %% values.\n  formatted = formatted.replace(/%{2,2}/g, '%');\n\n  return String(formatted);\n}\n\nexport function isSynchronousXHRSupported(): boolean {\n  return !!(\n    window.document &&\n    window.document.featurePolicy &&\n    window.document.featurePolicy.allowsFeature('sync-xhr')\n  );\n}\n\nexport function gt(a: string = '', b: string = ''): boolean {\n  return compareVersions(a, b) === 1;\n}\n\nexport function gte(a: string = '', b: string = ''): boolean {\n  return compareVersions(a, b) > -1;\n}\n\nexport const isReactNativeEnvironment = (): boolean => {\n  // We've been relying on this for such a long time\n  // We should probably define the client for DevTools on the backend side and share it with the frontend\n  return window.document == null;\n};\n\nfunction extractLocation(\n  url: string,\n): null | {sourceURL: string, line?: string, column?: string} {\n  if (url.indexOf(':') === -1) {\n    return null;\n  }\n\n  // remove any parentheses from start and end\n  const withoutParentheses = url.replace(/^\\(+/, '').replace(/\\)+$/, '');\n  const locationParts = /(at )?(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(\n    withoutParentheses,\n  );\n\n  if (locationParts == null) {\n    return null;\n  }\n\n  const [, , sourceURL, line, column] = locationParts;\n  return {sourceURL, line, column};\n}\n\nconst CHROME_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\nfunction parseSourceFromChromeStack(stack: string): Source | null {\n  const frames = stack.split('\\n');\n  // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n  for (const frame of frames) {\n    const sanitizedFrame = frame.trim();\n\n    const locationInParenthesesMatch = sanitizedFrame.match(/ (\\(.+\\)$)/);\n    const possibleLocation = locationInParenthesesMatch\n      ? locationInParenthesesMatch[1]\n      : sanitizedFrame;\n\n    const location = extractLocation(possibleLocation);\n    // Continue the search until at least sourceURL is found\n    if (location == null) {\n      continue;\n    }\n\n    const {sourceURL, line = '1', column = '1'} = location;\n\n    return {\n      sourceURL,\n      line: parseInt(line, 10),\n      column: parseInt(column, 10),\n    };\n  }\n\n  return null;\n}\n\nfunction parseSourceFromFirefoxStack(stack: string): Source | null {\n  const frames = stack.split('\\n');\n  // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n  for (const frame of frames) {\n    const sanitizedFrame = frame.trim();\n    const frameWithoutFunctionName = sanitizedFrame.replace(\n      /((.*\".+\"[^@]*)?[^@]*)(?:@)/,\n      '',\n    );\n\n    const location = extractLocation(frameWithoutFunctionName);\n    // Continue the search until at least sourceURL is found\n    if (location == null) {\n      continue;\n    }\n\n    const {sourceURL, line = '1', column = '1'} = location;\n\n    return {\n      sourceURL,\n      line: parseInt(line, 10),\n      column: parseInt(column, 10),\n    };\n  }\n\n  return null;\n}\n\nexport function parseSourceFromComponentStack(\n  componentStack: string,\n): Source | null {\n  if (componentStack.match(CHROME_STACK_REGEXP)) {\n    return parseSourceFromChromeStack(componentStack);\n  }\n\n  return parseSourceFromFirefoxStack(componentStack);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport interface Rect {\n  bottom: number;\n  height: number;\n  left: number;\n  right: number;\n  top: number;\n  width: number;\n}\n\n// Get the window object for the document that a node belongs to,\n// or return null if it cannot be found (node not attached to DOM,\n// etc).\nexport function getOwnerWindow(node: HTMLElement): typeof window | null {\n  if (!node.ownerDocument) {\n    return null;\n  }\n  return node.ownerDocument.defaultView;\n}\n\n// Get the iframe containing a node, or return null if it cannot\n// be found (node not within iframe, etc).\nexport function getOwnerIframe(node: HTMLElement): HTMLElement | null {\n  const nodeWindow = getOwnerWindow(node);\n  if (nodeWindow) {\n    return nodeWindow.frameElement;\n  }\n  return null;\n}\n\n// Get a bounding client rect for a node, with an\n// offset added to compensate for its border.\nexport function getBoundingClientRectWithBorderOffset(node: HTMLElement): Rect {\n  const dimensions = getElementDimensions(node);\n  return mergeRectOffsets([\n    node.getBoundingClientRect(),\n    {\n      top: dimensions.borderTop,\n      left: dimensions.borderLeft,\n      bottom: dimensions.borderBottom,\n      right: dimensions.borderRight,\n      // This width and height won't get used by mergeRectOffsets (since this\n      // is not the first rect in the array), but we set them so that this\n      // object type checks as a ClientRect.\n      width: 0,\n      height: 0,\n    },\n  ]);\n}\n\n// Add together the top, left, bottom, and right properties of\n// each ClientRect, but keep the width and height of the first one.\nexport function mergeRectOffsets(rects: Array<Rect>): Rect {\n  return rects.reduce((previousRect, rect) => {\n    if (previousRect == null) {\n      return rect;\n    }\n\n    return {\n      top: previousRect.top + rect.top,\n      left: previousRect.left + rect.left,\n      width: previousRect.width,\n      height: previousRect.height,\n      bottom: previousRect.bottom + rect.bottom,\n      right: previousRect.right + rect.right,\n    };\n  });\n}\n\n// Calculate a boundingClientRect for a node relative to boundaryWindow,\n// taking into account any offsets caused by intermediate iframes.\nexport function getNestedBoundingClientRect(\n  node: HTMLElement,\n  boundaryWindow: typeof window,\n): Rect {\n  const ownerIframe = getOwnerIframe(node);\n  if (ownerIframe && ownerIframe !== boundaryWindow) {\n    const rects: Array<Rect | ClientRect> = [node.getBoundingClientRect()];\n    let currentIframe: null | HTMLElement = ownerIframe;\n    let onlyOneMore = false;\n    while (currentIframe) {\n      const rect = getBoundingClientRectWithBorderOffset(currentIframe);\n      rects.push(rect);\n      currentIframe = getOwnerIframe(currentIframe);\n\n      if (onlyOneMore) {\n        break;\n      }\n      // We don't want to calculate iframe offsets upwards beyond\n      // the iframe containing the boundaryWindow, but we\n      // need to calculate the offset relative to the boundaryWindow.\n      if (currentIframe && getOwnerWindow(currentIframe) === boundaryWindow) {\n        onlyOneMore = true;\n      }\n    }\n\n    return mergeRectOffsets(rects);\n  } else {\n    return node.getBoundingClientRect();\n  }\n}\n\nexport function getElementDimensions(domElement: Element): {\n  borderBottom: number,\n  borderLeft: number,\n  borderRight: number,\n  borderTop: number,\n  marginBottom: number,\n  marginLeft: number,\n  marginRight: number,\n  marginTop: number,\n  paddingBottom: number,\n  paddingLeft: number,\n  paddingRight: number,\n  paddingTop: number,\n} {\n  const calculatedStyle = window.getComputedStyle(domElement);\n  return {\n    borderLeft: parseInt(calculatedStyle.borderLeftWidth, 10),\n    borderRight: parseInt(calculatedStyle.borderRightWidth, 10),\n    borderTop: parseInt(calculatedStyle.borderTopWidth, 10),\n    borderBottom: parseInt(calculatedStyle.borderBottomWidth, 10),\n    marginLeft: parseInt(calculatedStyle.marginLeft, 10),\n    marginRight: parseInt(calculatedStyle.marginRight, 10),\n    marginTop: parseInt(calculatedStyle.marginTop, 10),\n    marginBottom: parseInt(calculatedStyle.marginBottom, 10),\n    paddingLeft: parseInt(calculatedStyle.paddingLeft, 10),\n    paddingRight: parseInt(calculatedStyle.paddingRight, 10),\n    paddingTop: parseInt(calculatedStyle.paddingTop, 10),\n    paddingBottom: parseInt(calculatedStyle.paddingBottom, 10),\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {getElementDimensions, getNestedBoundingClientRect} from '../utils';\n\nimport type {Rect} from '../utils';\nimport type Agent from 'react-devtools-shared/src/backend/agent';\n\ntype Box = {top: number, left: number, width: number, height: number};\n\nconst assign = Object.assign;\n\n// Note that the Overlay components are not affected by the active Theme,\n// because they highlight elements in the main Chrome window (outside of devtools).\n// The colors below were chosen to roughly match those used by Chrome devtools.\n\nclass OverlayRect {\n  node: HTMLElement;\n  border: HTMLElement;\n  padding: HTMLElement;\n  content: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.node = doc.createElement('div');\n    this.border = doc.createElement('div');\n    this.padding = doc.createElement('div');\n    this.content = doc.createElement('div');\n\n    this.border.style.borderColor = overlayStyles.border;\n    this.padding.style.borderColor = overlayStyles.padding;\n    this.content.style.backgroundColor = overlayStyles.background;\n\n    assign(this.node.style, {\n      borderColor: overlayStyles.margin,\n      pointerEvents: 'none',\n      position: 'fixed',\n    });\n\n    this.node.style.zIndex = '10000000';\n\n    this.node.appendChild(this.border);\n    this.border.appendChild(this.padding);\n    this.padding.appendChild(this.content);\n    container.appendChild(this.node);\n  }\n\n  remove() {\n    if (this.node.parentNode) {\n      this.node.parentNode.removeChild(this.node);\n    }\n  }\n\n  update(box: Rect, dims: any) {\n    boxWrap(dims, 'margin', this.node);\n    boxWrap(dims, 'border', this.border);\n    boxWrap(dims, 'padding', this.padding);\n\n    assign(this.content.style, {\n      height:\n        box.height -\n        dims.borderTop -\n        dims.borderBottom -\n        dims.paddingTop -\n        dims.paddingBottom +\n        'px',\n      width:\n        box.width -\n        dims.borderLeft -\n        dims.borderRight -\n        dims.paddingLeft -\n        dims.paddingRight +\n        'px',\n    });\n\n    assign(this.node.style, {\n      top: box.top - dims.marginTop + 'px',\n      left: box.left - dims.marginLeft + 'px',\n    });\n  }\n}\n\nclass OverlayTip {\n  tip: HTMLElement;\n  nameSpan: HTMLElement;\n  dimSpan: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.tip = doc.createElement('div');\n    assign(this.tip.style, {\n      display: 'flex',\n      flexFlow: 'row nowrap',\n      backgroundColor: '#333740',\n      borderRadius: '2px',\n      fontFamily:\n        '\"SFMono-Regular\", Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n      fontWeight: 'bold',\n      padding: '3px 5px',\n      pointerEvents: 'none',\n      position: 'fixed',\n      fontSize: '12px',\n      whiteSpace: 'nowrap',\n    });\n\n    this.nameSpan = doc.createElement('span');\n    this.tip.appendChild(this.nameSpan);\n    assign(this.nameSpan.style, {\n      color: '#ee78e6',\n      borderRight: '1px solid #aaaaaa',\n      paddingRight: '0.5rem',\n      marginRight: '0.5rem',\n    });\n    this.dimSpan = doc.createElement('span');\n    this.tip.appendChild(this.dimSpan);\n    assign(this.dimSpan.style, {\n      color: '#d7d7d7',\n    });\n\n    this.tip.style.zIndex = '10000000';\n    container.appendChild(this.tip);\n  }\n\n  remove() {\n    if (this.tip.parentNode) {\n      this.tip.parentNode.removeChild(this.tip);\n    }\n  }\n\n  updateText(name: string, width: number, height: number) {\n    this.nameSpan.textContent = name;\n    this.dimSpan.textContent =\n      Math.round(width) + 'px  ' + Math.round(height) + 'px';\n  }\n\n  updatePosition(dims: Box, bounds: Box) {\n    const tipRect = this.tip.getBoundingClientRect();\n    const tipPos = findTipPos(dims, bounds, {\n      width: tipRect.width,\n      height: tipRect.height,\n    });\n    assign(this.tip.style, tipPos.style);\n  }\n}\n\nexport default class Overlay {\n  window: any;\n  tipBoundsWindow: any;\n  container: HTMLElement;\n  tip: OverlayTip;\n  rects: Array<OverlayRect>;\n  agent: Agent;\n\n  constructor(agent: Agent) {\n    // Find the root window, because overlays are positioned relative to it.\n    const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.window = currentWindow;\n\n    // When opened in shells/dev, the tooltip should be bound by the app iframe, not by the topmost window.\n    const tipBoundsWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.tipBoundsWindow = tipBoundsWindow;\n\n    const doc = currentWindow.document;\n    this.container = doc.createElement('div');\n    this.container.style.zIndex = '10000000';\n\n    this.tip = new OverlayTip(doc, this.container);\n    this.rects = [];\n\n    this.agent = agent;\n\n    doc.body.appendChild(this.container);\n  }\n\n  remove() {\n    this.tip.remove();\n    this.rects.forEach(rect => {\n      rect.remove();\n    });\n    this.rects.length = 0;\n    if (this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n    }\n  }\n\n  inspect(nodes: Array<HTMLElement>, name?: ?string) {\n    // We can't get the size of text nodes or comment nodes. React as of v15\n    // heavily uses comment nodes to delimit text.\n    const elements = nodes.filter(node => node.nodeType === Node.ELEMENT_NODE);\n\n    while (this.rects.length > elements.length) {\n      const rect = this.rects.pop();\n      rect.remove();\n    }\n    if (elements.length === 0) {\n      return;\n    }\n\n    while (this.rects.length < elements.length) {\n      this.rects.push(new OverlayRect(this.window.document, this.container));\n    }\n\n    const outerBox = {\n      top: Number.POSITIVE_INFINITY,\n      right: Number.NEGATIVE_INFINITY,\n      bottom: Number.NEGATIVE_INFINITY,\n      left: Number.POSITIVE_INFINITY,\n    };\n    elements.forEach((element, index) => {\n      const box = getNestedBoundingClientRect(element, this.window);\n      const dims = getElementDimensions(element);\n\n      outerBox.top = Math.min(outerBox.top, box.top - dims.marginTop);\n      outerBox.right = Math.max(\n        outerBox.right,\n        box.left + box.width + dims.marginRight,\n      );\n      outerBox.bottom = Math.max(\n        outerBox.bottom,\n        box.top + box.height + dims.marginBottom,\n      );\n      outerBox.left = Math.min(outerBox.left, box.left - dims.marginLeft);\n\n      const rect = this.rects[index];\n      rect.update(box, dims);\n    });\n\n    if (!name) {\n      name = elements[0].nodeName.toLowerCase();\n\n      const node = elements[0];\n      const rendererInterface =\n        this.agent.getBestMatchingRendererInterface(node);\n      if (rendererInterface) {\n        const id = rendererInterface.getFiberIDForNative(node, true);\n        if (id) {\n          const ownerName = rendererInterface.getDisplayNameForFiberID(\n            id,\n            true,\n          );\n          if (ownerName) {\n            name += ' (in ' + ownerName + ')';\n          }\n        }\n      }\n    }\n\n    this.tip.updateText(\n      name,\n      outerBox.right - outerBox.left,\n      outerBox.bottom - outerBox.top,\n    );\n    const tipBounds = getNestedBoundingClientRect(\n      this.tipBoundsWindow.document.documentElement,\n      this.window,\n    );\n\n    this.tip.updatePosition(\n      {\n        top: outerBox.top,\n        left: outerBox.left,\n        height: outerBox.bottom - outerBox.top,\n        width: outerBox.right - outerBox.left,\n      },\n      {\n        top: tipBounds.top + this.tipBoundsWindow.scrollY,\n        left: tipBounds.left + this.tipBoundsWindow.scrollX,\n        height: this.tipBoundsWindow.innerHeight,\n        width: this.tipBoundsWindow.innerWidth,\n      },\n    );\n  }\n}\n\nfunction findTipPos(\n  dims: Box,\n  bounds: Box,\n  tipSize: {height: number, width: number},\n) {\n  const tipHeight = Math.max(tipSize.height, 20);\n  const tipWidth = Math.max(tipSize.width, 60);\n  const margin = 5;\n\n  let top: number | string;\n  if (dims.top + dims.height + tipHeight <= bounds.top + bounds.height) {\n    if (dims.top + dims.height < bounds.top + 0) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top + dims.height + margin;\n    }\n  } else if (dims.top - tipHeight <= bounds.top + bounds.height) {\n    if (dims.top - tipHeight - margin < bounds.top + margin) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top - tipHeight - margin;\n    }\n  } else {\n    top = bounds.top + bounds.height - tipHeight - margin;\n  }\n\n  let left: number | string = dims.left + margin;\n  if (dims.left < bounds.left) {\n    left = bounds.left + margin;\n  }\n  if (dims.left + tipWidth > bounds.left + bounds.width) {\n    left = bounds.left + bounds.width - tipWidth - margin;\n  }\n\n  top += 'px';\n  left += 'px';\n  return {\n    style: {top, left},\n  };\n}\n\nfunction boxWrap(dims: any, what: string, node: HTMLElement) {\n  assign(node.style, {\n    borderTopWidth: dims[what + 'Top'] + 'px',\n    borderLeftWidth: dims[what + 'Left'] + 'px',\n    borderRightWidth: dims[what + 'Right'] + 'px',\n    borderBottomWidth: dims[what + 'Bottom'] + 'px',\n    borderStyle: 'solid',\n  });\n}\n\nconst overlayStyles = {\n  background: 'rgba(120, 170, 210, 0.7)',\n  padding: 'rgba(77, 200, 0, 0.3)',\n  margin: 'rgba(255, 155, 0, 0.3)',\n  border: 'rgba(255, 200, 50, 0.3)',\n};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type Agent from 'react-devtools-shared/src/backend/agent';\n\nimport {isReactNativeEnvironment} from 'react-devtools-shared/src/backend/utils';\n\nimport Overlay from './Overlay';\n\nconst SHOW_DURATION = 2000;\n\nlet timeoutID: TimeoutID | null = null;\nlet overlay: Overlay | null = null;\n\nfunction hideOverlayNative(agent: Agent): void {\n  agent.emit('hideNativeHighlight');\n}\n\nfunction hideOverlayWeb(): void {\n  timeoutID = null;\n\n  if (overlay !== null) {\n    overlay.remove();\n    overlay = null;\n  }\n}\n\nexport function hideOverlay(agent: Agent): void {\n  return isReactNativeEnvironment()\n    ? hideOverlayNative(agent)\n    : hideOverlayWeb();\n}\n\nfunction showOverlayNative(elements: Array<HTMLElement>, agent: Agent): void {\n  agent.emit('showNativeHighlight', elements);\n}\n\nfunction showOverlayWeb(\n  elements: Array<HTMLElement>,\n  componentName: string | null,\n  agent: Agent,\n  hideAfterTimeout: boolean,\n): void {\n  if (timeoutID !== null) {\n    clearTimeout(timeoutID);\n  }\n\n  if (overlay === null) {\n    overlay = new Overlay(agent);\n  }\n\n  overlay.inspect(elements, componentName);\n\n  if (hideAfterTimeout) {\n    timeoutID = setTimeout(() => hideOverlay(agent), SHOW_DURATION);\n  }\n}\n\nexport function showOverlay(\n  elements: Array<HTMLElement>,\n  componentName: string | null,\n  agent: Agent,\n  hideAfterTimeout: boolean,\n): void {\n  return isReactNativeEnvironment()\n    ? showOverlayNative(elements, agent)\n    : showOverlayWeb(elements, componentName, agent, hideAfterTimeout);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport memoize from 'memoize-one';\nimport throttle from 'lodash.throttle';\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {hideOverlay, showOverlay} from './Highlighter';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\n\n// This plug-in provides in-page highlighting of the selected element.\n// It is used by the browser extension and the standalone DevTools shell (when connected to a browser).\n// It is not currently the mechanism used to highlight React Native views.\n// That is done by the React Native Inspector component.\n\nlet iframesListeningTo: Set<HTMLIFrameElement> = new Set();\n\nexport default function setupHighlighter(\n  bridge: BackendBridge,\n  agent: Agent,\n): void {\n  bridge.addListener(\n    'clearNativeElementHighlight',\n    clearNativeElementHighlight,\n  );\n  bridge.addListener('highlightNativeElement', highlightNativeElement);\n  bridge.addListener('shutdown', stopInspectingNative);\n  bridge.addListener('startInspectingNative', startInspectingNative);\n  bridge.addListener('stopInspectingNative', stopInspectingNative);\n\n  function startInspectingNative() {\n    registerListenersOnWindow(window);\n  }\n\n  function registerListenersOnWindow(window: any) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.addEventListener === 'function') {\n      window.addEventListener('click', onClick, true);\n      window.addEventListener('mousedown', onMouseEvent, true);\n      window.addEventListener('mouseover', onMouseEvent, true);\n      window.addEventListener('mouseup', onMouseEvent, true);\n      window.addEventListener('pointerdown', onPointerDown, true);\n      window.addEventListener('pointermove', onPointerMove, true);\n      window.addEventListener('pointerup', onPointerUp, true);\n    } else {\n      agent.emit('startInspectingNative');\n    }\n  }\n\n  function stopInspectingNative() {\n    hideOverlay(agent);\n    removeListenersOnWindow(window);\n    iframesListeningTo.forEach(function (frame) {\n      try {\n        removeListenersOnWindow(frame.contentWindow);\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    });\n    iframesListeningTo = new Set();\n  }\n\n  function removeListenersOnWindow(window: any) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.removeEventListener === 'function') {\n      window.removeEventListener('click', onClick, true);\n      window.removeEventListener('mousedown', onMouseEvent, true);\n      window.removeEventListener('mouseover', onMouseEvent, true);\n      window.removeEventListener('mouseup', onMouseEvent, true);\n      window.removeEventListener('pointerdown', onPointerDown, true);\n      window.removeEventListener('pointermove', onPointerMove, true);\n      window.removeEventListener('pointerup', onPointerUp, true);\n    } else {\n      agent.emit('stopInspectingNative');\n    }\n  }\n\n  function clearNativeElementHighlight() {\n    hideOverlay(agent);\n  }\n\n  function highlightNativeElement({\n    displayName,\n    hideAfterTimeout,\n    id,\n    openNativeElementsPanel,\n    rendererID,\n    scrollIntoView,\n  }: {\n    displayName: string | null,\n    hideAfterTimeout: boolean,\n    id: number,\n    openNativeElementsPanel: boolean,\n    rendererID: number,\n    scrollIntoView: boolean,\n    ...\n  }) {\n    const renderer = agent.rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n\n      hideOverlay(agent);\n      return;\n    }\n\n    // In some cases fiber may already be unmounted\n    if (!renderer.hasFiberWithId(id)) {\n      hideOverlay(agent);\n      return;\n    }\n\n    const nodes: ?Array<HTMLElement> = (renderer.findNativeNodesForFiberID(\n      id,\n    ): any);\n\n    if (nodes != null && nodes[0] != null) {\n      const node = nodes[0];\n      // $FlowFixMe[method-unbinding]\n      if (scrollIntoView && typeof node.scrollIntoView === 'function') {\n        // If the node isn't visible show it before highlighting it.\n        // We may want to reconsider this; it might be a little disruptive.\n        node.scrollIntoView({block: 'nearest', inline: 'nearest'});\n      }\n\n      showOverlay(nodes, displayName, agent, hideAfterTimeout);\n\n      if (openNativeElementsPanel) {\n        window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0 = node;\n        bridge.send('syncSelectionToNativeElementsPanel');\n      }\n    } else {\n      hideOverlay(agent);\n    }\n  }\n\n  function onClick(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    stopInspectingNative();\n\n    bridge.send('stopInspectingNative', true);\n  }\n\n  function onMouseEvent(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  function onPointerDown(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    selectFiberForNode(getEventTarget(event));\n  }\n\n  let lastHoveredNode: HTMLElement | null = null;\n  function onPointerMove(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    const target: HTMLElement = getEventTarget(event);\n    if (lastHoveredNode === target) return;\n    lastHoveredNode = target;\n\n    if (target.tagName === 'IFRAME') {\n      const iframe: HTMLIFrameElement = (target: any);\n      try {\n        if (!iframesListeningTo.has(iframe)) {\n          const window = iframe.contentWindow;\n          registerListenersOnWindow(window);\n          iframesListeningTo.add(iframe);\n        }\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    }\n\n    // Don't pass the name explicitly.\n    // It will be inferred from DOM tag and Fiber owner.\n    showOverlay([target], null, agent, false);\n\n    selectFiberForNode(target);\n  }\n\n  function onPointerUp(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  const selectFiberForNode = throttle(\n    memoize((node: HTMLElement) => {\n      const id = agent.getIDForNode(node);\n      if (id !== null) {\n        bridge.send('selectFiber', id);\n      }\n    }),\n    200,\n    // Don't change the selection in the very first 200ms\n    // because those are usually unintentional as you lift the cursor.\n    {leading: false},\n  );\n\n  function getEventTarget(event: MouseEvent): HTMLElement {\n    if (event.composed) {\n      return (event.composedPath()[0]: any);\n    }\n\n    return (event.target: any);\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Data} from './index';\nimport type {Rect} from '../utils';\nimport type {NativeType} from '../../types';\nimport type Agent from '../../agent';\n\nimport {isReactNativeEnvironment} from 'react-devtools-shared/src/backend/utils';\n\nconst OUTLINE_COLOR = '#f0f0f0';\n\n// Note these colors are in sync with DevTools Profiler chart colors.\nconst COLORS = [\n  '#37afa9',\n  '#63b19e',\n  '#80b393',\n  '#97b488',\n  '#abb67d',\n  '#beb771',\n  '#cfb965',\n  '#dfba57',\n  '#efbb49',\n  '#febc38',\n];\n\nlet canvas: HTMLCanvasElement | null = null;\n\nfunction drawNative(nodeToData: Map<NativeType, Data>, agent: Agent) {\n  const nodesToDraw = [];\n  iterateNodes(nodeToData, (_, color, node) => {\n    nodesToDraw.push({node, color});\n  });\n\n  agent.emit('drawTraceUpdates', nodesToDraw);\n}\n\nfunction drawWeb(nodeToData: Map<NativeType, Data>) {\n  if (canvas === null) {\n    initialize();\n  }\n\n  const canvasFlow: HTMLCanvasElement = ((canvas: any): HTMLCanvasElement);\n  canvasFlow.width = window.innerWidth;\n  canvasFlow.height = window.innerHeight;\n\n  const context = canvasFlow.getContext('2d');\n  context.clearRect(0, 0, canvasFlow.width, canvasFlow.height);\n  iterateNodes(nodeToData, (rect, color) => {\n    if (rect !== null) {\n      drawBorder(context, rect, color);\n    }\n  });\n}\n\nexport function draw(nodeToData: Map<NativeType, Data>, agent: Agent): void {\n  return isReactNativeEnvironment()\n    ? drawNative(nodeToData, agent)\n    : drawWeb(nodeToData);\n}\n\nfunction iterateNodes(\n  nodeToData: Map<NativeType, Data>,\n  execute: (rect: Rect | null, color: string, node: NativeType) => void,\n) {\n  nodeToData.forEach(({count, rect}, node) => {\n    const colorIndex = Math.min(COLORS.length - 1, count - 1);\n    const color = COLORS[colorIndex];\n    execute(rect, color, node);\n  });\n}\n\nfunction drawBorder(\n  context: CanvasRenderingContext2D,\n  rect: Rect,\n  color: string,\n): void {\n  const {height, left, top, width} = rect;\n\n  // outline\n  context.lineWidth = 1;\n  context.strokeStyle = OUTLINE_COLOR;\n\n  context.strokeRect(left - 1, top - 1, width + 2, height + 2);\n\n  // inset\n  context.lineWidth = 1;\n  context.strokeStyle = OUTLINE_COLOR;\n  context.strokeRect(left + 1, top + 1, width - 1, height - 1);\n  context.strokeStyle = color;\n\n  context.setLineDash([0]);\n\n  // border\n  context.lineWidth = 1;\n  context.strokeRect(left, top, width - 1, height - 1);\n\n  context.setLineDash([0]);\n}\n\nfunction destroyNative(agent: Agent) {\n  agent.emit('disableTraceUpdates');\n}\n\nfunction destroyWeb() {\n  if (canvas !== null) {\n    if (canvas.parentNode != null) {\n      canvas.parentNode.removeChild(canvas);\n    }\n    canvas = null;\n  }\n}\n\nexport function destroy(agent: Agent): void {\n  return isReactNativeEnvironment() ? destroyNative(agent) : destroyWeb();\n}\n\nfunction initialize(): void {\n  canvas = window.document.createElement('canvas');\n  canvas.style.cssText = `\n    xx-background-color: red;\n    xx-opacity: 0.5;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n    position: fixed;\n    right: 0;\n    top: 0;\n    z-index: 1000000000;\n  `;\n\n  const root = window.document.documentElement;\n  root.insertBefore(canvas, root.firstChild);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {destroy as destroyCanvas, draw} from './canvas';\nimport {getNestedBoundingClientRect} from '../utils';\n\nimport type {NativeType} from '../../types';\nimport type {Rect} from '../utils';\n\n// How long the rect should be shown for?\nconst DISPLAY_DURATION = 250;\n\n// What's the longest we are willing to show the overlay for?\n// This can be important if we're getting a flurry of events (e.g. scroll update).\nconst MAX_DISPLAY_DURATION = 3000;\n\n// How long should a rect be considered valid for?\nconst REMEASUREMENT_AFTER_DURATION = 250;\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport type Data = {\n  count: number,\n  expirationTime: number,\n  lastMeasuredAt: number,\n  rect: Rect | null,\n};\n\nconst nodeToData: Map<NativeType, Data> = new Map();\n\nlet agent: Agent = ((null: any): Agent);\nlet drawAnimationFrameID: AnimationFrameID | null = null;\nlet isEnabled: boolean = false;\nlet redrawTimeoutID: TimeoutID | null = null;\n\nexport function initialize(injectedAgent: Agent): void {\n  agent = injectedAgent;\n  agent.addListener('traceUpdates', traceUpdates);\n}\n\nexport function toggleEnabled(value: boolean): void {\n  isEnabled = value;\n\n  if (!isEnabled) {\n    nodeToData.clear();\n\n    if (drawAnimationFrameID !== null) {\n      cancelAnimationFrame(drawAnimationFrameID);\n      drawAnimationFrameID = null;\n    }\n\n    if (redrawTimeoutID !== null) {\n      clearTimeout(redrawTimeoutID);\n      redrawTimeoutID = null;\n    }\n\n    destroyCanvas(agent);\n  }\n}\n\nfunction traceUpdates(nodes: Set<NativeType>): void {\n  if (!isEnabled) {\n    return;\n  }\n\n  nodes.forEach(node => {\n    const data = nodeToData.get(node);\n    const now = getCurrentTime();\n\n    let lastMeasuredAt = data != null ? data.lastMeasuredAt : 0;\n    let rect = data != null ? data.rect : null;\n    if (rect === null || lastMeasuredAt + REMEASUREMENT_AFTER_DURATION < now) {\n      lastMeasuredAt = now;\n      rect = measureNode(node);\n    }\n\n    nodeToData.set(node, {\n      count: data != null ? data.count + 1 : 1,\n      expirationTime:\n        data != null\n          ? Math.min(\n              now + MAX_DISPLAY_DURATION,\n              data.expirationTime + DISPLAY_DURATION,\n            )\n          : now + DISPLAY_DURATION,\n      lastMeasuredAt,\n      rect,\n    });\n  });\n\n  if (redrawTimeoutID !== null) {\n    clearTimeout(redrawTimeoutID);\n    redrawTimeoutID = null;\n  }\n\n  if (drawAnimationFrameID === null) {\n    drawAnimationFrameID = requestAnimationFrame(prepareToDraw);\n  }\n}\n\nfunction prepareToDraw(): void {\n  drawAnimationFrameID = null;\n  redrawTimeoutID = null;\n\n  const now = getCurrentTime();\n  let earliestExpiration = Number.MAX_VALUE;\n\n  // Remove any items that have already expired.\n  nodeToData.forEach((data, node) => {\n    if (data.expirationTime < now) {\n      nodeToData.delete(node);\n    } else {\n      earliestExpiration = Math.min(earliestExpiration, data.expirationTime);\n    }\n  });\n\n  draw(nodeToData, agent);\n\n  if (earliestExpiration !== Number.MAX_VALUE) {\n    redrawTimeoutID = setTimeout(prepareToDraw, earliestExpiration - now);\n  }\n}\n\nfunction measureNode(node: Object): Rect | null {\n  if (!node || typeof node.getBoundingClientRect !== 'function') {\n    return null;\n  }\n\n  const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n\n  return getNestedBoundingClientRect(node, currentWindow);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nconst assign = Object.assign;\n\nexport default assign;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react\");","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport * as React from 'react';\n\nconst ReactSharedInternals =\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;\n\nexport default ReactSharedInternals;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport type WorkTag =\n  | 0\n  | 1\n  | 2\n  | 3\n  | 4\n  | 5\n  | 6\n  | 7\n  | 8\n  | 9\n  | 10\n  | 11\n  | 12\n  | 13\n  | 14\n  | 15\n  | 16\n  | 17\n  | 18\n  | 19\n  | 20\n  | 21\n  | 22\n  | 23\n  | 24\n  | 25\n  | 26\n  | 27\n  | 28\n  | 29;\n\nexport const FunctionComponent = 0;\nexport const ClassComponent = 1;\nexport const HostRoot = 3; // Root of a host tree. Could be nested inside another node.\nexport const HostPortal = 4; // A subtree. Could be an entry point to a different renderer.\nexport const HostComponent = 5;\nexport const HostText = 6;\nexport const Fragment = 7;\nexport const Mode = 8;\nexport const ContextConsumer = 9;\nexport const ContextProvider = 10;\nexport const ForwardRef = 11;\nexport const Profiler = 12;\nexport const SuspenseComponent = 13;\nexport const MemoComponent = 14;\nexport const SimpleMemoComponent = 15;\nexport const LazyComponent = 16;\nexport const IncompleteClassComponent = 17;\nexport const DehydratedFragment = 18;\nexport const SuspenseListComponent = 19;\nexport const ScopeComponent = 21;\nexport const OffscreenComponent = 22;\nexport const LegacyHiddenComponent = 23;\nexport const CacheComponent = 24;\nexport const TracingMarkerComponent = 25;\nexport const HostHoistable = 26;\nexport const HostSingleton = 27;\nexport const IncompleteFunctionComponent = 28;\nexport const Throw = 29;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// $FlowFixMe[method-unbinding]\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nexport default hasOwnProperty;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  Awaited,\n  ReactContext,\n  StartTransitionOptions,\n  Usable,\n  Thenable,\n  ReactDebugInfo,\n} from 'shared/ReactTypes';\nimport type {\n  ContextDependency,\n  Dependencies,\n  Fiber,\n  Dispatcher as DispatcherType,\n} from 'react-reconciler/src/ReactInternalTypes';\nimport type {TransitionStatus} from 'react-reconciler/src/ReactFiberConfig';\n\nimport ErrorStackParser from 'error-stack-parser';\nimport assign from 'shared/assign';\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\nimport {\n  FunctionComponent,\n  SimpleMemoComponent,\n  ContextProvider,\n  ForwardRef,\n} from 'react-reconciler/src/ReactWorkTags';\nimport {\n  REACT_MEMO_CACHE_SENTINEL,\n  REACT_CONTEXT_TYPE,\n} from 'shared/ReactSymbols';\nimport hasOwnProperty from 'shared/hasOwnProperty';\n\ntype CurrentDispatcherRef = typeof ReactSharedInternals;\n\n// Used to track hooks called during a render\n\ntype HookLogEntry = {\n  displayName: string | null,\n  primitive: string,\n  stackError: Error,\n  value: mixed,\n  debugInfo: ReactDebugInfo | null,\n  dispatcherHookName: string,\n};\n\nlet hookLog: Array<HookLogEntry> = [];\n\n// Primitives\n\ntype BasicStateAction<S> = (S => S) | S;\n\ntype Dispatch<A> = A => void;\n\nlet primitiveStackCache: null | Map<string, Array<any>> = null;\n\ntype Hook = {\n  memoizedState: any,\n  next: Hook | null,\n};\n\nfunction getPrimitiveStackCache(): Map<string, Array<any>> {\n  // This initializes a cache of all primitive hooks so that the top\n  // most stack frames added by calling the primitive hook can be removed.\n  if (primitiveStackCache === null) {\n    const cache = new Map<string, Array<any>>();\n    let readHookLog;\n    try {\n      // Use all hooks here to add them to the hook log.\n      Dispatcher.useContext(({_currentValue: null}: any));\n      Dispatcher.useState(null);\n      Dispatcher.useReducer((s: mixed, a: mixed) => s, null);\n      Dispatcher.useRef(null);\n      if (typeof Dispatcher.useCacheRefresh === 'function') {\n        // This type check is for Flow only.\n        Dispatcher.useCacheRefresh();\n      }\n      Dispatcher.useLayoutEffect(() => {});\n      Dispatcher.useInsertionEffect(() => {});\n      Dispatcher.useEffect(() => {});\n      Dispatcher.useImperativeHandle(undefined, () => null);\n      Dispatcher.useDebugValue(null);\n      Dispatcher.useCallback(() => {});\n      Dispatcher.useTransition();\n      Dispatcher.useSyncExternalStore(\n        () => () => {},\n        () => null,\n        () => null,\n      );\n      Dispatcher.useDeferredValue(null);\n      Dispatcher.useMemo(() => null);\n      if (typeof Dispatcher.useMemoCache === 'function') {\n        // This type check is for Flow only.\n        Dispatcher.useMemoCache(0);\n      }\n      if (typeof Dispatcher.useOptimistic === 'function') {\n        // This type check is for Flow only.\n        Dispatcher.useOptimistic(null, (s: mixed, a: mixed) => s);\n      }\n      if (typeof Dispatcher.useFormState === 'function') {\n        // This type check is for Flow only.\n        Dispatcher.useFormState((s: mixed, p: mixed) => s, null);\n      }\n      if (typeof Dispatcher.useActionState === 'function') {\n        // This type check is for Flow only.\n        Dispatcher.useActionState((s: mixed, p: mixed) => s, null);\n      }\n      if (typeof Dispatcher.use === 'function') {\n        // This type check is for Flow only.\n        Dispatcher.use(\n          ({\n            $$typeof: REACT_CONTEXT_TYPE,\n            _currentValue: null,\n          }: any),\n        );\n        Dispatcher.use({\n          then() {},\n          status: 'fulfilled',\n          value: null,\n        });\n        try {\n          Dispatcher.use(\n            ({\n              then() {},\n            }: any),\n          );\n        } catch (x) {}\n      }\n\n      Dispatcher.useId();\n\n      if (typeof Dispatcher.useHostTransitionStatus === 'function') {\n        // This type check is for Flow only.\n        Dispatcher.useHostTransitionStatus();\n      }\n    } finally {\n      readHookLog = hookLog;\n      hookLog = [];\n    }\n    for (let i = 0; i < readHookLog.length; i++) {\n      const hook = readHookLog[i];\n      cache.set(hook.primitive, ErrorStackParser.parse(hook.stackError));\n    }\n    primitiveStackCache = cache;\n  }\n  return primitiveStackCache;\n}\n\nlet currentFiber: null | Fiber = null;\nlet currentHook: null | Hook = null;\nlet currentContextDependency: null | ContextDependency<mixed> = null;\n\nfunction nextHook(): null | Hook {\n  const hook = currentHook;\n  if (hook !== null) {\n    currentHook = hook.next;\n  }\n  return hook;\n}\n\nfunction readContext<T>(context: ReactContext<T>): T {\n  if (currentFiber === null) {\n    // Hook inspection without access to the Fiber tree\n    // e.g. when warming up the primitive stack cache or during `ReactDebugTools.inspectHooks()`.\n    return context._currentValue;\n  } else {\n    if (currentContextDependency === null) {\n      throw new Error(\n        'Context reads do not line up with context dependencies. This is a bug in React Debug Tools.',\n      );\n    }\n\n    let value: T;\n    // For now we don't expose readContext usage in the hooks debugging info.\n    if (hasOwnProperty.call(currentContextDependency, 'memoizedValue')) {\n      // $FlowFixMe[incompatible-use] Flow thinks `hasOwnProperty` mutates `currentContextDependency`\n      value = ((currentContextDependency.memoizedValue: any): T);\n\n      // $FlowFixMe[incompatible-use] Flow thinks `hasOwnProperty` mutates `currentContextDependency`\n      currentContextDependency = currentContextDependency.next;\n    } else {\n      // Before React 18, we did not have `memoizedValue` so we rely on `setupContexts` in those versions.\n      // Multiple reads of the same context were also only tracked as a single dependency.\n      // We just give up on advancing context dependencies and solely rely on `setupContexts`.\n      value = context._currentValue;\n    }\n\n    return value;\n  }\n}\n\nconst SuspenseException: mixed = new Error(\n  \"Suspense Exception: This is not a real error! It's an implementation \" +\n    'detail of `use` to interrupt the current render. You must either ' +\n    'rethrow it immediately, or move the `use` call outside of the ' +\n    '`try/catch` block. Capturing without rethrowing will lead to ' +\n    'unexpected behavior.\\n\\n' +\n    'To handle async errors, wrap your component in an error boundary, or ' +\n    \"call the promise's `.catch` method and pass the result to `use`\",\n);\n\nfunction use<T>(usable: Usable<T>): T {\n  if (usable !== null && typeof usable === 'object') {\n    // $FlowFixMe[method-unbinding]\n    if (typeof usable.then === 'function') {\n      const thenable: Thenable<any> = (usable: any);\n      switch (thenable.status) {\n        case 'fulfilled': {\n          const fulfilledValue: T = thenable.value;\n          hookLog.push({\n            displayName: null,\n            primitive: 'Promise',\n            stackError: new Error(),\n            value: fulfilledValue,\n            debugInfo:\n              thenable._debugInfo === undefined ? null : thenable._debugInfo,\n            dispatcherHookName: 'Use',\n          });\n          return fulfilledValue;\n        }\n        case 'rejected': {\n          const rejectedError = thenable.reason;\n          throw rejectedError;\n        }\n      }\n      // If this was an uncached Promise we have to abandon this attempt\n      // but we can still emit anything up until this point.\n      hookLog.push({\n        displayName: null,\n        primitive: 'Unresolved',\n        stackError: new Error(),\n        value: thenable,\n        debugInfo:\n          thenable._debugInfo === undefined ? null : thenable._debugInfo,\n        dispatcherHookName: 'Use',\n      });\n      throw SuspenseException;\n    } else if (usable.$$typeof === REACT_CONTEXT_TYPE) {\n      const context: ReactContext<T> = (usable: any);\n      const value = readContext(context);\n\n      hookLog.push({\n        displayName: context.displayName || 'Context',\n        primitive: 'Context (use)',\n        stackError: new Error(),\n        value,\n        debugInfo: null,\n        dispatcherHookName: 'Use',\n      });\n\n      return value;\n    }\n  }\n\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  throw new Error('An unsupported type was passed to use(): ' + String(usable));\n}\n\nfunction useContext<T>(context: ReactContext<T>): T {\n  const value = readContext(context);\n  hookLog.push({\n    displayName: context.displayName || null,\n    primitive: 'Context',\n    stackError: new Error(),\n    value: value,\n    debugInfo: null,\n    dispatcherHookName: 'Context',\n  });\n  return value;\n}\n\nfunction useState<S>(\n  initialState: (() => S) | S,\n): [S, Dispatch<BasicStateAction<S>>] {\n  const hook = nextHook();\n  const state: S =\n    hook !== null\n      ? hook.memoizedState\n      : typeof initialState === 'function'\n      ? // $FlowFixMe[incompatible-use]: Flow doesn't like mixed types\n        initialState()\n      : initialState;\n  hookLog.push({\n    displayName: null,\n    primitive: 'State',\n    stackError: new Error(),\n    value: state,\n    debugInfo: null,\n    dispatcherHookName: 'State',\n  });\n  return [state, (action: BasicStateAction<S>) => {}];\n}\n\nfunction useReducer<S, I, A>(\n  reducer: (S, A) => S,\n  initialArg: I,\n  init?: I => S,\n): [S, Dispatch<A>] {\n  const hook = nextHook();\n  let state;\n  if (hook !== null) {\n    state = hook.memoizedState;\n  } else {\n    state = init !== undefined ? init(initialArg) : ((initialArg: any): S);\n  }\n  hookLog.push({\n    displayName: null,\n    primitive: 'Reducer',\n    stackError: new Error(),\n    value: state,\n    debugInfo: null,\n    dispatcherHookName: 'Reducer',\n  });\n  return [state, (action: A) => {}];\n}\n\nfunction useRef<T>(initialValue: T): {current: T} {\n  const hook = nextHook();\n  const ref = hook !== null ? hook.memoizedState : {current: initialValue};\n  hookLog.push({\n    displayName: null,\n    primitive: 'Ref',\n    stackError: new Error(),\n    value: ref.current,\n    debugInfo: null,\n    dispatcherHookName: 'Ref',\n  });\n  return ref;\n}\n\nfunction useCacheRefresh(): () => void {\n  const hook = nextHook();\n  hookLog.push({\n    displayName: null,\n    primitive: 'CacheRefresh',\n    stackError: new Error(),\n    value: hook !== null ? hook.memoizedState : function refresh() {},\n    debugInfo: null,\n    dispatcherHookName: 'CacheRefresh',\n  });\n  return () => {};\n}\n\nfunction useLayoutEffect(\n  create: () => (() => void) | void,\n  inputs: Array<mixed> | void | null,\n): void {\n  nextHook();\n  hookLog.push({\n    displayName: null,\n    primitive: 'LayoutEffect',\n    stackError: new Error(),\n    value: create,\n    debugInfo: null,\n    dispatcherHookName: 'LayoutEffect',\n  });\n}\n\nfunction useInsertionEffect(\n  create: () => mixed,\n  inputs: Array<mixed> | void | null,\n): void {\n  nextHook();\n  hookLog.push({\n    displayName: null,\n    primitive: 'InsertionEffect',\n    stackError: new Error(),\n    value: create,\n    debugInfo: null,\n    dispatcherHookName: 'InsertionEffect',\n  });\n}\n\nfunction useEffect(\n  create: () => (() => void) | void,\n  inputs: Array<mixed> | void | null,\n): void {\n  nextHook();\n  hookLog.push({\n    displayName: null,\n    primitive: 'Effect',\n    stackError: new Error(),\n    value: create,\n    debugInfo: null,\n    dispatcherHookName: 'Effect',\n  });\n}\n\nfunction useImperativeHandle<T>(\n  ref: {current: T | null} | ((inst: T | null) => mixed) | null | void,\n  create: () => T,\n  inputs: Array<mixed> | void | null,\n): void {\n  nextHook();\n  // We don't actually store the instance anywhere if there is no ref callback\n  // and if there is a ref callback it might not store it but if it does we\n  // have no way of knowing where. So let's only enable introspection of the\n  // ref itself if it is using the object form.\n  let instance: ?T = undefined;\n  if (ref !== null && typeof ref === 'object') {\n    instance = ref.current;\n  }\n  hookLog.push({\n    displayName: null,\n    primitive: 'ImperativeHandle',\n    stackError: new Error(),\n    value: instance,\n    debugInfo: null,\n    dispatcherHookName: 'ImperativeHandle',\n  });\n}\n\nfunction useDebugValue(value: any, formatterFn: ?(value: any) => any) {\n  hookLog.push({\n    displayName: null,\n    primitive: 'DebugValue',\n    stackError: new Error(),\n    value: typeof formatterFn === 'function' ? formatterFn(value) : value,\n    debugInfo: null,\n    dispatcherHookName: 'DebugValue',\n  });\n}\n\nfunction useCallback<T>(callback: T, inputs: Array<mixed> | void | null): T {\n  const hook = nextHook();\n  hookLog.push({\n    displayName: null,\n    primitive: 'Callback',\n    stackError: new Error(),\n    value: hook !== null ? hook.memoizedState[0] : callback,\n    debugInfo: null,\n    dispatcherHookName: 'Callback',\n  });\n  return callback;\n}\n\nfunction useMemo<T>(\n  nextCreate: () => T,\n  inputs: Array<mixed> | void | null,\n): T {\n  const hook = nextHook();\n  const value = hook !== null ? hook.memoizedState[0] : nextCreate();\n  hookLog.push({\n    displayName: null,\n    primitive: 'Memo',\n    stackError: new Error(),\n    value,\n    debugInfo: null,\n    dispatcherHookName: 'Memo',\n  });\n  return value;\n}\n\nfunction useSyncExternalStore<T>(\n  subscribe: (() => void) => () => void,\n  getSnapshot: () => T,\n  getServerSnapshot?: () => T,\n): T {\n  // useSyncExternalStore() composes multiple hooks internally.\n  // Advance the current hook index the same number of times\n  // so that subsequent hooks have the right memoized state.\n  nextHook(); // SyncExternalStore\n  nextHook(); // Effect\n  const value = getSnapshot();\n  hookLog.push({\n    displayName: null,\n    primitive: 'SyncExternalStore',\n    stackError: new Error(),\n    value,\n    debugInfo: null,\n    dispatcherHookName: 'SyncExternalStore',\n  });\n  return value;\n}\n\nfunction useTransition(): [\n  boolean,\n  (callback: () => void, options?: StartTransitionOptions) => void,\n] {\n  // useTransition() composes multiple hooks internally.\n  // Advance the current hook index the same number of times\n  // so that subsequent hooks have the right memoized state.\n  const stateHook = nextHook();\n  nextHook(); // Callback\n\n  const isPending = stateHook !== null ? stateHook.memoizedState : false;\n\n  hookLog.push({\n    displayName: null,\n    primitive: 'Transition',\n    stackError: new Error(),\n    value: isPending,\n    debugInfo: null,\n    dispatcherHookName: 'Transition',\n  });\n  return [isPending, () => {}];\n}\n\nfunction useDeferredValue<T>(value: T, initialValue?: T): T {\n  const hook = nextHook();\n  const prevValue = hook !== null ? hook.memoizedState : value;\n  hookLog.push({\n    displayName: null,\n    primitive: 'DeferredValue',\n    stackError: new Error(),\n    value: prevValue,\n    debugInfo: null,\n    dispatcherHookName: 'DeferredValue',\n  });\n  return prevValue;\n}\n\nfunction useId(): string {\n  const hook = nextHook();\n  const id = hook !== null ? hook.memoizedState : '';\n  hookLog.push({\n    displayName: null,\n    primitive: 'Id',\n    stackError: new Error(),\n    value: id,\n    debugInfo: null,\n    dispatcherHookName: 'Id',\n  });\n  return id;\n}\n\n// useMemoCache is an implementation detail of Forget's memoization\n// it should not be called directly in user-generated code\nfunction useMemoCache(size: number): Array<any> {\n  const fiber = currentFiber;\n  // Don't throw, in case this is called from getPrimitiveStackCache\n  if (fiber == null) {\n    return [];\n  }\n\n  // $FlowFixMe[incompatible-use]: updateQueue is mixed\n  const memoCache = fiber.updateQueue?.memoCache;\n  if (memoCache == null) {\n    return [];\n  }\n\n  let data = memoCache.data[memoCache.index];\n  if (data === undefined) {\n    data = memoCache.data[memoCache.index] = new Array(size);\n    for (let i = 0; i < size; i++) {\n      data[i] = REACT_MEMO_CACHE_SENTINEL;\n    }\n  }\n\n  // We don't write anything to hookLog on purpose, so this hook remains invisible to users.\n\n  memoCache.index++;\n  return data;\n}\n\nfunction useOptimistic<S, A>(\n  passthrough: S,\n  reducer: ?(S, A) => S,\n): [S, (A) => void] {\n  const hook = nextHook();\n  let state;\n  if (hook !== null) {\n    state = hook.memoizedState;\n  } else {\n    state = passthrough;\n  }\n  hookLog.push({\n    displayName: null,\n    primitive: 'Optimistic',\n    stackError: new Error(),\n    value: state,\n    debugInfo: null,\n    dispatcherHookName: 'Optimistic',\n  });\n  return [state, (action: A) => {}];\n}\n\nfunction useFormState<S, P>(\n  action: (Awaited<S>, P) => S,\n  initialState: Awaited<S>,\n  permalink?: string,\n): [Awaited<S>, (P) => void, boolean] {\n  const hook = nextHook(); // FormState\n  nextHook(); // PendingState\n  nextHook(); // ActionQueue\n  const stackError = new Error();\n  let value;\n  let debugInfo = null;\n  let error = null;\n\n  if (hook !== null) {\n    const actionResult = hook.memoizedState;\n    if (\n      typeof actionResult === 'object' &&\n      actionResult !== null &&\n      // $FlowFixMe[method-unbinding]\n      typeof actionResult.then === 'function'\n    ) {\n      const thenable: Thenable<Awaited<S>> = (actionResult: any);\n      switch (thenable.status) {\n        case 'fulfilled': {\n          value = thenable.value;\n          debugInfo =\n            thenable._debugInfo === undefined ? null : thenable._debugInfo;\n          break;\n        }\n        case 'rejected': {\n          const rejectedError = thenable.reason;\n          error = rejectedError;\n          break;\n        }\n        default:\n          // If this was an uncached Promise we have to abandon this attempt\n          // but we can still emit anything up until this point.\n          error = SuspenseException;\n          debugInfo =\n            thenable._debugInfo === undefined ? null : thenable._debugInfo;\n          value = thenable;\n      }\n    } else {\n      value = (actionResult: any);\n    }\n  } else {\n    value = initialState;\n  }\n\n  hookLog.push({\n    displayName: null,\n    primitive: 'FormState',\n    stackError: stackError,\n    value: value,\n    debugInfo: debugInfo,\n    dispatcherHookName: 'FormState',\n  });\n\n  if (error !== null) {\n    throw error;\n  }\n\n  // value being a Thenable is equivalent to error being not null\n  // i.e. we only reach this point with Awaited<S>\n  const state = ((value: any): Awaited<S>);\n\n  // TODO: support displaying pending value\n  return [state, (payload: P) => {}, false];\n}\n\nfunction useActionState<S, P>(\n  action: (Awaited<S>, P) => S,\n  initialState: Awaited<S>,\n  permalink?: string,\n): [Awaited<S>, (P) => void, boolean] {\n  const hook = nextHook(); // FormState\n  nextHook(); // PendingState\n  nextHook(); // ActionQueue\n  const stackError = new Error();\n  let value;\n  let debugInfo = null;\n  let error = null;\n\n  if (hook !== null) {\n    const actionResult = hook.memoizedState;\n    if (\n      typeof actionResult === 'object' &&\n      actionResult !== null &&\n      // $FlowFixMe[method-unbinding]\n      typeof actionResult.then === 'function'\n    ) {\n      const thenable: Thenable<Awaited<S>> = (actionResult: any);\n      switch (thenable.status) {\n        case 'fulfilled': {\n          value = thenable.value;\n          debugInfo =\n            thenable._debugInfo === undefined ? null : thenable._debugInfo;\n          break;\n        }\n        case 'rejected': {\n          const rejectedError = thenable.reason;\n          error = rejectedError;\n          break;\n        }\n        default:\n          // If this was an uncached Promise we have to abandon this attempt\n          // but we can still emit anything up until this point.\n          error = SuspenseException;\n          debugInfo =\n            thenable._debugInfo === undefined ? null : thenable._debugInfo;\n          value = thenable;\n      }\n    } else {\n      value = (actionResult: any);\n    }\n  } else {\n    value = initialState;\n  }\n\n  hookLog.push({\n    displayName: null,\n    primitive: 'ActionState',\n    stackError: stackError,\n    value: value,\n    debugInfo: debugInfo,\n    dispatcherHookName: 'ActionState',\n  });\n\n  if (error !== null) {\n    throw error;\n  }\n\n  // value being a Thenable is equivalent to error being not null\n  // i.e. we only reach this point with Awaited<S>\n  const state = ((value: any): Awaited<S>);\n\n  // TODO: support displaying pending value\n  return [state, (payload: P) => {}, false];\n}\n\nfunction useHostTransitionStatus(): TransitionStatus {\n  const status = readContext<TransitionStatus>(\n    // $FlowFixMe[prop-missing] `readContext` only needs _currentValue\n    ({\n      // $FlowFixMe[incompatible-cast] TODO: Incorrect bottom value without access to Fiber config.\n      _currentValue: null,\n    }: ReactContext<TransitionStatus>),\n  );\n\n  hookLog.push({\n    displayName: null,\n    primitive: 'HostTransitionStatus',\n    stackError: new Error(),\n    value: status,\n    debugInfo: null,\n    dispatcherHookName: 'HostTransitionStatus',\n  });\n\n  return status;\n}\n\nconst Dispatcher: DispatcherType = {\n  use,\n  readContext,\n  useCacheRefresh,\n  useCallback,\n  useContext,\n  useEffect,\n  useImperativeHandle,\n  useDebugValue,\n  useLayoutEffect,\n  useInsertionEffect,\n  useMemo,\n  useMemoCache,\n  useOptimistic,\n  useReducer,\n  useRef,\n  useState,\n  useTransition,\n  useSyncExternalStore,\n  useDeferredValue,\n  useId,\n  useFormState,\n  useActionState,\n  useHostTransitionStatus,\n};\n\n// create a proxy to throw a custom error\n// in case future versions of React adds more hooks\nconst DispatcherProxyHandler = {\n  get(target: DispatcherType, prop: string) {\n    if (target.hasOwnProperty(prop)) {\n      return target[prop];\n    }\n    const error = new Error('Missing method in Dispatcher: ' + prop);\n    // Note: This error name needs to stay in sync with react-devtools-shared\n    // TODO: refactor this if we ever combine the devtools and debug tools packages\n    error.name = 'ReactDebugToolsUnsupportedHookError';\n    throw error;\n  },\n};\n\n// `Proxy` may not exist on some platforms\nconst DispatcherProxy =\n  typeof Proxy === 'undefined'\n    ? Dispatcher\n    : new Proxy(Dispatcher, DispatcherProxyHandler);\n\n// Inspect\n\nexport type HookSource = {\n  lineNumber: number | null,\n  columnNumber: number | null,\n  fileName: string | null,\n  functionName: string | null,\n};\n\nexport type HooksNode = {\n  id: number | null,\n  isStateEditable: boolean,\n  name: string,\n  value: mixed,\n  subHooks: Array<HooksNode>,\n  debugInfo: null | ReactDebugInfo,\n  hookSource: null | HookSource,\n};\nexport type HooksTree = Array<HooksNode>;\n\n// Don't assume\n//\n// We can't assume that stack frames are nth steps away from anything.\n// E.g. we can't assume that the root call shares all frames with the stack\n// of a hook call. A simple way to demonstrate this is wrapping `new Error()`\n// in a wrapper constructor like a polyfill. That'll add an extra frame.\n// Similar things can happen with the call to the dispatcher. The top frame\n// may not be the primitive.\n//\n// We also can't assume that the last frame of the root call is the same\n// frame as the last frame of the hook call because long stack traces can be\n// truncated to a stack trace limit.\n\nlet mostLikelyAncestorIndex = 0;\n\nfunction findSharedIndex(hookStack: any, rootStack: any, rootIndex: number) {\n  const source = rootStack[rootIndex].source;\n  hookSearch: for (let i = 0; i < hookStack.length; i++) {\n    if (hookStack[i].source === source) {\n      // This looks like a match. Validate that the rest of both stack match up.\n      for (\n        let a = rootIndex + 1, b = i + 1;\n        a < rootStack.length && b < hookStack.length;\n        a++, b++\n      ) {\n        if (hookStack[b].source !== rootStack[a].source) {\n          // If not, give up and try a different match.\n          continue hookSearch;\n        }\n      }\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction findCommonAncestorIndex(rootStack: any, hookStack: any) {\n  let rootIndex = findSharedIndex(\n    hookStack,\n    rootStack,\n    mostLikelyAncestorIndex,\n  );\n  if (rootIndex !== -1) {\n    return rootIndex;\n  }\n  // If the most likely one wasn't a hit, try any other frame to see if it is shared.\n  // If that takes more than 5 frames, something probably went wrong.\n  for (let i = 0; i < rootStack.length && i < 5; i++) {\n    rootIndex = findSharedIndex(hookStack, rootStack, i);\n    if (rootIndex !== -1) {\n      mostLikelyAncestorIndex = i;\n      return rootIndex;\n    }\n  }\n  return -1;\n}\n\nfunction isReactWrapper(functionName: any, wrapperName: string) {\n  const hookName = parseHookName(functionName);\n  if (wrapperName === 'HostTransitionStatus') {\n    return hookName === wrapperName || hookName === 'FormStatus';\n  }\n\n  return hookName === wrapperName;\n}\n\nfunction findPrimitiveIndex(hookStack: any, hook: HookLogEntry) {\n  const stackCache = getPrimitiveStackCache();\n  const primitiveStack = stackCache.get(hook.primitive);\n  if (primitiveStack === undefined) {\n    return -1;\n  }\n  for (let i = 0; i < primitiveStack.length && i < hookStack.length; i++) {\n    // Note: there is no guarantee that we will find the top-most primitive frame in the stack\n    // For React Native (uses Hermes), these source fields will be identical and skipped\n    if (primitiveStack[i].source !== hookStack[i].source) {\n      // If the next two frames are functions called `useX` then we assume that they're part of the\n      // wrappers that the React package or other packages adds around the dispatcher.\n      if (\n        i < hookStack.length - 1 &&\n        isReactWrapper(hookStack[i].functionName, hook.dispatcherHookName)\n      ) {\n        i++;\n      }\n      if (\n        i < hookStack.length - 1 &&\n        isReactWrapper(hookStack[i].functionName, hook.dispatcherHookName)\n      ) {\n        i++;\n      }\n\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction parseTrimmedStack(rootStack: any, hook: HookLogEntry) {\n  // Get the stack trace between the primitive hook function and\n  // the root function call. I.e. the stack frames of custom hooks.\n  const hookStack = ErrorStackParser.parse(hook.stackError);\n  const rootIndex = findCommonAncestorIndex(rootStack, hookStack);\n  const primitiveIndex = findPrimitiveIndex(hookStack, hook);\n  if (\n    rootIndex === -1 ||\n    primitiveIndex === -1 ||\n    rootIndex - primitiveIndex < 2\n  ) {\n    if (primitiveIndex === -1) {\n      // Something went wrong. Give up.\n      return [null, null];\n    } else {\n      return [hookStack[primitiveIndex - 1], null];\n    }\n  }\n  return [\n    hookStack[primitiveIndex - 1],\n    hookStack.slice(primitiveIndex, rootIndex - 1),\n  ];\n}\n\nfunction parseHookName(functionName: void | string): string {\n  if (!functionName) {\n    return '';\n  }\n  let startIndex = functionName.lastIndexOf('[as ');\n\n  if (startIndex !== -1) {\n    // Workaround for sourcemaps in Jest and Chrome.\n    // In `node --enable-source-maps`, we don't see \"Object.useHostTransitionStatus [as useFormStatus]\" but \"Object.useFormStatus\"\n    // \"Object.useHostTransitionStatus [as useFormStatus]\" -> \"useFormStatus\"\n    return parseHookName(functionName.slice(startIndex + '[as '.length, -1));\n  }\n  startIndex = functionName.lastIndexOf('.');\n  if (startIndex === -1) {\n    startIndex = 0;\n  } else {\n    startIndex += 1;\n  }\n  if (functionName.slice(startIndex, startIndex + 3) === 'use') {\n    if (functionName.length - startIndex === 3) {\n      return 'Use';\n    }\n    startIndex += 3;\n  }\n  return functionName.slice(startIndex);\n}\n\nfunction buildTree(\n  rootStack: any,\n  readHookLog: Array<HookLogEntry>,\n): HooksTree {\n  const rootChildren: Array<HooksNode> = [];\n  let prevStack = null;\n  let levelChildren = rootChildren;\n  let nativeHookID = 0;\n  const stackOfChildren = [];\n  for (let i = 0; i < readHookLog.length; i++) {\n    const hook = readHookLog[i];\n    const parseResult = parseTrimmedStack(rootStack, hook);\n    const primitiveFrame = parseResult[0];\n    const stack = parseResult[1];\n    let displayName = hook.displayName;\n    if (displayName === null && primitiveFrame !== null) {\n      displayName =\n        parseHookName(primitiveFrame.functionName) ||\n        // Older versions of React do not have sourcemaps.\n        // In those versions there was always a 1:1 mapping between wrapper and dispatcher method.\n        parseHookName(hook.dispatcherHookName);\n    }\n    if (stack !== null) {\n      // Note: The indices 0 <= n < length-1 will contain the names.\n      // The indices 1 <= n < length will contain the source locations.\n      // That's why we get the name from n - 1 and don't check the source\n      // of index 0.\n      let commonSteps = 0;\n      if (prevStack !== null) {\n        // Compare the current level's stack to the new stack.\n        while (commonSteps < stack.length && commonSteps < prevStack.length) {\n          const stackSource = stack[stack.length - commonSteps - 1].source;\n          const prevSource =\n            prevStack[prevStack.length - commonSteps - 1].source;\n          if (stackSource !== prevSource) {\n            break;\n          }\n          commonSteps++;\n        }\n        // Pop back the stack as many steps as were not common.\n        for (let j = prevStack.length - 1; j > commonSteps; j--) {\n          levelChildren = stackOfChildren.pop();\n        }\n      }\n      // The remaining part of the new stack are custom hooks. Push them\n      // to the tree.\n      for (let j = stack.length - commonSteps - 1; j >= 1; j--) {\n        const children: Array<HooksNode> = [];\n        const stackFrame = stack[j];\n        const levelChild: HooksNode = {\n          id: null,\n          isStateEditable: false,\n          name: parseHookName(stack[j - 1].functionName),\n          value: undefined,\n          subHooks: children,\n          debugInfo: null,\n          hookSource: {\n            lineNumber: stackFrame.lineNumber,\n            columnNumber: stackFrame.columnNumber,\n            functionName: stackFrame.functionName,\n            fileName: stackFrame.fileName,\n          },\n        };\n\n        levelChildren.push(levelChild);\n        stackOfChildren.push(levelChildren);\n        levelChildren = children;\n      }\n      prevStack = stack;\n    }\n    const {primitive, debugInfo} = hook;\n\n    // For now, the \"id\" of stateful hooks is just the stateful hook index.\n    // Custom hooks have no ids, nor do non-stateful native hooks (e.g. Context, DebugValue).\n    const id =\n      primitive === 'Context' ||\n      primitive === 'Context (use)' ||\n      primitive === 'DebugValue' ||\n      primitive === 'Promise' ||\n      primitive === 'Unresolved' ||\n      primitive === 'HostTransitionStatus'\n        ? null\n        : nativeHookID++;\n\n    // For the time being, only State and Reducer hooks support runtime overrides.\n    const isStateEditable = primitive === 'Reducer' || primitive === 'State';\n    const name = displayName || primitive;\n    const levelChild: HooksNode = {\n      id,\n      isStateEditable,\n      name,\n      value: hook.value,\n      subHooks: [],\n      debugInfo: debugInfo,\n      hookSource: null,\n    };\n\n    const hookSource: HookSource = {\n      lineNumber: null,\n      functionName: null,\n      fileName: null,\n      columnNumber: null,\n    };\n    if (stack && stack.length >= 1) {\n      const stackFrame = stack[0];\n      hookSource.lineNumber = stackFrame.lineNumber;\n      hookSource.functionName = stackFrame.functionName;\n      hookSource.fileName = stackFrame.fileName;\n      hookSource.columnNumber = stackFrame.columnNumber;\n    }\n\n    levelChild.hookSource = hookSource;\n\n    levelChildren.push(levelChild);\n  }\n\n  // Associate custom hook values (useDebugValue() hook entries) with the correct hooks.\n  processDebugValues(rootChildren, null);\n\n  return rootChildren;\n}\n\n// Custom hooks support user-configurable labels (via the special useDebugValue() hook).\n// That hook adds user-provided values to the hooks tree,\n// but these values aren't intended to appear alongside of the other hooks.\n// Instead they should be attributed to their parent custom hook.\n// This method walks the tree and assigns debug values to their custom hook owners.\nfunction processDebugValues(\n  hooksTree: HooksTree,\n  parentHooksNode: HooksNode | null,\n): void {\n  const debugValueHooksNodes: Array<HooksNode> = [];\n\n  for (let i = 0; i < hooksTree.length; i++) {\n    const hooksNode = hooksTree[i];\n    if (hooksNode.name === 'DebugValue' && hooksNode.subHooks.length === 0) {\n      hooksTree.splice(i, 1);\n      i--;\n      debugValueHooksNodes.push(hooksNode);\n    } else {\n      processDebugValues(hooksNode.subHooks, hooksNode);\n    }\n  }\n\n  // Bubble debug value labels to their custom hook owner.\n  // If there is no parent hook, just ignore them for now.\n  // (We may warn about this in the future.)\n  if (parentHooksNode !== null) {\n    if (debugValueHooksNodes.length === 1) {\n      parentHooksNode.value = debugValueHooksNodes[0].value;\n    } else if (debugValueHooksNodes.length > 1) {\n      parentHooksNode.value = debugValueHooksNodes.map(({value}) => value);\n    }\n  }\n}\n\nfunction handleRenderFunctionError(error: any): void {\n  // original error might be any type.\n  if (error === SuspenseException) {\n    // An uncached Promise was used. We can't synchronously resolve the rest of\n    // the Hooks but we can at least show what ever we got so far.\n    return;\n  }\n  if (\n    error instanceof Error &&\n    error.name === 'ReactDebugToolsUnsupportedHookError'\n  ) {\n    throw error;\n  }\n  // If the error is not caused by an unsupported feature, it means\n  // that the error is caused by user's code in renderFunction.\n  // In this case, we should wrap the original error inside a custom error\n  // so that devtools can give a clear message about it.\n  // $FlowFixMe[extra-arg]: Flow doesn't know about 2nd argument of Error constructor\n  const wrapperError = new Error('Error rendering inspected component', {\n    cause: error,\n  });\n  // Note: This error name needs to stay in sync with react-devtools-shared\n  // TODO: refactor this if we ever combine the devtools and debug tools packages\n  wrapperError.name = 'ReactDebugToolsRenderError';\n  // this stage-4 proposal is not supported by all environments yet.\n  // $FlowFixMe[prop-missing] Flow doesn't have this type yet.\n  wrapperError.cause = error;\n  throw wrapperError;\n}\n\nexport function inspectHooks<Props>(\n  renderFunction: Props => React$Node,\n  props: Props,\n  currentDispatcher: ?CurrentDispatcherRef,\n): HooksTree {\n  // DevTools will pass the current renderer's injected dispatcher.\n  // Other apps might compile debug hooks as part of their app though.\n  if (currentDispatcher == null) {\n    currentDispatcher = ReactSharedInternals;\n  }\n\n  const previousDispatcher = currentDispatcher.H;\n  currentDispatcher.H = DispatcherProxy;\n\n  let readHookLog;\n  let ancestorStackError;\n\n  try {\n    ancestorStackError = new Error();\n    renderFunction(props);\n  } catch (error) {\n    handleRenderFunctionError(error);\n  } finally {\n    readHookLog = hookLog;\n    hookLog = [];\n    // $FlowFixMe[incompatible-use] found when upgrading Flow\n    currentDispatcher.H = previousDispatcher;\n  }\n  const rootStack = ErrorStackParser.parse(ancestorStackError);\n  return buildTree(rootStack, readHookLog);\n}\n\nfunction setupContexts(contextMap: Map<ReactContext<any>, any>, fiber: Fiber) {\n  let current: null | Fiber = fiber;\n  while (current) {\n    if (current.tag === ContextProvider) {\n      let context: ReactContext<any> = current.type;\n      if ((context: any)._context !== undefined) {\n        // Support inspection of pre-19+ providers.\n        context = (context: any)._context;\n      }\n      if (!contextMap.has(context)) {\n        // Store the current value that we're going to restore later.\n        contextMap.set(context, context._currentValue);\n        // Set the inner most provider value on the context.\n        context._currentValue = current.memoizedProps.value;\n      }\n    }\n    current = current.return;\n  }\n}\n\nfunction restoreContexts(contextMap: Map<ReactContext<any>, any>) {\n  contextMap.forEach((value, context) => (context._currentValue = value));\n}\n\nfunction inspectHooksOfForwardRef<Props, Ref>(\n  renderFunction: (Props, Ref) => React$Node,\n  props: Props,\n  ref: Ref,\n  currentDispatcher: CurrentDispatcherRef,\n): HooksTree {\n  const previousDispatcher = currentDispatcher.H;\n  let readHookLog;\n  currentDispatcher.H = DispatcherProxy;\n  let ancestorStackError;\n  try {\n    ancestorStackError = new Error();\n    renderFunction(props, ref);\n  } catch (error) {\n    handleRenderFunctionError(error);\n  } finally {\n    readHookLog = hookLog;\n    hookLog = [];\n    currentDispatcher.H = previousDispatcher;\n  }\n  const rootStack = ErrorStackParser.parse(ancestorStackError);\n  return buildTree(rootStack, readHookLog);\n}\n\nfunction resolveDefaultProps(Component: any, baseProps: any) {\n  if (Component && Component.defaultProps) {\n    // Resolve default props. Taken from ReactElement\n    const props = assign({}, baseProps);\n    const defaultProps = Component.defaultProps;\n    for (const propName in defaultProps) {\n      if (props[propName] === undefined) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n    return props;\n  }\n  return baseProps;\n}\n\nexport function inspectHooksOfFiber(\n  fiber: Fiber,\n  currentDispatcher: ?CurrentDispatcherRef,\n): HooksTree {\n  // DevTools will pass the current renderer's injected dispatcher.\n  // Other apps might compile debug hooks as part of their app though.\n  if (currentDispatcher == null) {\n    currentDispatcher = ReactSharedInternals;\n  }\n\n  if (\n    fiber.tag !== FunctionComponent &&\n    fiber.tag !== SimpleMemoComponent &&\n    fiber.tag !== ForwardRef\n  ) {\n    throw new Error(\n      'Unknown Fiber. Needs to be a function component to inspect hooks.',\n    );\n  }\n\n  // Warm up the cache so that it doesn't consume the currentHook.\n  getPrimitiveStackCache();\n\n  // Set up the current hook so that we can step through and read the\n  // current state from them.\n  currentHook = (fiber.memoizedState: Hook);\n  currentFiber = fiber;\n\n  if (hasOwnProperty.call(currentFiber, 'dependencies')) {\n    // $FlowFixMe[incompatible-use]: Flow thinks hasOwnProperty might have nulled `currentFiber`\n    const dependencies = currentFiber.dependencies;\n    currentContextDependency =\n      dependencies !== null ? dependencies.firstContext : null;\n  } else if (hasOwnProperty.call(currentFiber, 'dependencies_old')) {\n    const dependencies: Dependencies = (currentFiber: any).dependencies_old;\n    currentContextDependency =\n      dependencies !== null ? dependencies.firstContext : null;\n  } else if (hasOwnProperty.call(currentFiber, 'dependencies_new')) {\n    const dependencies: Dependencies = (currentFiber: any).dependencies_new;\n    currentContextDependency =\n      dependencies !== null ? dependencies.firstContext : null;\n  } else if (hasOwnProperty.call(currentFiber, 'contextDependencies')) {\n    const contextDependencies = (currentFiber: any).contextDependencies;\n    currentContextDependency =\n      contextDependencies !== null ? contextDependencies.first : null;\n  } else {\n    throw new Error(\n      'Unsupported React version. This is a bug in React Debug Tools.',\n    );\n  }\n\n  const type = fiber.type;\n  let props = fiber.memoizedProps;\n  if (type !== fiber.elementType) {\n    props = resolveDefaultProps(type, props);\n  }\n\n  // Only used for versions of React without memoized context value in context dependencies.\n  const contextMap = new Map<ReactContext<any>, any>();\n  try {\n    if (\n      currentContextDependency !== null &&\n      !hasOwnProperty.call(currentContextDependency, 'memoizedValue')\n    ) {\n      setupContexts(contextMap, fiber);\n    }\n\n    if (fiber.tag === ForwardRef) {\n      return inspectHooksOfForwardRef(\n        type.render,\n        props,\n        fiber.ref,\n        currentDispatcher,\n      );\n    }\n\n    return inspectHooks(type, props, currentDispatcher);\n  } finally {\n    currentFiber = null;\n    currentHook = null;\n    currentContextDependency = null;\n\n    restoreContexts(contextMap);\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {inspectHooks, inspectHooksOfFiber} from './ReactDebugHooks';\n\nexport {inspectHooks, inspectHooksOfFiber};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nexport * from './src/ReactDebugTools';\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This list should be kept updated to reflect additions to 'shared/ReactSymbols'.\n// DevTools can't import symbols from 'shared/ReactSymbols' directly for two reasons:\n// 1. DevTools requires symbols which may have been deleted in more recent versions (e.g. concurrent mode)\n// 2. DevTools must support both Symbol and numeric forms of each symbol;\n//    Since e.g. standalone DevTools runs in a separate process, it can't rely on its own ES capabilities.\n\nexport const CONCURRENT_MODE_NUMBER = 0xeacf;\nexport const CONCURRENT_MODE_SYMBOL_STRING = 'Symbol(react.concurrent_mode)';\n\nexport const CONTEXT_NUMBER = 0xeace;\nexport const CONTEXT_SYMBOL_STRING = 'Symbol(react.context)';\n\nexport const SERVER_CONTEXT_SYMBOL_STRING = 'Symbol(react.server_context)';\n\nexport const DEPRECATED_ASYNC_MODE_SYMBOL_STRING = 'Symbol(react.async_mode)';\n\nexport const ELEMENT_SYMBOL_STRING = 'Symbol(react.transitional.element)';\nexport const LEGACY_ELEMENT_NUMBER = 0xeac7;\nexport const LEGACY_ELEMENT_SYMBOL_STRING = 'Symbol(react.element)';\n\nexport const DEBUG_TRACING_MODE_NUMBER = 0xeae1;\nexport const DEBUG_TRACING_MODE_SYMBOL_STRING =\n  'Symbol(react.debug_trace_mode)';\n\nexport const FORWARD_REF_NUMBER = 0xead0;\nexport const FORWARD_REF_SYMBOL_STRING = 'Symbol(react.forward_ref)';\n\nexport const FRAGMENT_NUMBER = 0xeacb;\nexport const FRAGMENT_SYMBOL_STRING = 'Symbol(react.fragment)';\n\nexport const LAZY_NUMBER = 0xead4;\nexport const LAZY_SYMBOL_STRING = 'Symbol(react.lazy)';\n\nexport const MEMO_NUMBER = 0xead3;\nexport const MEMO_SYMBOL_STRING = 'Symbol(react.memo)';\n\nexport const PORTAL_NUMBER = 0xeaca;\nexport const PORTAL_SYMBOL_STRING = 'Symbol(react.portal)';\n\nexport const PROFILER_NUMBER = 0xead2;\nexport const PROFILER_SYMBOL_STRING = 'Symbol(react.profiler)';\n\nexport const PROVIDER_NUMBER = 0xeacd;\nexport const PROVIDER_SYMBOL_STRING = 'Symbol(react.provider)';\n\nexport const CONSUMER_SYMBOL_STRING = 'Symbol(react.consumer)';\n\nexport const SCOPE_NUMBER = 0xead7;\nexport const SCOPE_SYMBOL_STRING = 'Symbol(react.scope)';\n\nexport const STRICT_MODE_NUMBER = 0xeacc;\nexport const STRICT_MODE_SYMBOL_STRING = 'Symbol(react.strict_mode)';\n\nexport const SUSPENSE_NUMBER = 0xead1;\nexport const SUSPENSE_SYMBOL_STRING = 'Symbol(react.suspense)';\n\nexport const SUSPENSE_LIST_NUMBER = 0xead8;\nexport const SUSPENSE_LIST_SYMBOL_STRING = 'Symbol(react.suspense_list)';\n\nexport const SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED_SYMBOL_STRING =\n  'Symbol(react.server_context.defaultValue)';\n\nexport const REACT_MEMO_CACHE_SENTINEL: symbol = Symbol.for(\n  'react.memo_cache_sentinel',\n);\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/************************************************************************\n * This file is forked between different DevTools implementations.\n * It should never be imported directly!\n * It should always be imported from \"react-devtools-feature-flags\".\n ************************************************************************/\n\nexport const enableLogger = false;\nexport const enableStyleXFeatures = false;\nexport const isInternalFacebookBuild = false;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x: any, y: any) {\n  return (\n    (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y) // eslint-disable-line no-self-compare\n  );\n}\n\nconst objectIs: (x: any, y: any) => boolean =\n  // $FlowFixMe[method-unbinding]\n  typeof Object.is === 'function' ? Object.is : is;\n\nexport default objectIs;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {StyleXPlugin} from 'react-devtools-shared/src/frontend/types';\nimport isArray from 'react-devtools-shared/src/isArray';\n\nconst cachedStyleNameToValueMap: Map<string, string> = new Map();\n\nexport function getStyleXData(data: any): StyleXPlugin {\n  const sources = new Set<string>();\n  const resolvedStyles = {};\n\n  crawlData(data, sources, resolvedStyles);\n\n  return {\n    sources: Array.from(sources).sort(),\n    resolvedStyles,\n  };\n}\n\nexport function crawlData(\n  data: any,\n  sources: Set<string>,\n  resolvedStyles: Object,\n): void {\n  if (data == null) {\n    return;\n  }\n\n  if (isArray(data)) {\n    data.forEach(entry => {\n      if (entry == null) {\n        return;\n      }\n\n      if (isArray(entry)) {\n        crawlData(entry, sources, resolvedStyles);\n      } else {\n        crawlObjectProperties(entry, sources, resolvedStyles);\n      }\n    });\n  } else {\n    crawlObjectProperties(data, sources, resolvedStyles);\n  }\n\n  resolvedStyles = Object.fromEntries<string, any>(\n    Object.entries(resolvedStyles).sort(),\n  );\n}\n\nfunction crawlObjectProperties(\n  entry: Object,\n  sources: Set<string>,\n  resolvedStyles: Object,\n): void {\n  const keys = Object.keys(entry);\n  keys.forEach(key => {\n    const value = entry[key];\n    if (typeof value === 'string') {\n      if (key === value) {\n        // Special case; this key is the name of the style's source/file/module.\n        sources.add(key);\n      } else {\n        const propertyValue = getPropertyValueForStyleName(value);\n        if (propertyValue != null) {\n          resolvedStyles[key] = propertyValue;\n        }\n      }\n    } else {\n      const nestedStyle = {};\n      resolvedStyles[key] = nestedStyle;\n      crawlData([value], sources, nestedStyle);\n    }\n  });\n}\n\nfunction getPropertyValueForStyleName(styleName: string): string | null {\n  if (cachedStyleNameToValueMap.has(styleName)) {\n    return ((cachedStyleNameToValueMap.get(styleName): any): string);\n  }\n\n  for (\n    let styleSheetIndex = 0;\n    styleSheetIndex < document.styleSheets.length;\n    styleSheetIndex++\n  ) {\n    const styleSheet = ((document.styleSheets[\n      styleSheetIndex\n    ]: any): CSSStyleSheet);\n    let rules: CSSRuleList | null = null;\n    // this might throw if CORS rules are enforced https://www.w3.org/TR/cssom-1/#the-cssstylesheet-interface\n    try {\n      rules = styleSheet.cssRules;\n    } catch (_e) {\n      continue;\n    }\n\n    for (let ruleIndex = 0; ruleIndex < rules.length; ruleIndex++) {\n      if (!(rules[ruleIndex] instanceof CSSStyleRule)) {\n        continue;\n      }\n      const rule = ((rules[ruleIndex]: any): CSSStyleRule);\n      const {cssText, selectorText, style} = rule;\n\n      if (selectorText != null) {\n        if (selectorText.startsWith(`.${styleName}`)) {\n          const match = cssText.match(/{ *([a-z\\-]+):/);\n          if (match !== null) {\n            const property = match[1];\n            const value = style.getPropertyValue(property);\n\n            cachedStyleNameToValueMap.set(styleName, value);\n\n            return value;\n          } else {\n            return null;\n          }\n        }\n      }\n    }\n  }\n\n  return null;\n}\n","export const CHANGE_LOG_URL =\n  'https://github.com/facebook/react/blob/main/packages/react-devtools/CHANGELOG.md';\n\nexport const UNSUPPORTED_VERSION_URL =\n  'https://reactjs.org/blog/2019/08/15/new-react-devtools.html#how-do-i-get-the-old-version-back';\n\nexport const REACT_DEVTOOLS_WORKPLACE_URL =\n  'https://fburl.com/react-devtools-workplace-group';\n\nimport type {\n  Theme,\n  DisplayDensity,\n} from './devtools/views/Settings/SettingsContext';\n\nexport const THEME_STYLES: {[style: Theme | DisplayDensity]: any, ...} = {\n  light: {\n    '--color-attribute-name': '#ef6632',\n    '--color-attribute-name-not-editable': '#23272f',\n    '--color-attribute-name-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-attribute-value': '#1a1aa6',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': '#1a1aa6',\n    '--color-background': '#ffffff',\n    '--color-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-background-inactive': '#e5e5e5',\n    '--color-background-invalid': '#fff0f0',\n    '--color-background-selected': '#0088fa',\n    '--color-button-background': '#ffffff',\n    '--color-button-background-focus': '#ededed',\n    '--color-button': '#5f6673',\n    '--color-button-disabled': '#cfd1d5',\n    '--color-button-active': '#0088fa',\n    '--color-button-focus': '#23272f',\n    '--color-button-hover': '#23272f',\n    '--color-border': '#eeeeee',\n    '--color-commit-did-not-render-fill': '#cfd1d5',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#cfd1d5',\n    '--color-commit-did-not-render-pattern-text': '#333333',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#6a51b2',\n    '--color-component-name-inverted': '#ffffff',\n    '--color-component-badge-background': '#e6e6e6',\n    '--color-component-badge-background-inverted': 'rgba(255, 255, 255, 0.25)',\n    '--color-component-badge-count': '#777d88',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-console-error-badge-text': '#ffffff',\n    '--color-console-error-background': '#fff0f0',\n    '--color-console-error-border': '#ffd6d6',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fe2e31',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#fffbe5',\n    '--color-console-warning-border': '#fff5c1',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#64460c',\n    '--color-context-background': 'rgba(0,0,0,.9)',\n    '--color-context-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-context-background-selected': '#178fb9',\n    '--color-context-border': '#3d424a',\n    '--color-context-text': '#ffffff',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#777d88',\n    '--color-dimmer': '#cfd1d5',\n    '--color-dimmest': '#eff0f1',\n    '--color-error-background': 'hsl(0, 100%, 97%)',\n    '--color-error-border': 'hsl(0, 100%, 92%)',\n    '--color-error-text': '#ff0000',\n    '--color-expand-collapse-toggle': '#777d88',\n    '--color-forget-badge-background': '#2683e2',\n    '--color-forget-badge-background-inverted': '#1a6bbc',\n    '--color-forget-text': '#fff',\n    '--color-link': '#0000ff',\n    '--color-modal-background': 'rgba(255, 255, 255, 0.75)',\n    '--color-bridge-version-npm-background': '#eff0f1',\n    '--color-bridge-version-npm-text': '#000000',\n    '--color-bridge-version-number': '#0088fa',\n    '--color-primitive-hook-badge-background': '#e5e5e5',\n    '--color-primitive-hook-badge-text': '#5f6673',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#3578e5',\n    '--color-record-inactive': '#0088fa',\n    '--color-resize-bar': '#eeeeee',\n    '--color-resize-bar-active': '#dcdcdc',\n    '--color-resize-bar-border': '#d1d1d1',\n    '--color-resize-bar-dot': '#333333',\n    '--color-timeline-internal-module': '#d1d1d1',\n    '--color-timeline-internal-module-hover': '#c9c9c9',\n    '--color-timeline-internal-module-text': '#444',\n    '--color-timeline-native-event': '#ccc',\n    '--color-timeline-native-event-hover': '#aaa',\n    '--color-timeline-network-primary': '#fcf3dc',\n    '--color-timeline-network-primary-hover': '#f0e7d1',\n    '--color-timeline-network-secondary': '#efc457',\n    '--color-timeline-network-secondary-hover': '#e3ba52',\n    '--color-timeline-priority-background': '#f6f6f6',\n    '--color-timeline-priority-border': '#eeeeee',\n    '--color-timeline-user-timing': '#c9cacd',\n    '--color-timeline-user-timing-hover': '#93959a',\n    '--color-timeline-react-idle': '#d3e5f6',\n    '--color-timeline-react-idle-hover': '#c3d9ef',\n    '--color-timeline-react-render': '#9fc3f3',\n    '--color-timeline-react-render-hover': '#83afe9',\n    '--color-timeline-react-render-text': '#11365e',\n    '--color-timeline-react-commit': '#c88ff0',\n    '--color-timeline-react-commit-hover': '#b281d6',\n    '--color-timeline-react-commit-text': '#3e2c4a',\n    '--color-timeline-react-layout-effects': '#b281d6',\n    '--color-timeline-react-layout-effects-hover': '#9d71bd',\n    '--color-timeline-react-layout-effects-text': '#3e2c4a',\n    '--color-timeline-react-passive-effects': '#b281d6',\n    '--color-timeline-react-passive-effects-hover': '#9d71bd',\n    '--color-timeline-react-passive-effects-text': '#3e2c4a',\n    '--color-timeline-react-schedule': '#9fc3f3',\n    '--color-timeline-react-schedule-hover': '#2683E2',\n    '--color-timeline-react-suspense-rejected': '#f1cc14',\n    '--color-timeline-react-suspense-rejected-hover': '#ffdf37',\n    '--color-timeline-react-suspense-resolved': '#a6e59f',\n    '--color-timeline-react-suspense-resolved-hover': '#89d281',\n    '--color-timeline-react-suspense-unresolved': '#c9cacd',\n    '--color-timeline-react-suspense-unresolved-hover': '#93959a',\n    '--color-timeline-thrown-error': '#ee1638',\n    '--color-timeline-thrown-error-hover': '#da1030',\n    '--color-timeline-text-color': '#000000',\n    '--color-timeline-text-dim-color': '#ccc',\n    '--color-timeline-react-work-border': '#eeeeee',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(0, 136, 250, 0.1)',\n    '--color-selected-tree-highlight-inactive': 'rgba(0, 0, 0, 0.05)',\n    '--color-scroll-caret': 'rgba(150, 150, 150, 0.5)',\n    '--color-tab-selected-border': '#0088fa',\n    '--color-text': '#000000',\n    '--color-text-invalid': '#ff0000',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#0088fa',\n    '--color-toggle-background-off': '#cfd1d5',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#fb3655',\n    '--color-warning-background-hover': '#f82042',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#fd4d69',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#c2c2c2',\n    '--color-scroll-track': '#fafafa',\n    '--color-tooltip-background': 'rgba(0, 0, 0, 0.9)',\n    '--color-tooltip-text': '#ffffff',\n  },\n  dark: {\n    '--color-attribute-name': '#9d87d2',\n    '--color-attribute-name-not-editable': '#ededed',\n    '--color-attribute-name-inverted': '#282828',\n    '--color-attribute-value': '#cedae0',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': 'yellow',\n    '--color-background': '#282c34',\n    '--color-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-background-inactive': '#3d424a',\n    '--color-background-invalid': '#5c0000',\n    '--color-background-selected': '#178fb9',\n    '--color-button-background': '#282c34',\n    '--color-button-background-focus': '#3d424a',\n    '--color-button': '#afb3b9',\n    '--color-button-active': '#61dafb',\n    '--color-button-disabled': '#4f5766',\n    '--color-button-focus': '#a2e9fc',\n    '--color-button-hover': '#ededed',\n    '--color-border': '#3d424a',\n    '--color-commit-did-not-render-fill': '#777d88',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#666c77',\n    '--color-commit-did-not-render-pattern-text': '#ffffff',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#61dafb',\n    '--color-component-name-inverted': '#282828',\n    '--color-component-badge-background': '#5e6167',\n    '--color-component-badge-background-inverted': '#46494e',\n    '--color-component-badge-count': '#8f949d',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.85)',\n    '--color-console-error-badge-text': '#000000',\n    '--color-console-error-background': '#290000',\n    '--color-console-error-border': '#5c0000',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fc7f7f',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#332b00',\n    '--color-console-warning-border': '#665500',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#f5f2ed',\n    '--color-context-background': 'rgba(255,255,255,.95)',\n    '--color-context-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-context-background-selected': '#0088fa',\n    '--color-context-border': '#eeeeee',\n    '--color-context-text': '#000000',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#8f949d',\n    '--color-dimmer': '#777d88',\n    '--color-dimmest': '#4f5766',\n    '--color-error-background': '#200',\n    '--color-error-border': '#900',\n    '--color-error-text': '#f55',\n    '--color-expand-collapse-toggle': '#8f949d',\n    '--color-forget-badge-background': '#2683e2',\n    '--color-forget-badge-background-inverted': '#1a6bbc',\n    '--color-forget-text': '#fff',\n    '--color-link': '#61dafb',\n    '--color-modal-background': 'rgba(0, 0, 0, 0.75)',\n    '--color-bridge-version-npm-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-bridge-version-npm-text': '#ffffff',\n    '--color-bridge-version-number': 'yellow',\n    '--color-primitive-hook-badge-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-primitive-hook-badge-text': 'rgba(255, 255, 255, 0.7)',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#a2e9fc',\n    '--color-record-inactive': '#61dafb',\n    '--color-resize-bar': '#282c34',\n    '--color-resize-bar-active': '#31363f',\n    '--color-resize-bar-border': '#3d424a',\n    '--color-resize-bar-dot': '#cfd1d5',\n    '--color-timeline-internal-module': '#303542',\n    '--color-timeline-internal-module-hover': '#363b4a',\n    '--color-timeline-internal-module-text': '#7f8899',\n    '--color-timeline-native-event': '#b2b2b2',\n    '--color-timeline-native-event-hover': '#949494',\n    '--color-timeline-network-primary': '#fcf3dc',\n    '--color-timeline-network-primary-hover': '#e3dbc5',\n    '--color-timeline-network-secondary': '#efc457',\n    '--color-timeline-network-secondary-hover': '#d6af4d',\n    '--color-timeline-priority-background': '#1d2129',\n    '--color-timeline-priority-border': '#282c34',\n    '--color-timeline-user-timing': '#c9cacd',\n    '--color-timeline-user-timing-hover': '#93959a',\n    '--color-timeline-react-idle': '#3d485b',\n    '--color-timeline-react-idle-hover': '#465269',\n    '--color-timeline-react-render': '#2683E2',\n    '--color-timeline-react-render-hover': '#1a76d4',\n    '--color-timeline-react-render-text': '#11365e',\n    '--color-timeline-react-commit': '#731fad',\n    '--color-timeline-react-commit-hover': '#611b94',\n    '--color-timeline-react-commit-text': '#e5c1ff',\n    '--color-timeline-react-layout-effects': '#611b94',\n    '--color-timeline-react-layout-effects-hover': '#51167a',\n    '--color-timeline-react-layout-effects-text': '#e5c1ff',\n    '--color-timeline-react-passive-effects': '#611b94',\n    '--color-timeline-react-passive-effects-hover': '#51167a',\n    '--color-timeline-react-passive-effects-text': '#e5c1ff',\n    '--color-timeline-react-schedule': '#2683E2',\n    '--color-timeline-react-schedule-hover': '#1a76d4',\n    '--color-timeline-react-suspense-rejected': '#f1cc14',\n    '--color-timeline-react-suspense-rejected-hover': '#e4c00f',\n    '--color-timeline-react-suspense-resolved': '#a6e59f',\n    '--color-timeline-react-suspense-resolved-hover': '#89d281',\n    '--color-timeline-react-suspense-unresolved': '#c9cacd',\n    '--color-timeline-react-suspense-unresolved-hover': '#93959a',\n    '--color-timeline-thrown-error': '#fb3655',\n    '--color-timeline-thrown-error-hover': '#f82042',\n    '--color-timeline-text-color': '#282c34',\n    '--color-timeline-text-dim-color': '#555b66',\n    '--color-timeline-react-work-border': '#3d424a',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(23, 143, 185, 0.15)',\n    '--color-selected-tree-highlight-inactive': 'rgba(255, 255, 255, 0.05)',\n    '--color-scroll-caret': '#4f5766',\n    '--color-shadow': 'rgba(0, 0, 0, 0.5)',\n    '--color-tab-selected-border': '#178fb9',\n    '--color-text': '#ffffff',\n    '--color-text-invalid': '#ff8080',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#178fb9',\n    '--color-toggle-background-off': '#777d88',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#ee1638',\n    '--color-warning-background-hover': '#da1030',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#ee1638',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#afb3b9',\n    '--color-scroll-track': '#313640',\n    '--color-tooltip-background': 'rgba(255, 255, 255, 0.95)',\n    '--color-tooltip-text': '#000000',\n  },\n  compact: {\n    '--font-size-monospace-small': '9px',\n    '--font-size-monospace-normal': '11px',\n    '--font-size-monospace-large': '15px',\n    '--font-size-sans-small': '10px',\n    '--font-size-sans-normal': '12px',\n    '--font-size-sans-large': '14px',\n    '--line-height-data': '18px',\n  },\n  comfortable: {\n    '--font-size-monospace-small': '10px',\n    '--font-size-monospace-normal': '13px',\n    '--font-size-monospace-large': '17px',\n    '--font-size-sans-small': '12px',\n    '--font-size-sans-normal': '14px',\n    '--font-size-sans-large': '16px',\n    '--line-height-data': '22px',\n  },\n};\n\n// HACK\n//\n// Sometimes the inline target is rendered before root styles are applied,\n// which would result in e.g. NaN itemSize being passed to react-window list.\nconst COMFORTABLE_LINE_HEIGHT: number = parseInt(\n  THEME_STYLES.comfortable['--line-height-data'],\n  10,\n);\nconst COMPACT_LINE_HEIGHT: number = parseInt(\n  THEME_STYLES.compact['--line-height-data'],\n  10,\n);\n\nexport {COMFORTABLE_LINE_HEIGHT, COMPACT_LINE_HEIGHT};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport {\n  COMFORTABLE_LINE_HEIGHT,\n  COMPACT_LINE_HEIGHT,\n} from 'react-devtools-shared/src/devtools/constants.js';\n\nexport const REACT_TOTAL_NUM_LANES = 31;\n\n// Increment this number any time a backwards breaking change is made to the profiler metadata.\nexport const SCHEDULING_PROFILER_VERSION = 1;\n\nexport const SNAPSHOT_MAX_HEIGHT = 60;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of shared/ConsolePatchingDev.\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\n\nlet disabledDepth = 0;\nlet prevLog;\nlet prevInfo;\nlet prevWarn;\nlet prevError;\nlet prevGroup;\nlet prevGroupCollapsed;\nlet prevGroupEnd;\n\nfunction disabledLog() {}\ndisabledLog.__reactDisabledLog = true;\n\nexport function disableLogs(): void {\n  if (disabledDepth === 0) {\n    prevLog = console.log;\n    prevInfo = console.info;\n    prevWarn = console.warn;\n    prevError = console.error;\n    prevGroup = console.group;\n    prevGroupCollapsed = console.groupCollapsed;\n    prevGroupEnd = console.groupEnd;\n    // https://github.com/facebook/react/issues/19099\n    const props = {\n      configurable: true,\n      enumerable: true,\n      value: disabledLog,\n      writable: true,\n    };\n    // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      info: props,\n      log: props,\n      warn: props,\n      error: props,\n      group: props,\n      groupCollapsed: props,\n      groupEnd: props,\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  disabledDepth++;\n}\n\nexport function reenableLogs(): void {\n  disabledDepth--;\n  if (disabledDepth === 0) {\n    const props = {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n    };\n    // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      log: {...props, value: prevLog},\n      info: {...props, value: prevInfo},\n      warn: {...props, value: prevWarn},\n      error: {...props, value: prevError},\n      group: {...props, value: prevGroup},\n      groupCollapsed: {...props, value: prevGroupCollapsed},\n      groupEnd: {...props, value: prevGroupEnd},\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  if (disabledDepth < 0) {\n    console.error(\n      'disabledDepth fell below zero. ' +\n        'This is a bug in React. Please file an issue.',\n    );\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactComponentStackFrame.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {CurrentDispatcherRef} from './types';\n\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\nimport {disableLogs, reenableLogs} from './DevToolsConsolePatching';\n\nlet prefix;\nexport function describeBuiltInComponentFrame(name: string): string {\n  if (prefix === undefined) {\n    // Extract the VM specific prefix used by each line.\n    try {\n      throw Error();\n    } catch (x) {\n      const match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || '';\n    }\n  }\n  let suffix = '';\n  if (__IS_CHROME__ || __IS_EDGE__ || __IS_NATIVE__) {\n    suffix = ' (<anonymous>)';\n  } else if (__IS_FIREFOX__) {\n    suffix = '@unknown:0:0';\n  }\n  // We use the prefix to ensure our stacks line up with native stack frames.\n  // We use a suffix to ensure it gets parsed natively.\n  return '\\n' + prefix + name + suffix;\n}\n\nexport function describeDebugInfoFrame(name: string, env: ?string): string {\n  return describeBuiltInComponentFrame(name + (env ? ' [' + env + ']' : ''));\n}\n\nlet reentry = false;\nlet componentFrameCache;\nif (__DEV__) {\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap<$FlowFixMe, string>();\n}\n\nexport function describeNativeComponentFrame(\n  fn: Function,\n  construct: boolean,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  if (__DEV__) {\n    const frame = componentFrameCache.get(fn);\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  const previousPrepareStackTrace = Error.prepareStackTrace;\n  // $FlowFixMe[incompatible-type] It does accept undefined.\n  Error.prepareStackTrace = undefined;\n\n  reentry = true;\n\n  // Override the dispatcher so effects scheduled by this shallow render are thrown away.\n  //\n  // Note that unlike the code this was forked from (in ReactComponentStackFrame)\n  // DevTools should override the dispatcher even when DevTools is compiled in production mode,\n  // because the app itself may be in development mode and log errors/warnings.\n  const previousDispatcher = currentDispatcherRef.H;\n  currentDispatcherRef.H = null;\n  disableLogs();\n\n  // NOTE: keep in sync with the implementation in ReactComponentStackFrame\n\n  /**\n   * Finding a common stack frame between sample and control errors can be\n   * tricky given the different types and levels of stack trace truncation from\n   * different JS VMs. So instead we'll attempt to control what that common\n   * frame should be through this object method:\n   * Having both the sample and control errors be in the function under the\n   * `DescribeNativeComponentFrameRoot` property, + setting the `name` and\n   * `displayName` properties of the function ensures that a stack\n   * frame exists that has the method name `DescribeNativeComponentFrameRoot` in\n   * it for both control and sample stacks.\n   */\n  const RunInRootFrame = {\n    DetermineComponentFrameRoot(): [?string, ?string] {\n      let control;\n      try {\n        // This should throw.\n        if (construct) {\n          // Something should be setting the props in the constructor.\n          const Fake = function () {\n            throw Error();\n          };\n          // $FlowFixMe[prop-missing]\n          Object.defineProperty(Fake.prototype, 'props', {\n            set: function () {\n              // We use a throwing setter instead of frozen or non-writable props\n              // because that won't throw in a non-strict mode function.\n              throw Error();\n            },\n          });\n          if (typeof Reflect === 'object' && Reflect.construct) {\n            // We construct a different control for this case to include any extra\n            // frames added by the construct call.\n            try {\n              Reflect.construct(Fake, []);\n            } catch (x) {\n              control = x;\n            }\n            Reflect.construct(fn, [], Fake);\n          } else {\n            try {\n              Fake.call();\n            } catch (x) {\n              control = x;\n            }\n            // $FlowFixMe[prop-missing] found when upgrading Flow\n            fn.call(Fake.prototype);\n          }\n        } else {\n          try {\n            throw Error();\n          } catch (x) {\n            control = x;\n          }\n          // TODO(luna): This will currently only throw if the function component\n          // tries to access React/ReactDOM/props. We should probably make this throw\n          // in simple components too\n          const maybePromise = fn();\n\n          // If the function component returns a promise, it's likely an async\n          // component, which we don't yet support. Attach a noop catch handler to\n          // silence the error.\n          // TODO: Implement component stacks for async client components?\n          if (maybePromise && typeof maybePromise.catch === 'function') {\n            maybePromise.catch(() => {});\n          }\n        }\n      } catch (sample) {\n        // This is inlined manually because closure doesn't do it for us.\n        if (sample && control && typeof sample.stack === 'string') {\n          return [sample.stack, control.stack];\n        }\n      }\n      return [null, null];\n    },\n  };\n  // $FlowFixMe[prop-missing]\n  RunInRootFrame.DetermineComponentFrameRoot.displayName =\n    'DetermineComponentFrameRoot';\n  const namePropDescriptor = Object.getOwnPropertyDescriptor(\n    RunInRootFrame.DetermineComponentFrameRoot,\n    'name',\n  );\n  // Before ES6, the `name` property was not configurable.\n  if (namePropDescriptor && namePropDescriptor.configurable) {\n    // V8 utilizes a function's `name` property when generating a stack trace.\n    Object.defineProperty(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      // Configurable properties can be updated even if its writable descriptor\n      // is set to `false`.\n      // $FlowFixMe[cannot-write]\n      'name',\n      {value: 'DetermineComponentFrameRoot'},\n    );\n  }\n\n  try {\n    const [sampleStack, controlStack] =\n      RunInRootFrame.DetermineComponentFrameRoot();\n    if (sampleStack && controlStack) {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      const sampleLines = sampleStack.split('\\n');\n      const controlLines = controlStack.split('\\n');\n      let s = 0;\n      let c = 0;\n      while (\n        s < sampleLines.length &&\n        !sampleLines[s].includes('DetermineComponentFrameRoot')\n      ) {\n        s++;\n      }\n      while (\n        c < controlLines.length &&\n        !controlLines[c].includes('DetermineComponentFrameRoot')\n      ) {\n        c++;\n      }\n      // We couldn't find our intentionally injected common root frame, attempt\n      // to find another common root frame by search from the bottom of the\n      // control stack...\n      if (s === sampleLines.length || c === controlLines.length) {\n        s = sampleLines.length - 1;\n        c = controlLines.length - 1;\n        while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n          // We expect at least one stack frame to be shared.\n          // Typically this will be the root most one. However, stack frames may be\n          // cut off due to maximum stack limits. In this case, one maybe cut off\n          // earlier than the other. We assume that the sample is longer or the same\n          // and there for cut off earlier. So we should find the root most frame in\n          // the sample somewhere in the control.\n          c--;\n        }\n      }\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--;\n              // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                let frame = '\\n' + sampleLines[s].replace(' at new ', ' at ');\n\n                // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n                if (fn.displayName && frame.includes('<anonymous>')) {\n                  frame = frame.replace('<anonymous>', fn.displayName);\n                }\n\n                if (__DEV__) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, frame);\n                  }\n                }\n                // Return the line we found.\n                return frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n\n    currentDispatcherRef.H = previousDispatcher;\n    reenableLogs();\n  }\n  // Fallback to just using the name if we couldn't make it throw.\n  const name = fn ? fn.displayName || fn.name : '';\n  const syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n  if (__DEV__) {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n  return syntheticFrame;\n}\n\nexport function describeClassComponentFrame(\n  ctor: Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(ctor, true, currentDispatcherRef);\n}\n\nexport function describeFunctionComponentFrame(\n  fn: Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(fn, false, currentDispatcherRef);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactFiberComponentStack.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {CurrentDispatcherRef, WorkTagMap} from './types';\n\nimport {\n  describeBuiltInComponentFrame,\n  describeFunctionComponentFrame,\n  describeClassComponentFrame,\n  describeDebugInfoFrame,\n} from './DevToolsComponentStackFrame';\n\nexport function describeFiber(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  const {\n    HostHoistable,\n    HostSingleton,\n    HostComponent,\n    LazyComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    SimpleMemoComponent,\n    ForwardRef,\n    ClassComponent,\n  } = workTagMap;\n\n  switch (workInProgress.tag) {\n    case HostHoistable:\n    case HostSingleton:\n    case HostComponent:\n      return describeBuiltInComponentFrame(workInProgress.type);\n    case LazyComponent:\n      return describeBuiltInComponentFrame('Lazy');\n    case SuspenseComponent:\n      return describeBuiltInComponentFrame('Suspense');\n    case SuspenseListComponent:\n      return describeBuiltInComponentFrame('SuspenseList');\n    case FunctionComponent:\n    case IndeterminateComponent:\n    case SimpleMemoComponent:\n      return describeFunctionComponentFrame(\n        workInProgress.type,\n        currentDispatcherRef,\n      );\n    case ForwardRef:\n      return describeFunctionComponentFrame(\n        workInProgress.type.render,\n        currentDispatcherRef,\n      );\n    case ClassComponent:\n      return describeClassComponentFrame(\n        workInProgress.type,\n        currentDispatcherRef,\n      );\n    default:\n      return '';\n  }\n}\n\nexport function getStackByFiberInDevAndProd(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  try {\n    let info = '';\n    let node: Fiber = workInProgress;\n    do {\n      info += describeFiber(workTagMap, node, currentDispatcherRef);\n      // Add any Server Component stack frames in reverse order.\n      const debugInfo = node._debugInfo;\n      if (debugInfo) {\n        for (let i = debugInfo.length - 1; i >= 0; i--) {\n          const entry = debugInfo[i];\n          if (typeof entry.name === 'string') {\n            info += describeDebugInfoFrame(entry.name, entry.env);\n          }\n        }\n      }\n      // $FlowFixMe[incompatible-type] we bail out when we get a null\n      node = node.return;\n    } while (node);\n    return info;\n  } catch (x) {\n    return '\\nError generating stack: ' + x.message + '\\n' + x.stack;\n  }\n}\n\nexport function supportsNativeConsoleTasks(fiber: Fiber): boolean {\n  // If this Fiber supports native console.createTask then we are already running\n  // inside a native async stack trace if it's active - meaning the DevTools is open.\n  // Ideally we'd detect if this task was created while the DevTools was open or not.\n  return !!fiber._debugTask;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  Lane,\n  Lanes,\n  DevToolsProfilingHooks,\n  WorkTagMap,\n  CurrentDispatcherRef,\n} from 'react-devtools-shared/src/backend/types';\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {Wakeable} from 'shared/ReactTypes';\nimport type {\n  BatchUID,\n  InternalModuleSourceToRanges,\n  LaneToLabelMap,\n  ReactComponentMeasure,\n  ReactLane,\n  ReactMeasure,\n  ReactMeasureType,\n  ReactScheduleStateUpdateEvent,\n  SchedulingEvent,\n  SuspenseEvent,\n  TimelineData,\n} from 'react-devtools-timeline/src/types';\n\nimport isArray from 'shared/isArray';\nimport {\n  REACT_TOTAL_NUM_LANES,\n  SCHEDULING_PROFILER_VERSION,\n} from 'react-devtools-timeline/src/constants';\nimport {describeFiber} from './DevToolsFiberComponentStack';\n\n// Add padding to the start/stop time of the profile.\n// This makes the UI nicer to use.\nconst TIME_OFFSET = 10;\n\nlet performanceTarget: Performance | null = null;\n\n// If performance exists and supports the subset of the User Timing API that we require.\nlet supportsUserTiming =\n  typeof performance !== 'undefined' &&\n  // $FlowFixMe[method-unbinding]\n  typeof performance.mark === 'function' &&\n  // $FlowFixMe[method-unbinding]\n  typeof performance.clearMarks === 'function';\n\nlet supportsUserTimingV3 = false;\nif (supportsUserTiming) {\n  const CHECK_V3_MARK = '__v3';\n  const markOptions: {\n    detail?: mixed,\n    startTime?: number,\n  } = {};\n  Object.defineProperty(markOptions, 'startTime', {\n    get: function () {\n      supportsUserTimingV3 = true;\n      return 0;\n    },\n    set: function () {},\n  });\n\n  try {\n    performance.mark(CHECK_V3_MARK, markOptions);\n  } catch (error) {\n    // Ignore\n  } finally {\n    performance.clearMarks(CHECK_V3_MARK);\n  }\n}\n\nif (supportsUserTimingV3) {\n  performanceTarget = performance;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\n// Mocking the Performance Object (and User Timing APIs) for testing is fragile.\n// This API allows tests to directly override the User Timing APIs.\nexport function setPerformanceMock_ONLY_FOR_TESTING(\n  performanceMock: Performance | null,\n) {\n  performanceTarget = performanceMock;\n  supportsUserTiming = performanceMock !== null;\n  supportsUserTimingV3 = performanceMock !== null;\n}\n\nexport type GetTimelineData = () => TimelineData | null;\nexport type ToggleProfilingStatus = (value: boolean) => void;\n\ntype Response = {\n  getTimelineData: GetTimelineData,\n  profilingHooks: DevToolsProfilingHooks,\n  toggleProfilingStatus: ToggleProfilingStatus,\n};\n\nexport function createProfilingHooks({\n  getDisplayNameForFiber,\n  getIsProfiling,\n  getLaneLabelMap,\n  workTagMap,\n  currentDispatcherRef,\n  reactVersion,\n}: {\n  getDisplayNameForFiber: (fiber: Fiber) => string | null,\n  getIsProfiling: () => boolean,\n  getLaneLabelMap?: () => Map<Lane, string> | null,\n  currentDispatcherRef?: CurrentDispatcherRef,\n  workTagMap: WorkTagMap,\n  reactVersion: string,\n}): Response {\n  let currentBatchUID: BatchUID = 0;\n  let currentReactComponentMeasure: ReactComponentMeasure | null = null;\n  let currentReactMeasuresStack: Array<ReactMeasure> = [];\n  let currentTimelineData: TimelineData | null = null;\n  let currentFiberStacks: Map<SchedulingEvent, Array<Fiber>> = new Map();\n  let isProfiling: boolean = false;\n  let nextRenderShouldStartNewBatch: boolean = false;\n\n  function getRelativeTime() {\n    const currentTime = getCurrentTime();\n\n    if (currentTimelineData) {\n      if (currentTimelineData.startTime === 0) {\n        currentTimelineData.startTime = currentTime - TIME_OFFSET;\n      }\n\n      return currentTime - currentTimelineData.startTime;\n    }\n\n    return 0;\n  }\n\n  function getInternalModuleRanges() {\n    /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n    if (\n      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.getInternalModuleRanges ===\n        'function'\n    ) {\n      // Ask the DevTools hook for module ranges that may have been reported by the current renderer(s).\n      // Don't do this eagerly like the laneToLabelMap,\n      // because some modules might not yet have registered their boundaries when the renderer is injected.\n      const ranges = __REACT_DEVTOOLS_GLOBAL_HOOK__.getInternalModuleRanges();\n\n      // This check would not be required,\n      // except that it's possible for things to override __REACT_DEVTOOLS_GLOBAL_HOOK__.\n      if (isArray(ranges)) {\n        return ranges;\n      }\n    }\n\n    return null;\n  }\n\n  function getTimelineData(): TimelineData | null {\n    return currentTimelineData;\n  }\n\n  function laneToLanesArray(lanes: Lane) {\n    const lanesArray = [];\n\n    let lane = 1;\n    for (let index = 0; index < REACT_TOTAL_NUM_LANES; index++) {\n      if (lane & lanes) {\n        lanesArray.push(lane);\n      }\n      lane *= 2;\n    }\n\n    return lanesArray;\n  }\n\n  const laneToLabelMap: LaneToLabelMap | null =\n    typeof getLaneLabelMap === 'function' ? getLaneLabelMap() : null;\n\n  function markMetadata() {\n    markAndClear(`--react-version-${reactVersion}`);\n    markAndClear(`--profiler-version-${SCHEDULING_PROFILER_VERSION}`);\n\n    const ranges = getInternalModuleRanges();\n    if (ranges) {\n      for (let i = 0; i < ranges.length; i++) {\n        const range = ranges[i];\n        if (isArray(range) && range.length === 2) {\n          const [startStackFrame, stopStackFrame] = ranges[i];\n\n          markAndClear(`--react-internal-module-start-${startStackFrame}`);\n          markAndClear(`--react-internal-module-stop-${stopStackFrame}`);\n        }\n      }\n    }\n\n    if (laneToLabelMap != null) {\n      const labels = Array.from(laneToLabelMap.values()).join(',');\n      markAndClear(`--react-lane-labels-${labels}`);\n    }\n  }\n\n  function markAndClear(markName: string) {\n    // This method won't be called unless these functions are defined, so we can skip the extra typeof check.\n    ((performanceTarget: any): Performance).mark(markName);\n    ((performanceTarget: any): Performance).clearMarks(markName);\n  }\n\n  function recordReactMeasureStarted(\n    type: ReactMeasureType,\n    lanes: Lanes,\n  ): void {\n    // Decide what depth thi work should be rendered at, based on what's on the top of the stack.\n    // It's okay to render over top of \"idle\" work but everything else should be on its own row.\n    let depth = 0;\n    if (currentReactMeasuresStack.length > 0) {\n      const top =\n        currentReactMeasuresStack[currentReactMeasuresStack.length - 1];\n      depth = top.type === 'render-idle' ? top.depth : top.depth + 1;\n    }\n\n    const lanesArray = laneToLanesArray(lanes);\n\n    const reactMeasure: ReactMeasure = {\n      type,\n      batchUID: currentBatchUID,\n      depth,\n      lanes: lanesArray,\n      timestamp: getRelativeTime(),\n      duration: 0,\n    };\n\n    currentReactMeasuresStack.push(reactMeasure);\n\n    if (currentTimelineData) {\n      const {batchUIDToMeasuresMap, laneToReactMeasureMap} =\n        currentTimelineData;\n\n      let reactMeasures = batchUIDToMeasuresMap.get(currentBatchUID);\n      if (reactMeasures != null) {\n        reactMeasures.push(reactMeasure);\n      } else {\n        batchUIDToMeasuresMap.set(currentBatchUID, [reactMeasure]);\n      }\n\n      lanesArray.forEach(lane => {\n        reactMeasures = laneToReactMeasureMap.get(lane);\n        if (reactMeasures) {\n          reactMeasures.push(reactMeasure);\n        }\n      });\n    }\n  }\n\n  function recordReactMeasureCompleted(type: ReactMeasureType): void {\n    const currentTime = getRelativeTime();\n\n    if (currentReactMeasuresStack.length === 0) {\n      console.error(\n        'Unexpected type \"%s\" completed at %sms while currentReactMeasuresStack is empty.',\n        type,\n        currentTime,\n      );\n      // Ignore work \"completion\" user timing mark that doesn't complete anything\n      return;\n    }\n\n    const top = currentReactMeasuresStack.pop();\n    if (top.type !== type) {\n      console.error(\n        'Unexpected type \"%s\" completed at %sms before \"%s\" completed.',\n        type,\n        currentTime,\n        top.type,\n      );\n    }\n\n    // $FlowFixMe[cannot-write] This property should not be writable outside of this function.\n    top.duration = currentTime - top.timestamp;\n\n    if (currentTimelineData) {\n      currentTimelineData.duration = getRelativeTime() + TIME_OFFSET;\n    }\n  }\n\n  function markCommitStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('commit', lanes);\n\n      // TODO (timeline) Re-think this approach to \"batching\"; I don't think it works for Suspense or pre-rendering.\n      // This issue applies to the User Timing data also.\n      nextRenderShouldStartNewBatch = true;\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--commit-start-${lanes}`);\n\n      // Some metadata only needs to be logged once per session,\n      // but if profiling information is being recorded via the Performance tab,\n      // DevTools has no way of knowing when the recording starts.\n      // Because of that, we log thie type of data periodically (once per commit).\n      markMetadata();\n    }\n  }\n\n  function markCommitStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('commit');\n      recordReactMeasureCompleted('render-idle');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--commit-stop');\n    }\n  }\n\n  function markComponentRenderStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'render',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-render-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentRenderStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-render-stop');\n    }\n  }\n\n  function markComponentLayoutEffectMountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'layout-effect-mount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-layout-effect-mount-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentLayoutEffectMountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-layout-effect-mount-stop');\n    }\n  }\n\n  function markComponentLayoutEffectUnmountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'layout-effect-unmount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--component-layout-effect-unmount-start-${componentName}`,\n        );\n      }\n    }\n  }\n\n  function markComponentLayoutEffectUnmountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-layout-effect-unmount-stop');\n    }\n  }\n\n  function markComponentPassiveEffectMountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'passive-effect-mount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-passive-effect-mount-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentPassiveEffectMountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-passive-effect-mount-stop');\n    }\n  }\n\n  function markComponentPassiveEffectUnmountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'passive-effect-unmount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--component-passive-effect-unmount-start-${componentName}`,\n        );\n      }\n    }\n  }\n\n  function markComponentPassiveEffectUnmountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-passive-effect-unmount-stop');\n    }\n  }\n\n  function markComponentErrored(\n    fiber: Fiber,\n    thrownValue: mixed,\n    lanes: Lanes,\n  ): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n      const phase = fiber.alternate === null ? 'mount' : 'update';\n\n      let message = '';\n      if (\n        thrownValue !== null &&\n        typeof thrownValue === 'object' &&\n        typeof thrownValue.message === 'string'\n      ) {\n        message = thrownValue.message;\n      } else if (typeof thrownValue === 'string') {\n        message = thrownValue;\n      }\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          currentTimelineData.thrownErrors.push({\n            componentName,\n            message,\n            phase,\n            timestamp: getRelativeTime(),\n            type: 'thrown-error',\n          });\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--error-${componentName}-${phase}-${message}`);\n      }\n    }\n  }\n\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n\n  // $FlowFixMe[incompatible-type]: Flow cannot handle polymorphic WeakMaps\n  const wakeableIDs: WeakMap<Wakeable, number> = new PossiblyWeakMap();\n  let wakeableID: number = 0;\n  function getWakeableID(wakeable: Wakeable): number {\n    if (!wakeableIDs.has(wakeable)) {\n      wakeableIDs.set(wakeable, wakeableID++);\n    }\n    return ((wakeableIDs.get(wakeable): any): number);\n  }\n\n  function markComponentSuspended(\n    fiber: Fiber,\n    wakeable: Wakeable,\n    lanes: Lanes,\n  ): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const eventType = wakeableIDs.has(wakeable) ? 'resuspend' : 'suspend';\n      const id = getWakeableID(wakeable);\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n      const phase = fiber.alternate === null ? 'mount' : 'update';\n\n      // Following the non-standard fn.displayName convention,\n      // frameworks like Relay may also annotate Promises with a displayName,\n      // describing what operation/data the thrown Promise is related to.\n      // When this is available we should pass it along to the Timeline.\n      const displayName = (wakeable: any).displayName || '';\n\n      let suspenseEvent: SuspenseEvent | null = null;\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        suspenseEvent = {\n          componentName,\n          depth: 0,\n          duration: 0,\n          id: `${id}`,\n          phase,\n          promiseName: displayName,\n          resolution: 'unresolved',\n          timestamp: getRelativeTime(),\n          type: 'suspense',\n          warning: null,\n        };\n\n        if (currentTimelineData) {\n          currentTimelineData.suspenseEvents.push(suspenseEvent);\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--suspense-${eventType}-${id}-${componentName}-${phase}-${lanes}-${displayName}`,\n        );\n      }\n\n      wakeable.then(\n        () => {\n          if (suspenseEvent) {\n            suspenseEvent.duration =\n              getRelativeTime() - suspenseEvent.timestamp;\n            suspenseEvent.resolution = 'resolved';\n          }\n\n          if (supportsUserTimingV3) {\n            markAndClear(`--suspense-resolved-${id}-${componentName}`);\n          }\n        },\n        () => {\n          if (suspenseEvent) {\n            suspenseEvent.duration =\n              getRelativeTime() - suspenseEvent.timestamp;\n            suspenseEvent.resolution = 'rejected';\n          }\n\n          if (supportsUserTimingV3) {\n            markAndClear(`--suspense-rejected-${id}-${componentName}`);\n          }\n        },\n      );\n    }\n  }\n\n  function markLayoutEffectsStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('layout-effects', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--layout-effects-start-${lanes}`);\n    }\n  }\n\n  function markLayoutEffectsStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('layout-effects');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--layout-effects-stop');\n    }\n  }\n\n  function markPassiveEffectsStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('passive-effects', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--passive-effects-start-${lanes}`);\n    }\n  }\n\n  function markPassiveEffectsStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('passive-effects');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--passive-effects-stop');\n    }\n  }\n\n  function markRenderStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      if (nextRenderShouldStartNewBatch) {\n        nextRenderShouldStartNewBatch = false;\n        currentBatchUID++;\n      }\n\n      // If this is a new batch of work, wrap an \"idle\" measure around it.\n      // Log it before the \"render\" measure to preserve the stack ordering.\n      if (\n        currentReactMeasuresStack.length === 0 ||\n        currentReactMeasuresStack[currentReactMeasuresStack.length - 1].type !==\n          'render-idle'\n      ) {\n        recordReactMeasureStarted('render-idle', lanes);\n      }\n\n      recordReactMeasureStarted('render', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--render-start-${lanes}`);\n    }\n  }\n\n  function markRenderYielded(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('render');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--render-yield');\n    }\n  }\n\n  function markRenderStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('render');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--render-stop');\n    }\n  }\n\n  function markRenderScheduled(lane: Lane): void {\n    if (isProfiling) {\n      if (currentTimelineData) {\n        currentTimelineData.schedulingEvents.push({\n          lanes: laneToLanesArray(lane),\n          timestamp: getRelativeTime(),\n          type: 'schedule-render',\n          warning: null,\n        });\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--schedule-render-${lane}`);\n    }\n  }\n\n  function markForceUpdateScheduled(fiber: Fiber, lane: Lane): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          currentTimelineData.schedulingEvents.push({\n            componentName,\n            lanes: laneToLanesArray(lane),\n            timestamp: getRelativeTime(),\n            type: 'schedule-force-update',\n            warning: null,\n          });\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--schedule-forced-update-${lane}-${componentName}`);\n      }\n    }\n  }\n\n  function getParentFibers(fiber: Fiber): Array<Fiber> {\n    const parents = [];\n    let parent: null | Fiber = fiber;\n    while (parent !== null) {\n      parents.push(parent);\n      parent = parent.return;\n    }\n    return parents;\n  }\n\n  function markStateUpdateScheduled(fiber: Fiber, lane: Lane): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          const event: ReactScheduleStateUpdateEvent = {\n            componentName,\n            // Store the parent fibers so we can post process\n            // them after we finish profiling\n            lanes: laneToLanesArray(lane),\n            timestamp: getRelativeTime(),\n            type: 'schedule-state-update',\n            warning: null,\n          };\n          currentFiberStacks.set(event, getParentFibers(fiber));\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          currentTimelineData.schedulingEvents.push(event);\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--schedule-state-update-${lane}-${componentName}`);\n      }\n    }\n  }\n\n  function toggleProfilingStatus(value: boolean) {\n    if (isProfiling !== value) {\n      isProfiling = value;\n\n      if (isProfiling) {\n        const internalModuleSourceToRanges: InternalModuleSourceToRanges =\n          new Map();\n\n        if (supportsUserTimingV3) {\n          const ranges = getInternalModuleRanges();\n          if (ranges) {\n            for (let i = 0; i < ranges.length; i++) {\n              const range = ranges[i];\n              if (isArray(range) && range.length === 2) {\n                const [startStackFrame, stopStackFrame] = ranges[i];\n\n                markAndClear(\n                  `--react-internal-module-start-${startStackFrame}`,\n                );\n                markAndClear(`--react-internal-module-stop-${stopStackFrame}`);\n              }\n            }\n          }\n        }\n\n        const laneToReactMeasureMap = new Map<ReactLane, ReactMeasure[]>();\n        let lane = 1;\n        for (let index = 0; index < REACT_TOTAL_NUM_LANES; index++) {\n          laneToReactMeasureMap.set(lane, []);\n          lane *= 2;\n        }\n\n        currentBatchUID = 0;\n        currentReactComponentMeasure = null;\n        currentReactMeasuresStack = [];\n        currentFiberStacks = new Map();\n        currentTimelineData = {\n          // Session wide metadata; only collected once.\n          internalModuleSourceToRanges,\n          laneToLabelMap: laneToLabelMap || new Map(),\n          reactVersion,\n\n          // Data logged by React during profiling session.\n          componentMeasures: [],\n          schedulingEvents: [],\n          suspenseEvents: [],\n          thrownErrors: [],\n\n          // Data inferred based on what React logs.\n          batchUIDToMeasuresMap: new Map(),\n          duration: 0,\n          laneToReactMeasureMap,\n          startTime: 0,\n\n          // Data only available in Chrome profiles.\n          flamechart: [],\n          nativeEvents: [],\n          networkMeasures: [],\n          otherUserTimingMarks: [],\n          snapshots: [],\n          snapshotHeight: 0,\n        };\n        nextRenderShouldStartNewBatch = true;\n      } else {\n        // Postprocess Profile data\n        if (currentTimelineData !== null) {\n          currentTimelineData.schedulingEvents.forEach(event => {\n            if (event.type === 'schedule-state-update') {\n              // TODO(luna): We can optimize this by creating a map of\n              // fiber to component stack instead of generating the stack\n              // for every fiber every time\n              const fiberStack = currentFiberStacks.get(event);\n              if (fiberStack && currentDispatcherRef != null) {\n                event.componentStack = fiberStack.reduce((trace, fiber) => {\n                  return (\n                    trace +\n                    describeFiber(workTagMap, fiber, currentDispatcherRef)\n                  );\n                }, '');\n              }\n            }\n          });\n        }\n\n        // Clear the current fiber stacks so we don't hold onto the fibers\n        // in memory after profiling finishes\n        currentFiberStacks.clear();\n      }\n    }\n  }\n\n  return {\n    getTimelineData,\n    profilingHooks: {\n      markCommitStarted,\n      markCommitStopped,\n      markComponentRenderStarted,\n      markComponentRenderStopped,\n      markComponentPassiveEffectMountStarted,\n      markComponentPassiveEffectMountStopped,\n      markComponentPassiveEffectUnmountStarted,\n      markComponentPassiveEffectUnmountStopped,\n      markComponentLayoutEffectMountStarted,\n      markComponentLayoutEffectMountStopped,\n      markComponentLayoutEffectUnmountStarted,\n      markComponentLayoutEffectUnmountStopped,\n      markComponentErrored,\n      markComponentSuspended,\n      markLayoutEffectsStarted,\n      markLayoutEffectsStopped,\n      markPassiveEffectsStarted,\n      markPassiveEffectsStopped,\n      markRenderStarted,\n      markRenderYielded,\n      markRenderStopped,\n      markRenderScheduled,\n      markForceUpdateScheduled,\n      markStateUpdateScheduled,\n    },\n    toggleProfilingStatus,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  ComponentFilterDisplayName,\n  ComponentFilterElementType,\n  ComponentFilterHOC,\n  ComponentFilterLocation,\n  ElementTypeClass,\n  ElementTypeContext,\n  ElementTypeFunction,\n  ElementTypeForwardRef,\n  ElementTypeHostComponent,\n  ElementTypeMemo,\n  ElementTypeOtherOrUnknown,\n  ElementTypeProfiler,\n  ElementTypeRoot,\n  ElementTypeSuspense,\n  ElementTypeSuspenseList,\n  ElementTypeTracingMarker,\n  StrictMode,\n} from 'react-devtools-shared/src/frontend/types';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getWrappedDisplayName,\n  getDefaultComponentFilters,\n  getInObject,\n  getUID,\n  renamePathInObject,\n  setInObject,\n  utfEncodeString,\n  filterOutLocationComponentFilters,\n} from 'react-devtools-shared/src/utils';\nimport {sessionStorageGetItem} from 'react-devtools-shared/src/storage';\nimport {\n  formatConsoleArgumentsToSingleString,\n  gt,\n  gte,\n  parseSourceFromComponentStack,\n  serializeToString,\n} from 'react-devtools-shared/src/backend/utils';\nimport {\n  cleanForBridge,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n  getEffectDurations,\n} from './utils';\nimport {\n  __DEBUG__,\n  PROFILING_FLAG_BASIC_SUPPORT,\n  PROFILING_FLAG_TIMELINE_SUPPORT,\n  SESSION_STORAGE_RELOAD_AND_PROFILE_KEY,\n  SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REMOVE_ROOT,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_SET_SUBTREE_MODE,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n} from '../constants';\nimport {inspectHooksOfFiber} from 'react-debug-tools';\nimport {\n  patchConsoleUsingWindowValues,\n  registerRenderer as registerRendererWithConsole,\n  patchForStrictMode as patchConsoleForStrictMode,\n  unpatchForStrictMode as unpatchConsoleForStrictMode,\n} from './console';\nimport {\n  CONCURRENT_MODE_NUMBER,\n  CONCURRENT_MODE_SYMBOL_STRING,\n  DEPRECATED_ASYNC_MODE_SYMBOL_STRING,\n  PROVIDER_NUMBER,\n  PROVIDER_SYMBOL_STRING,\n  CONTEXT_NUMBER,\n  CONTEXT_SYMBOL_STRING,\n  CONSUMER_SYMBOL_STRING,\n  STRICT_MODE_NUMBER,\n  STRICT_MODE_SYMBOL_STRING,\n  PROFILER_NUMBER,\n  PROFILER_SYMBOL_STRING,\n  REACT_MEMO_CACHE_SENTINEL,\n  SCOPE_NUMBER,\n  SCOPE_SYMBOL_STRING,\n  FORWARD_REF_NUMBER,\n  FORWARD_REF_SYMBOL_STRING,\n  MEMO_NUMBER,\n  MEMO_SYMBOL_STRING,\n  SERVER_CONTEXT_SYMBOL_STRING,\n} from './ReactSymbols';\nimport {enableStyleXFeatures} from 'react-devtools-feature-flags';\nimport is from 'shared/objectIs';\nimport hasOwnProperty from 'shared/hasOwnProperty';\nimport {getStyleXData} from './StyleX/utils';\nimport {createProfilingHooks} from './profilingHooks';\n\nimport type {GetTimelineData, ToggleProfilingStatus} from './profilingHooks';\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {\n  ChangeDescription,\n  CommitDataBackend,\n  DevToolsHook,\n  InspectedElement,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  NativeType,\n  PathFrame,\n  PathMatch,\n  ProfilingDataBackend,\n  ProfilingDataForRootBackend,\n  ReactRenderer,\n  RendererInterface,\n  SerializedElement,\n  WorkTagMap,\n  CurrentDispatcherRef,\n  LegacyDispatcherRef,\n} from './types';\nimport type {\n  ComponentFilter,\n  ElementType,\n  Plugins,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {Source} from 'react-devtools-shared/src/shared/types';\nimport {getStackByFiberInDevAndProd} from './DevToolsFiberComponentStack';\n\ntype getDisplayNameForFiberType = (fiber: Fiber) => string | null;\ntype getTypeSymbolType = (type: any) => symbol | number;\n\ntype ReactPriorityLevelsType = {\n  ImmediatePriority: number,\n  UserBlockingPriority: number,\n  NormalPriority: number,\n  LowPriority: number,\n  IdlePriority: number,\n  NoPriority: number,\n};\n\nexport function getDispatcherRef(renderer: {\n  +currentDispatcherRef?: LegacyDispatcherRef | CurrentDispatcherRef,\n  ...\n}): void | CurrentDispatcherRef {\n  if (renderer.currentDispatcherRef === undefined) {\n    return undefined;\n  }\n  const injectedRef = renderer.currentDispatcherRef;\n  if (\n    typeof injectedRef.H === 'undefined' &&\n    typeof injectedRef.current !== 'undefined'\n  ) {\n    // We got a legacy dispatcher injected, let's create a wrapper proxy to translate.\n    return {\n      get H() {\n        return (injectedRef: any).current;\n      },\n      set H(value) {\n        (injectedRef: any).current = value;\n      },\n    };\n  }\n  return (injectedRef: any);\n}\n\nfunction getFiberFlags(fiber: Fiber): number {\n  // The name of this field changed from \"effectTag\" to \"flags\"\n  return fiber.flags !== undefined ? fiber.flags : (fiber: any).effectTag;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport function getInternalReactConstants(version: string): {\n  getDisplayNameForFiber: getDisplayNameForFiberType,\n  getTypeSymbol: getTypeSymbolType,\n  ReactPriorityLevels: ReactPriorityLevelsType,\n  ReactTypeOfWork: WorkTagMap,\n  StrictModeBits: number,\n} {\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // Technically these priority levels are invalid for versions before 16.9,\n  // but 16.9 is the first version to report priority level to DevTools,\n  // so we can avoid checking for earlier versions and support pre-16.9 canary releases in the process.\n  let ReactPriorityLevels: ReactPriorityLevelsType = {\n    ImmediatePriority: 99,\n    UserBlockingPriority: 98,\n    NormalPriority: 97,\n    LowPriority: 96,\n    IdlePriority: 95,\n    NoPriority: 90,\n  };\n\n  if (gt(version, '17.0.2')) {\n    ReactPriorityLevels = {\n      ImmediatePriority: 1,\n      UserBlockingPriority: 2,\n      NormalPriority: 3,\n      LowPriority: 4,\n      IdlePriority: 5,\n      NoPriority: 0,\n    };\n  }\n\n  let StrictModeBits = 0;\n  if (gte(version, '18.0.0-alpha')) {\n    // 18+\n    StrictModeBits = 0b011000;\n  } else if (gte(version, '16.9.0')) {\n    // 16.9 - 17\n    StrictModeBits = 0b1;\n  } else if (gte(version, '16.3.0')) {\n    // 16.3 - 16.8\n    StrictModeBits = 0b10;\n  }\n\n  let ReactTypeOfWork: WorkTagMap = ((null: any): WorkTagMap);\n\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // TODO Update the gt() check below to be gte() whichever the next version number is.\n  // Currently the version in Git is 17.0.2 (but that version has not been/may not end up being released).\n  if (gt(version, '17.0.1')) {\n    ReactTypeOfWork = {\n      CacheComponent: 24, // Experimental\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: 26, // In reality, 18.2+. But doesn't hurt to include it here\n      HostSingleton: 27, // Same as above\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: 28,\n      IndeterminateComponent: 2, // removed in 19.0.0\n      LazyComponent: 16,\n      LegacyHiddenComponent: 23,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 22, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: 25, // Experimental - This is technically in 18 but we don't\n      // want to fork again so we're adding it here instead\n      YieldComponent: -1, // Removed\n      Throw: 29,\n    };\n  } else if (gte(version, '17.0.0-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: 24,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 23, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n      Throw: -1, // Doesn't exist yet\n    };\n  } else if (gte(version, '16.6.0-beta.0')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: -1,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 12,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n      Throw: -1, // Doesn't exist yet\n    };\n  } else if (gte(version, '16.4.3-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 11,\n      ContextProvider: 12,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 13,\n      Fragment: 9,\n      FunctionComponent: 0,\n      HostComponent: 7,\n      HostPortal: 6,\n      HostRoot: 5,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 8,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 4,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 10,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n      Throw: -1, // Doesn't exist yet\n    };\n  } else {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 12,\n      ContextProvider: 13,\n      CoroutineComponent: 7,\n      CoroutineHandlerPhase: 8,\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 14,\n      Fragment: 10,\n      FunctionComponent: 1,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 0,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 11,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: 9,\n      Throw: -1, // Doesn't exist yet\n    };\n  }\n  // **********************************************************\n  // End of copied code.\n  // **********************************************************\n\n  function getTypeSymbol(type: any): symbol | number {\n    const symbolOrNumber =\n      typeof type === 'object' && type !== null ? type.$$typeof : type;\n\n    return typeof symbolOrNumber === 'symbol'\n      ? // $FlowFixMe[incompatible-return] `toString()` doesn't match the type signature?\n        symbolOrNumber.toString()\n      : symbolOrNumber;\n  }\n\n  const {\n    CacheComponent,\n    ClassComponent,\n    IncompleteClassComponent,\n    IncompleteFunctionComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    ForwardRef,\n    HostRoot,\n    HostHoistable,\n    HostSingleton,\n    HostComponent,\n    HostPortal,\n    HostText,\n    Fragment,\n    LazyComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    Profiler,\n    ScopeComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    TracingMarkerComponent,\n    Throw,\n  } = ReactTypeOfWork;\n\n  function resolveFiberType(type: any): $FlowFixMe {\n    const typeSymbol = getTypeSymbol(type);\n    switch (typeSymbol) {\n      case MEMO_NUMBER:\n      case MEMO_SYMBOL_STRING:\n        // recursively resolving memo type in case of memo(forwardRef(Component))\n        return resolveFiberType(type.type);\n      case FORWARD_REF_NUMBER:\n      case FORWARD_REF_SYMBOL_STRING:\n        return type.render;\n      default:\n        return type;\n    }\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getDisplayNameForFiber(\n    fiber: Fiber,\n    shouldSkipForgetCheck: boolean = false,\n  ): string | null {\n    const {elementType, type, tag} = fiber;\n\n    let resolvedType = type;\n    if (typeof type === 'object' && type !== null) {\n      resolvedType = resolveFiberType(type);\n    }\n\n    let resolvedContext: any = null;\n    if (\n      !shouldSkipForgetCheck &&\n      // $FlowFixMe[incompatible-type] fiber.updateQueue is mixed\n      (fiber.updateQueue?.memoCache != null ||\n        fiber.memoizedState?.memoizedState?.[REACT_MEMO_CACHE_SENTINEL])\n    ) {\n      const displayNameWithoutForgetWrapper = getDisplayNameForFiber(\n        fiber,\n        true,\n      );\n      if (displayNameWithoutForgetWrapper == null) {\n        return null;\n      }\n\n      return `Forget(${displayNameWithoutForgetWrapper})`;\n    }\n\n    switch (tag) {\n      case CacheComponent:\n        return 'Cache';\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return getDisplayName(resolvedType);\n      case ForwardRef:\n        return getWrappedDisplayName(\n          elementType,\n          resolvedType,\n          'ForwardRef',\n          'Anonymous',\n        );\n      case HostRoot:\n        const fiberRoot = fiber.stateNode;\n        if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n          return fiberRoot._debugRootType;\n        }\n        return null;\n      case HostComponent:\n      case HostSingleton:\n      case HostHoistable:\n        return type;\n      case HostPortal:\n      case HostText:\n        return null;\n      case Fragment:\n        return 'Fragment';\n      case LazyComponent:\n        // This display name will not be user visible.\n        // Once a Lazy component loads its inner component, React replaces the tag and type.\n        // This display name will only show up in console logs when DevTools DEBUG mode is on.\n        return 'Lazy';\n      case MemoComponent:\n      case SimpleMemoComponent:\n        // Display name in React does not use `Memo` as a wrapper but fallback name.\n        return getWrappedDisplayName(\n          elementType,\n          resolvedType,\n          'Memo',\n          'Anonymous',\n        );\n      case SuspenseComponent:\n        return 'Suspense';\n      case LegacyHiddenComponent:\n        return 'LegacyHidden';\n      case OffscreenComponent:\n        return 'Offscreen';\n      case ScopeComponent:\n        return 'Scope';\n      case SuspenseListComponent:\n        return 'SuspenseList';\n      case Profiler:\n        return 'Profiler';\n      case TracingMarkerComponent:\n        return 'TracingMarker';\n      case Throw:\n        // This should really never be visible.\n        return 'Error';\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return null;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            // 16.3.0 exposed the context object as \"context\"\n            // PR #12501 changed it to \"_context\" for 16.3.1+\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type.context;\n            return `${resolvedContext.displayName || 'Context'}.Provider`;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n          case SERVER_CONTEXT_SYMBOL_STRING:\n            if (\n              fiber.type._context === undefined &&\n              fiber.type.Provider === fiber.type\n            ) {\n              // In 19+, Context.Provider === Context, so this is a provider.\n              resolvedContext = fiber.type;\n              return `${resolvedContext.displayName || 'Context'}.Provider`;\n            }\n\n            // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n            // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type;\n\n            // NOTE: TraceUpdatesBackendManager depends on the name ending in '.Consumer'\n            // If you change the name, figure out a more resilient way to detect it.\n            return `${resolvedContext.displayName || 'Context'}.Consumer`;\n          case CONSUMER_SYMBOL_STRING:\n            // 19+\n            resolvedContext = fiber.type._context;\n            return `${resolvedContext.displayName || 'Context'}.Consumer`;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return null;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return `Profiler(${fiber.memoizedProps.id})`;\n          case SCOPE_NUMBER:\n          case SCOPE_SYMBOL_STRING:\n            return 'Scope';\n          default:\n            // Unknown element type.\n            // This may mean a new element type that has not yet been added to DevTools.\n            return null;\n        }\n    }\n  }\n\n  return {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    StrictModeBits,\n  };\n}\n\n// Map of one or more Fibers in a pair to their unique id number.\n// We track both Fibers to support Fast Refresh,\n// which may forcefully replace one of the pair as part of hot reloading.\n// In that case it's still important to be able to locate the previous ID during subsequent renders.\nconst fiberToIDMap: Map<Fiber, number> = new Map();\n\n// Map of id to one (arbitrary) Fiber in a pair.\n// This Map is used to e.g. get the display name for a Fiber or schedule an update,\n// operations that should be the same whether the current and work-in-progress Fiber is used.\nconst idToArbitraryFiberMap: Map<number, Fiber> = new Map();\n\nconst fiberToComponentStackMap: WeakMap<Fiber, string> = new WeakMap();\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: ReactRenderer,\n  global: Object,\n): RendererInterface {\n  // Newer versions of the reconciler package also specific reconciler version.\n  // If that version number is present, use it.\n  // Third party renderer versions may not match the reconciler version,\n  // and the latter is what's important in terms of tags and symbols.\n  const version = renderer.reconcilerVersion || renderer.version;\n\n  const {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    StrictModeBits,\n  } = getInternalReactConstants(version);\n  const {\n    CacheComponent,\n    ClassComponent,\n    ContextConsumer,\n    DehydratedSuspenseComponent,\n    ForwardRef,\n    Fragment,\n    FunctionComponent,\n    HostRoot,\n    HostHoistable,\n    HostSingleton,\n    HostPortal,\n    HostComponent,\n    HostText,\n    IncompleteClassComponent,\n    IncompleteFunctionComponent,\n    IndeterminateComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    TracingMarkerComponent,\n    Throw,\n  } = ReactTypeOfWork;\n  const {\n    ImmediatePriority,\n    UserBlockingPriority,\n    NormalPriority,\n    LowPriority,\n    IdlePriority,\n    NoPriority,\n  } = ReactPriorityLevels;\n\n  const {\n    getLaneLabelMap,\n    injectProfilingHooks,\n    overrideHookState,\n    overrideHookStateDeletePath,\n    overrideHookStateRenamePath,\n    overrideProps,\n    overridePropsDeletePath,\n    overridePropsRenamePath,\n    scheduleRefresh,\n    setErrorHandler,\n    setSuspenseHandler,\n    scheduleUpdate,\n  } = renderer;\n  const supportsTogglingError =\n    typeof setErrorHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n  const supportsTogglingSuspense =\n    typeof setSuspenseHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n\n  if (typeof scheduleRefresh === 'function') {\n    // When Fast Refresh updates a component, the frontend may need to purge cached information.\n    // For example, ASTs cached for the component (for named hooks) may no longer be valid.\n    // Send a signal to the frontend to purge this cached information.\n    // The \"fastRefreshScheduled\" dispatched is global (not Fiber or even Renderer specific).\n    // This is less effecient since it means the front-end will need to purge the entire cache,\n    // but this is probably an okay trade off in order to reduce coupling between the DevTools and Fast Refresh.\n    renderer.scheduleRefresh = (...args) => {\n      try {\n        hook.emit('fastRefreshScheduled');\n      } finally {\n        return scheduleRefresh(...args);\n      }\n    };\n  }\n\n  let getTimelineData: null | GetTimelineData = null;\n  let toggleProfilingStatus: null | ToggleProfilingStatus = null;\n  if (typeof injectProfilingHooks === 'function') {\n    const response = createProfilingHooks({\n      getDisplayNameForFiber,\n      getIsProfiling: () => isProfiling,\n      getLaneLabelMap,\n      currentDispatcherRef: getDispatcherRef(renderer),\n      workTagMap: ReactTypeOfWork,\n      reactVersion: version,\n    });\n\n    // Pass the Profiling hooks to the reconciler for it to call during render.\n    injectProfilingHooks(response.profilingHooks);\n\n    // Hang onto this toggle so we can notify the external methods of profiling status changes.\n    getTimelineData = response.getTimelineData;\n    toggleProfilingStatus = response.toggleProfilingStatus;\n  }\n\n  // Tracks Fibers with recently changed number of error/warning messages.\n  // These collections store the Fiber rather than the ID,\n  // in order to avoid generating an ID for Fibers that never get mounted\n  // (due to e.g. Suspense or error boundaries).\n  // onErrorOrWarning() adds Fibers and recordPendingErrorsAndWarnings() later clears them.\n  const fibersWithChangedErrorOrWarningCounts: Set<Fiber> = new Set();\n  const pendingFiberToErrorsMap: Map<Fiber, Map<string, number>> = new Map();\n  const pendingFiberToWarningsMap: Map<Fiber, Map<string, number>> = new Map();\n\n  // Mapping of fiber IDs to error/warning messages and counts.\n  const fiberIDToErrorsMap: Map<number, Map<string, number>> = new Map();\n  const fiberIDToWarningsMap: Map<number, Map<string, number>> = new Map();\n\n  function clearErrorsAndWarnings() {\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const id of fiberIDToErrorsMap.keys()) {\n      const fiber = idToArbitraryFiberMap.get(id);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        updateMostRecentlyInspectedElementIfNecessary(id);\n      }\n    }\n\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const id of fiberIDToWarningsMap.keys()) {\n      const fiber = idToArbitraryFiberMap.get(id);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        updateMostRecentlyInspectedElementIfNecessary(id);\n      }\n    }\n\n    fiberIDToErrorsMap.clear();\n    fiberIDToWarningsMap.clear();\n\n    flushPendingEvents();\n  }\n\n  function clearMessageCountHelper(\n    fiberID: number,\n    pendingFiberToMessageCountMap: Map<Fiber, Map<string, number>>,\n    fiberIDToMessageCountMap: Map<number, Map<string, number>>,\n  ) {\n    const fiber = idToArbitraryFiberMap.get(fiberID);\n    if (fiber != null) {\n      // Throw out any pending changes.\n      pendingFiberToErrorsMap.delete(fiber);\n\n      if (fiberIDToMessageCountMap.has(fiberID)) {\n        fiberIDToMessageCountMap.delete(fiberID);\n\n        // If previous flushed counts have changed, schedule an update too.\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        flushPendingEvents();\n\n        updateMostRecentlyInspectedElementIfNecessary(fiberID);\n      } else {\n        fibersWithChangedErrorOrWarningCounts.delete(fiber);\n      }\n    }\n  }\n\n  function clearErrorsForFiberID(fiberID: number) {\n    clearMessageCountHelper(\n      fiberID,\n      pendingFiberToErrorsMap,\n      fiberIDToErrorsMap,\n    );\n  }\n\n  function clearWarningsForFiberID(fiberID: number) {\n    clearMessageCountHelper(\n      fiberID,\n      pendingFiberToWarningsMap,\n      fiberIDToWarningsMap,\n    );\n  }\n\n  function updateMostRecentlyInspectedElementIfNecessary(\n    fiberID: number,\n  ): void {\n    if (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === fiberID\n    ) {\n      hasElementUpdatedSinceLastInspected = true;\n    }\n  }\n\n  // Called when an error or warning is logged during render, commit, or passive (including unmount functions).\n  function onErrorOrWarning(\n    fiber: Fiber,\n    type: 'error' | 'warn',\n    args: $ReadOnlyArray<any>,\n  ): void {\n    if (type === 'error') {\n      const maybeID = getFiberIDUnsafe(fiber);\n      // if this is an error simulated by us to trigger error boundary, ignore\n      if (maybeID != null && forceErrorForFiberIDs.get(maybeID) === true) {\n        return;\n      }\n    }\n\n    // We can't really use this message as a unique key, since we can't distinguish\n    // different objects in this implementation. We have to delegate displaying of the objects\n    // to the environment, the browser console, for example, so this is why this should be kept\n    // as an array of arguments, instead of the plain string.\n    // [Warning: %o, {...}] and [Warning: %o, {...}] will be considered as the same message,\n    // even if objects are different\n    const message = formatConsoleArgumentsToSingleString(...args);\n    if (__DEBUG__) {\n      debug('onErrorOrWarning', fiber, null, `${type}: \"${message}\"`);\n    }\n\n    // Mark this Fiber as needed its warning/error count updated during the next flush.\n    fibersWithChangedErrorOrWarningCounts.add(fiber);\n\n    // Track the warning/error for later.\n    const fiberMap =\n      type === 'error' ? pendingFiberToErrorsMap : pendingFiberToWarningsMap;\n    const messageMap = fiberMap.get(fiber);\n    if (messageMap != null) {\n      const count = messageMap.get(message) || 0;\n      messageMap.set(message, count + 1);\n    } else {\n      fiberMap.set(fiber, new Map([[message, 1]]));\n    }\n\n    // Passive effects may trigger errors or warnings too;\n    // In this case, we should wait until the rest of the passive effects have run,\n    // but we shouldn't wait until the next commit because that might be a long time.\n    // This would also cause \"tearing\" between an inspected Component and the tree view.\n    // Then again we don't want to flush too soon because this could be an error during async rendering.\n    // Use a debounce technique to ensure that we'll eventually flush.\n    flushPendingErrorsAndWarningsAfterDelay();\n  }\n\n  // Patching the console enables DevTools to do a few useful things:\n  // * Append component stacks to warnings and error messages\n  // * Disable logging during re-renders to inspect hooks (see inspectHooksOfFiber)\n  registerRendererWithConsole(renderer, onErrorOrWarning);\n\n  // The renderer interface can't read these preferences directly,\n  // because it is stored in localStorage within the context of the extension.\n  // It relies on the extension to pass the preference through via the global.\n  patchConsoleUsingWindowValues();\n\n  const debug = (\n    name: string,\n    fiber: Fiber,\n    parentFiber: ?Fiber,\n    extraString: string = '',\n  ): void => {\n    if (__DEBUG__) {\n      const displayName =\n        fiber.tag + ':' + (getDisplayNameForFiber(fiber) || 'null');\n\n      const maybeID = getFiberIDUnsafe(fiber) || '<no id>';\n      const parentDisplayName = parentFiber\n        ? parentFiber.tag +\n          ':' +\n          (getDisplayNameForFiber(parentFiber) || 'null')\n        : '';\n      const maybeParentID = parentFiber\n        ? getFiberIDUnsafe(parentFiber) || '<no-id>'\n        : '';\n\n      console.groupCollapsed(\n        `[renderer] %c${name} %c${displayName} (${maybeID}) %c${\n          parentFiber ? `${parentDisplayName} (${maybeParentID})` : ''\n        } %c${extraString}`,\n        'color: red; font-weight: bold;',\n        'color: blue;',\n        'color: purple;',\n        'color: black;',\n      );\n      console.log(new Error().stack.split('\\n').slice(1).join('\\n'));\n      console.groupEnd();\n    }\n  };\n\n  // Configurable Components tree filters.\n  const hideElementsWithDisplayNames: Set<RegExp> = new Set();\n  const hideElementsWithPaths: Set<RegExp> = new Set();\n  const hideElementsWithTypes: Set<ElementType> = new Set();\n\n  // Highlight updates\n  let traceUpdatesEnabled: boolean = false;\n  const traceUpdatesForNodes: Set<NativeType> = new Set();\n\n  function applyComponentFilters(componentFilters: Array<ComponentFilter>) {\n    hideElementsWithTypes.clear();\n    hideElementsWithDisplayNames.clear();\n    hideElementsWithPaths.clear();\n\n    componentFilters.forEach(componentFilter => {\n      if (!componentFilter.isEnabled) {\n        return;\n      }\n\n      switch (componentFilter.type) {\n        case ComponentFilterDisplayName:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithDisplayNames.add(\n              new RegExp(componentFilter.value, 'i'),\n            );\n          }\n          break;\n        case ComponentFilterElementType:\n          hideElementsWithTypes.add(componentFilter.value);\n          break;\n        case ComponentFilterLocation:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithPaths.add(new RegExp(componentFilter.value, 'i'));\n          }\n          break;\n        case ComponentFilterHOC:\n          hideElementsWithDisplayNames.add(new RegExp('\\\\('));\n          break;\n        default:\n          console.warn(\n            `Invalid component filter type \"${componentFilter.type}\"`,\n          );\n          break;\n      }\n    });\n  }\n\n  // The renderer interface can't read saved component filters directly,\n  // because they are stored in localStorage within the context of the extension.\n  // Instead it relies on the extension to pass filters through.\n  if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ != null) {\n    const componentFiltersWithoutLocationBasedOnes =\n      filterOutLocationComponentFilters(\n        window.__REACT_DEVTOOLS_COMPONENT_FILTERS__,\n      );\n    applyComponentFilters(componentFiltersWithoutLocationBasedOnes);\n  } else {\n    // Unfortunately this feature is not expected to work for React Native for now.\n    // It would be annoying for us to spam YellowBox warnings with unactionable stuff,\n    // so for now just skip this message...\n    //console.warn(' DevTools: Could not locate saved component filters');\n\n    // Fallback to assuming the default filters in this case.\n    applyComponentFilters(getDefaultComponentFilters());\n  }\n\n  // If necessary, we can revisit optimizing this operation.\n  // For example, we could add a new recursive unmount tree operation.\n  // The unmount operations are already significantly smaller than mount operations though.\n  // This is something to keep in mind for later.\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    if (isProfiling) {\n      // Re-mounting a tree while profiling is in progress might break a lot of assumptions.\n      // If necessary, we could support this- but it doesn't seem like a necessary use case.\n      throw Error('Cannot modify filter preferences while profiling');\n    }\n\n    // Recursively unmount all roots.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      currentRootID = getOrGenerateFiberID(root.current);\n      // The TREE_OPERATION_REMOVE_ROOT operation serves two purposes:\n      // 1. It avoids sending unnecessary bridge traffic to clear a root.\n      // 2. It preserves Fiber IDs when remounting (below) which in turn ID to error/warning mapping.\n      pushOperation(TREE_OPERATION_REMOVE_ROOT);\n      flushPendingEvents(root);\n      currentRootID = -1;\n    });\n\n    applyComponentFilters(componentFilters);\n\n    // Reset pseudo counters so that new path selections will be persisted.\n    rootDisplayNameCounter.clear();\n\n    // Recursively re-mount all roots with new filter criteria applied.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      currentRootID = getOrGenerateFiberID(root.current);\n      setRootPseudoKey(currentRootID, root.current);\n      mountFiberRecursively(root.current, null, false, false);\n      flushPendingEvents(root);\n      currentRootID = -1;\n    });\n\n    // Also re-evaluate all error and warning counts given the new filters.\n    reevaluateErrorsAndWarnings();\n    flushPendingEvents();\n  }\n\n  // NOTICE Keep in sync with get*ForFiber methods\n  function shouldFilterFiber(fiber: Fiber): boolean {\n    const {tag, type, key} = fiber;\n\n    switch (tag) {\n      case DehydratedSuspenseComponent:\n        // TODO: ideally we would show dehydrated Suspense immediately.\n        // However, it has some special behavior (like disconnecting\n        // an alternate and turning into real Suspense) which breaks DevTools.\n        // For now, ignore it, and only show it once it gets hydrated.\n        // https://github.com/bvaughn/react-devtools-experimental/issues/197\n        return true;\n      case HostPortal:\n      case HostText:\n      case LegacyHiddenComponent:\n      case OffscreenComponent:\n      case Throw:\n        return true;\n      case HostRoot:\n        // It is never valid to filter the root element.\n        return false;\n      case Fragment:\n        return key === null;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return true;\n          default:\n            break;\n        }\n    }\n\n    const elementType = getElementTypeForFiber(fiber);\n    if (hideElementsWithTypes.has(elementType)) {\n      return true;\n    }\n\n    if (hideElementsWithDisplayNames.size > 0) {\n      const displayName = getDisplayNameForFiber(fiber);\n      if (displayName != null) {\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const displayNameRegExp of hideElementsWithDisplayNames) {\n          if (displayNameRegExp.test(displayName)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    /* DISABLED: https://github.com/facebook/react/pull/28417\n    if (hideElementsWithPaths.size > 0) {\n      const source = getSourceForFiber(fiber);\n\n      if (source != null) {\n        const {fileName} = source;\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const pathRegExp of hideElementsWithPaths) {\n          if (pathRegExp.test(fileName)) {\n            return true;\n          }\n        }\n      }\n    }\n    */\n\n    return false;\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getElementTypeForFiber(fiber: Fiber): ElementType {\n    const {type, tag} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        return ElementTypeClass;\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return ElementTypeFunction;\n      case ForwardRef:\n        return ElementTypeForwardRef;\n      case HostRoot:\n        return ElementTypeRoot;\n      case HostComponent:\n      case HostHoistable:\n      case HostSingleton:\n        return ElementTypeHostComponent;\n      case HostPortal:\n      case HostText:\n      case Fragment:\n        return ElementTypeOtherOrUnknown;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        return ElementTypeMemo;\n      case SuspenseComponent:\n        return ElementTypeSuspense;\n      case SuspenseListComponent:\n        return ElementTypeSuspenseList;\n      case TracingMarkerComponent:\n        return ElementTypeTracingMarker;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            return ElementTypeContext;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n            return ElementTypeContext;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return ElementTypeProfiler;\n          default:\n            return ElementTypeOtherOrUnknown;\n        }\n    }\n  }\n\n  // When profiling is supported, we store the latest tree base durations for each Fiber.\n  // This is so that we can quickly capture a snapshot of those values if profiling starts.\n  // If we didn't store these values, we'd have to crawl the tree when profiling started,\n  // and use a slow path to find each of the current Fibers.\n  const idToTreeBaseDurationMap: Map<number, number> = new Map();\n\n  // When profiling is supported, we store the latest tree base durations for each Fiber.\n  // This map enables us to filter these times by root when sending them to the frontend.\n  const idToRootMap: Map<number, number> = new Map();\n\n  // When a mount or update is in progress, this value tracks the root that is being operated on.\n  let currentRootID: number = -1;\n\n  // Returns the unique ID for a Fiber or generates and caches a new one if the Fiber hasn't been seen before.\n  // Once this method has been called for a Fiber, untrackFiberID() should always be called later to avoid leaking.\n  function getOrGenerateFiberID(fiber: Fiber): number {\n    let id = null;\n    if (fiberToIDMap.has(fiber)) {\n      id = fiberToIDMap.get(fiber);\n    } else {\n      const {alternate} = fiber;\n      if (alternate !== null && fiberToIDMap.has(alternate)) {\n        id = fiberToIDMap.get(alternate);\n      }\n    }\n\n    let didGenerateID = false;\n    if (id === null) {\n      didGenerateID = true;\n      id = getUID();\n    }\n\n    // This refinement is for Flow purposes only.\n    const refinedID = ((id: any): number);\n\n    // Make sure we're tracking this Fiber\n    // e.g. if it just mounted or an error was logged during initial render.\n    if (!fiberToIDMap.has(fiber)) {\n      fiberToIDMap.set(fiber, refinedID);\n      idToArbitraryFiberMap.set(refinedID, fiber);\n    }\n\n    // Also make sure we're tracking its alternate,\n    // e.g. in case this is the first update after mount.\n    const {alternate} = fiber;\n    if (alternate !== null) {\n      if (!fiberToIDMap.has(alternate)) {\n        fiberToIDMap.set(alternate, refinedID);\n      }\n    }\n\n    if (__DEBUG__) {\n      if (didGenerateID) {\n        debug(\n          'getOrGenerateFiberID()',\n          fiber,\n          fiber.return,\n          'Generated a new UID',\n        );\n      }\n    }\n\n    return refinedID;\n  }\n\n  // Returns an ID if one has already been generated for the Fiber or throws.\n  function getFiberIDThrows(fiber: Fiber): number {\n    const maybeID = getFiberIDUnsafe(fiber);\n    if (maybeID !== null) {\n      return maybeID;\n    }\n    throw Error(\n      `Could not find ID for Fiber \"${getDisplayNameForFiber(fiber) || ''}\"`,\n    );\n  }\n\n  // Returns an ID if one has already been generated for the Fiber or null if one has not been generated.\n  // Use this method while e.g. logging to avoid over-retaining Fibers.\n  function getFiberIDUnsafe(fiber: Fiber): number | null {\n    if (fiberToIDMap.has(fiber)) {\n      return ((fiberToIDMap.get(fiber): any): number);\n    } else {\n      const {alternate} = fiber;\n      if (alternate !== null && fiberToIDMap.has(alternate)) {\n        return ((fiberToIDMap.get(alternate): any): number);\n      }\n    }\n    return null;\n  }\n\n  // Removes a Fiber (and its alternate) from the Maps used to track their id.\n  // This method should always be called when a Fiber is unmounting.\n  function untrackFiberID(fiber: Fiber) {\n    if (__DEBUG__) {\n      debug('untrackFiberID()', fiber, fiber.return, 'schedule after delay');\n    }\n\n    // Untrack Fibers after a slight delay in order to support a Fast Refresh edge case:\n    // 1. Component type is updated and Fast Refresh schedules an update+remount.\n    // 2. flushPendingErrorsAndWarningsAfterDelay() runs, sees the old Fiber is no longer mounted\n    //    (it's been disconnected by Fast Refresh), and calls untrackFiberID() to clear it from the Map.\n    // 3. React flushes pending passive effects before it runs the next render,\n    //    which logs an error or warning, which causes a new ID to be generated for this Fiber.\n    // 4. DevTools now tries to unmount the old Component with the new ID.\n    //\n    // The underlying problem here is the premature clearing of the Fiber ID,\n    // but DevTools has no way to detect that a given Fiber has been scheduled for Fast Refresh.\n    // (The \"_debugNeedsRemount\" flag won't necessarily be set.)\n    //\n    // The best we can do is to delay untracking by a small amount,\n    // and give React time to process the Fast Refresh delay.\n\n    untrackFibersSet.add(fiber);\n\n    // React may detach alternate pointers during unmount;\n    // Since our untracking code is async, we should explicily track the pending alternate here as well.\n    const alternate = fiber.alternate;\n    if (alternate !== null) {\n      untrackFibersSet.add(alternate);\n    }\n\n    if (untrackFibersTimeoutID === null) {\n      untrackFibersTimeoutID = setTimeout(untrackFibers, 1000);\n    }\n  }\n\n  const untrackFibersSet: Set<Fiber> = new Set();\n  let untrackFibersTimeoutID: TimeoutID | null = null;\n\n  function untrackFibers() {\n    if (untrackFibersTimeoutID !== null) {\n      clearTimeout(untrackFibersTimeoutID);\n      untrackFibersTimeoutID = null;\n    }\n\n    untrackFibersSet.forEach(fiber => {\n      const fiberID = getFiberIDUnsafe(fiber);\n      if (fiberID !== null) {\n        idToArbitraryFiberMap.delete(fiberID);\n\n        // Also clear any errors/warnings associated with this fiber.\n        clearErrorsForFiberID(fiberID);\n        clearWarningsForFiberID(fiberID);\n      }\n\n      fiberToIDMap.delete(fiber);\n      fiberToComponentStackMap.delete(fiber);\n\n      const {alternate} = fiber;\n      if (alternate !== null) {\n        fiberToIDMap.delete(alternate);\n        fiberToComponentStackMap.delete(alternate);\n      }\n\n      if (forceErrorForFiberIDs.has(fiberID)) {\n        forceErrorForFiberIDs.delete(fiberID);\n        if (forceErrorForFiberIDs.size === 0 && setErrorHandler != null) {\n          setErrorHandler(shouldErrorFiberAlwaysNull);\n        }\n      }\n    });\n    untrackFibersSet.clear();\n  }\n\n  function getChangeDescription(\n    prevFiber: Fiber | null,\n    nextFiber: Fiber,\n  ): ChangeDescription | null {\n    switch (getElementTypeForFiber(nextFiber)) {\n      case ElementTypeClass:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n      case ElementTypeForwardRef:\n        if (prevFiber === null) {\n          return {\n            context: null,\n            didHooksChange: false,\n            isFirstMount: true,\n            props: null,\n            state: null,\n          };\n        } else {\n          const data: ChangeDescription = {\n            context: getContextChangedKeys(nextFiber),\n            didHooksChange: false,\n            isFirstMount: false,\n            props: getChangedKeys(\n              prevFiber.memoizedProps,\n              nextFiber.memoizedProps,\n            ),\n            state: getChangedKeys(\n              prevFiber.memoizedState,\n              nextFiber.memoizedState,\n            ),\n          };\n\n          // Only traverse the hooks list once, depending on what info we're returning.\n          const indices = getChangedHooksIndices(\n            prevFiber.memoizedState,\n            nextFiber.memoizedState,\n          );\n          data.hooks = indices;\n          data.didHooksChange = indices !== null && indices.length > 0;\n\n          return data;\n        }\n      default:\n        return null;\n    }\n  }\n\n  function updateContextsForFiber(fiber: Fiber) {\n    switch (getElementTypeForFiber(fiber)) {\n      case ElementTypeClass:\n      case ElementTypeForwardRef:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n        if (idToContextsMap !== null) {\n          const id = getFiberIDThrows(fiber);\n          const contexts = getContextsForFiber(fiber);\n          if (contexts !== null) {\n            // $FlowFixMe[incompatible-use] found when upgrading Flow\n            idToContextsMap.set(id, contexts);\n          }\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  // Differentiates between a null context value and no context.\n  const NO_CONTEXT = {};\n\n  function getContextsForFiber(fiber: Fiber): [Object, any] | null {\n    let legacyContext = NO_CONTEXT;\n    let modernContext = NO_CONTEXT;\n\n    switch (getElementTypeForFiber(fiber)) {\n      case ElementTypeClass:\n        const instance = fiber.stateNode;\n        if (instance != null) {\n          if (\n            instance.constructor &&\n            instance.constructor.contextType != null\n          ) {\n            modernContext = instance.context;\n          } else {\n            legacyContext = instance.context;\n            if (legacyContext && Object.keys(legacyContext).length === 0) {\n              legacyContext = NO_CONTEXT;\n            }\n          }\n        }\n        return [legacyContext, modernContext];\n      case ElementTypeForwardRef:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n        const dependencies = fiber.dependencies;\n        if (dependencies && dependencies.firstContext) {\n          modernContext = dependencies.firstContext;\n        }\n\n        return [legacyContext, modernContext];\n      default:\n        return null;\n    }\n  }\n\n  // Record all contexts at the time profiling is started.\n  // Fibers only store the current context value,\n  // so we need to track them separately in order to determine changed keys.\n  function crawlToInitializeContextsMap(fiber: Fiber) {\n    const id = getFiberIDUnsafe(fiber);\n\n    // Not all Fibers in the subtree have mounted yet.\n    // For example, Offscreen (hidden) or Suspense (suspended) subtrees won't yet be tracked.\n    // We can safely skip these subtrees.\n    if (id !== null) {\n      updateContextsForFiber(fiber);\n\n      let current = fiber.child;\n      while (current !== null) {\n        crawlToInitializeContextsMap(current);\n        current = current.sibling;\n      }\n    }\n  }\n\n  function getContextChangedKeys(fiber: Fiber): null | boolean | Array<string> {\n    if (idToContextsMap !== null) {\n      const id = getFiberIDThrows(fiber);\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      const prevContexts = idToContextsMap.has(id)\n        ? // $FlowFixMe[incompatible-use] found when upgrading Flow\n          idToContextsMap.get(id)\n        : null;\n      const nextContexts = getContextsForFiber(fiber);\n\n      if (prevContexts == null || nextContexts == null) {\n        return null;\n      }\n\n      const [prevLegacyContext, prevModernContext] = prevContexts;\n      const [nextLegacyContext, nextModernContext] = nextContexts;\n\n      switch (getElementTypeForFiber(fiber)) {\n        case ElementTypeClass:\n          if (prevContexts && nextContexts) {\n            if (nextLegacyContext !== NO_CONTEXT) {\n              return getChangedKeys(prevLegacyContext, nextLegacyContext);\n            } else if (nextModernContext !== NO_CONTEXT) {\n              return prevModernContext !== nextModernContext;\n            }\n          }\n          break;\n        case ElementTypeForwardRef:\n        case ElementTypeFunction:\n        case ElementTypeMemo:\n          if (nextModernContext !== NO_CONTEXT) {\n            let prevContext = prevModernContext;\n            let nextContext = nextModernContext;\n\n            while (prevContext && nextContext) {\n              // Note this only works for versions of React that support this key (e.v. 18+)\n              // For older versions, there's no good way to read the current context value after render has completed.\n              // This is because React maintains a stack of context values during render,\n              // but by the time DevTools is called, render has finished and the stack is empty.\n              if (!is(prevContext.memoizedValue, nextContext.memoizedValue)) {\n                return true;\n              }\n\n              prevContext = prevContext.next;\n              nextContext = nextContext.next;\n            }\n\n            return false;\n          }\n          break;\n        default:\n          break;\n      }\n    }\n    return null;\n  }\n\n  function isHookThatCanScheduleUpdate(hookObject: any) {\n    const queue = hookObject.queue;\n    if (!queue) {\n      return false;\n    }\n\n    const boundHasOwnProperty = hasOwnProperty.bind(queue);\n\n    // Detect the shape of useState() / useReducer() / useTransition()\n    // using the attributes that are unique to these hooks\n    // but also stable (e.g. not tied to current Lanes implementation)\n    // We don't check for dispatch property, because useTransition doesn't have it\n    if (boundHasOwnProperty('pending')) {\n      return true;\n    }\n\n    // Detect useSyncExternalStore()\n    return (\n      boundHasOwnProperty('value') &&\n      boundHasOwnProperty('getSnapshot') &&\n      typeof queue.getSnapshot === 'function'\n    );\n  }\n\n  function didStatefulHookChange(prev: any, next: any): boolean {\n    const prevMemoizedState = prev.memoizedState;\n    const nextMemoizedState = next.memoizedState;\n\n    if (isHookThatCanScheduleUpdate(prev)) {\n      return prevMemoizedState !== nextMemoizedState;\n    }\n\n    return false;\n  }\n\n  function getChangedHooksIndices(prev: any, next: any): null | Array<number> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    const indices = [];\n    let index = 0;\n    if (\n      next.hasOwnProperty('baseState') &&\n      next.hasOwnProperty('memoizedState') &&\n      next.hasOwnProperty('next') &&\n      next.hasOwnProperty('queue')\n    ) {\n      while (next !== null) {\n        if (didStatefulHookChange(prev, next)) {\n          indices.push(index);\n        }\n        next = next.next;\n        prev = prev.next;\n        index++;\n      }\n    }\n\n    return indices;\n  }\n\n  function getChangedKeys(prev: any, next: any): null | Array<string> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    // We can't report anything meaningful for hooks changes.\n    if (\n      next.hasOwnProperty('baseState') &&\n      next.hasOwnProperty('memoizedState') &&\n      next.hasOwnProperty('next') &&\n      next.hasOwnProperty('queue')\n    ) {\n      return null;\n    }\n\n    const keys = new Set([...Object.keys(prev), ...Object.keys(next)]);\n    const changedKeys = [];\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of keys) {\n      if (prev[key] !== next[key]) {\n        changedKeys.push(key);\n      }\n    }\n\n    return changedKeys;\n  }\n\n  function didFiberRender(prevFiber: Fiber, nextFiber: Fiber): boolean {\n    switch (nextFiber.tag) {\n      case ClassComponent:\n      case FunctionComponent:\n      case ContextConsumer:\n      case MemoComponent:\n      case SimpleMemoComponent:\n      case ForwardRef:\n        // For types that execute user code, we check PerformedWork effect.\n        // We don't reflect bailouts (either referential or sCU) in DevTools.\n        // TODO: This flag is a leaked implementation detail. Once we start\n        // releasing DevTools in lockstep with React, we should import a\n        // function from the reconciler instead.\n        const PerformedWork = 0b000000000000000000000000001;\n        return (getFiberFlags(nextFiber) & PerformedWork) === PerformedWork;\n      // Note: ContextConsumer only gets PerformedWork effect in 16.3.3+\n      // so it won't get highlighted with React 16.3.0 to 16.3.2.\n      default:\n        // For host components and other types, we compare inputs\n        // to determine whether something is an update.\n        return (\n          prevFiber.memoizedProps !== nextFiber.memoizedProps ||\n          prevFiber.memoizedState !== nextFiber.memoizedState ||\n          prevFiber.ref !== nextFiber.ref\n        );\n    }\n  }\n\n  type OperationsArray = Array<number>;\n\n  type StringTableEntry = {\n    encodedString: Array<number>,\n    id: number,\n  };\n\n  const pendingOperations: OperationsArray = [];\n  const pendingRealUnmountedIDs: Array<number> = [];\n  const pendingSimulatedUnmountedIDs: Array<number> = [];\n  let pendingOperationsQueue: Array<OperationsArray> | null = [];\n  const pendingStringTable: Map<string, StringTableEntry> = new Map();\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function shouldBailoutWithPendingOperations() {\n    if (isProfiling) {\n      if (\n        currentCommitProfilingMetadata != null &&\n        currentCommitProfilingMetadata.durations.length > 0\n      ) {\n        return false;\n      }\n    }\n\n    return (\n      pendingOperations.length === 0 &&\n      pendingRealUnmountedIDs.length === 0 &&\n      pendingSimulatedUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    );\n  }\n\n  function flushOrQueueOperations(operations: OperationsArray): void {\n    if (shouldBailoutWithPendingOperations()) {\n      return;\n    }\n\n    if (pendingOperationsQueue !== null) {\n      pendingOperationsQueue.push(operations);\n    } else {\n      hook.emit('operations', operations);\n    }\n  }\n\n  let flushPendingErrorsAndWarningsAfterDelayTimeoutID: null | TimeoutID = null;\n\n  function clearPendingErrorsAndWarningsAfterDelay() {\n    if (flushPendingErrorsAndWarningsAfterDelayTimeoutID !== null) {\n      clearTimeout(flushPendingErrorsAndWarningsAfterDelayTimeoutID);\n      flushPendingErrorsAndWarningsAfterDelayTimeoutID = null;\n    }\n  }\n\n  function flushPendingErrorsAndWarningsAfterDelay() {\n    clearPendingErrorsAndWarningsAfterDelay();\n\n    flushPendingErrorsAndWarningsAfterDelayTimeoutID = setTimeout(() => {\n      flushPendingErrorsAndWarningsAfterDelayTimeoutID = null;\n\n      if (pendingOperations.length > 0) {\n        // On the off chance that something else has pushed pending operations,\n        // we should bail on warnings; it's probably not safe to push midway.\n        return;\n      }\n\n      recordPendingErrorsAndWarnings();\n\n      if (shouldBailoutWithPendingOperations()) {\n        // No warnings or errors to flush; we can bail out early here too.\n        return;\n      }\n\n      // We can create a smaller operations array than flushPendingEvents()\n      // because we only need to flush warning and error counts.\n      // Only a few pieces of fixed information are required up front.\n      const operations: OperationsArray = new Array(\n        3 + pendingOperations.length,\n      );\n      operations[0] = rendererID;\n      operations[1] = currentRootID;\n      operations[2] = 0; // String table size\n      for (let j = 0; j < pendingOperations.length; j++) {\n        operations[3 + j] = pendingOperations[j];\n      }\n\n      flushOrQueueOperations(operations);\n\n      pendingOperations.length = 0;\n    }, 1000);\n  }\n\n  function reevaluateErrorsAndWarnings() {\n    fibersWithChangedErrorOrWarningCounts.clear();\n    fiberIDToErrorsMap.forEach((countMap, fiberID) => {\n      const fiber = idToArbitraryFiberMap.get(fiberID);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n      }\n    });\n    fiberIDToWarningsMap.forEach((countMap, fiberID) => {\n      const fiber = idToArbitraryFiberMap.get(fiberID);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n      }\n    });\n    recordPendingErrorsAndWarnings();\n  }\n\n  function mergeMapsAndGetCountHelper(\n    fiber: Fiber,\n    fiberID: number,\n    pendingFiberToMessageCountMap: Map<Fiber, Map<string, number>>,\n    fiberIDToMessageCountMap: Map<number, Map<string, number>>,\n  ): number {\n    let newCount = 0;\n\n    let messageCountMap = fiberIDToMessageCountMap.get(fiberID);\n\n    const pendingMessageCountMap = pendingFiberToMessageCountMap.get(fiber);\n    if (pendingMessageCountMap != null) {\n      if (messageCountMap == null) {\n        messageCountMap = pendingMessageCountMap;\n\n        fiberIDToMessageCountMap.set(fiberID, pendingMessageCountMap);\n      } else {\n        // This Flow refinement should not be necessary and yet...\n        const refinedMessageCountMap = ((messageCountMap: any): Map<\n          string,\n          number,\n        >);\n\n        pendingMessageCountMap.forEach((pendingCount, message) => {\n          const previousCount = refinedMessageCountMap.get(message) || 0;\n          refinedMessageCountMap.set(message, previousCount + pendingCount);\n        });\n      }\n    }\n\n    if (!shouldFilterFiber(fiber)) {\n      if (messageCountMap != null) {\n        messageCountMap.forEach(count => {\n          newCount += count;\n        });\n      }\n    }\n\n    pendingFiberToMessageCountMap.delete(fiber);\n\n    return newCount;\n  }\n\n  function recordPendingErrorsAndWarnings() {\n    clearPendingErrorsAndWarningsAfterDelay();\n\n    fibersWithChangedErrorOrWarningCounts.forEach(fiber => {\n      const fiberID = getFiberIDUnsafe(fiber);\n      if (fiberID === null) {\n        // Don't send updates for Fibers that didn't mount due to e.g. Suspense or an error boundary.\n      } else {\n        const errorCount = mergeMapsAndGetCountHelper(\n          fiber,\n          fiberID,\n          pendingFiberToErrorsMap,\n          fiberIDToErrorsMap,\n        );\n        const warningCount = mergeMapsAndGetCountHelper(\n          fiber,\n          fiberID,\n          pendingFiberToWarningsMap,\n          fiberIDToWarningsMap,\n        );\n\n        pushOperation(TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS);\n        pushOperation(fiberID);\n        pushOperation(errorCount);\n        pushOperation(warningCount);\n      }\n\n      // Always clean up so that we don't leak.\n      pendingFiberToErrorsMap.delete(fiber);\n      pendingFiberToWarningsMap.delete(fiber);\n    });\n    fibersWithChangedErrorOrWarningCounts.clear();\n  }\n\n  function flushPendingEvents(root: Object): void {\n    // Add any pending errors and warnings to the operations array.\n    // We do this just before flushing, so we can ignore errors for no-longer-mounted Fibers.\n    recordPendingErrorsAndWarnings();\n\n    if (shouldBailoutWithPendingOperations()) {\n      // If we aren't profiling, we can just bail out here.\n      // No use sending an empty update over the bridge.\n      //\n      // The Profiler stores metadata for each commit and reconstructs the app tree per commit using:\n      // (1) an initial tree snapshot and\n      // (2) the operations array for each commit\n      // Because of this, it's important that the operations and metadata arrays align,\n      // So it's important not to omit even empty operations while profiling is active.\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingRealUnmountedIDs.length +\n      pendingSimulatedUnmountedIDs.length +\n      (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array<number>(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n        // How big is the string table?\n        1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Regular operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber props, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    operations[i++] = currentRootID;\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((entry, stringKey) => {\n      const encodedString = entry.encodedString;\n\n      // Don't use the string length.\n      // It won't work for multibyte characters (like emoji).\n      const length = encodedString.length;\n\n      operations[i++] = length;\n      for (let j = 0; j < length; j++) {\n        operations[i + j] = encodedString[j];\n      }\n\n      i += length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the real unmounts in the reverse order.\n      // They were inserted parents-first by React, but we want children-first.\n      // So we traverse our array backwards.\n      for (let j = pendingRealUnmountedIDs.length - 1; j >= 0; j--) {\n        operations[i++] = pendingRealUnmountedIDs[j];\n      }\n      // Fill in the simulated unmounts (hidden Suspense subtrees) in their order.\n      // (We want children to go before parents.)\n      // They go *after* the real unmounts because we know for sure they won't be\n      // children of already pushed \"real\" IDs. If they were, we wouldn't be able\n      // to discover them during the traversal, as they would have been deleted.\n      for (let j = 0; j < pendingSimulatedUnmountedIDs.length; j++) {\n        operations[i + j] = pendingSimulatedUnmountedIDs[j];\n      }\n      i += pendingSimulatedUnmountedIDs.length;\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    // Let the frontend know about tree operations.\n    flushOrQueueOperations(operations);\n\n    // Reset all of the pending state now that we've told the frontend about it.\n    pendingOperations.length = 0;\n    pendingRealUnmountedIDs.length = 0;\n    pendingSimulatedUnmountedIDs.length = 0;\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function getStringID(string: string | null): number {\n    if (string === null) {\n      return 0;\n    }\n    const existingEntry = pendingStringTable.get(string);\n    if (existingEntry !== undefined) {\n      return existingEntry.id;\n    }\n\n    const id = pendingStringTable.size + 1;\n    const encodedString = utfEncodeString(string);\n\n    pendingStringTable.set(string, {\n      encodedString,\n      id,\n    });\n\n    // The string table total length needs to account both for the string length,\n    // and for the array item that contains the length itself.\n    //\n    // Don't use string length for this table.\n    // It won't work for multibyte characters (like emoji).\n    pendingStringTableLength += encodedString.length + 1;\n\n    return id;\n  }\n\n  function recordMount(fiber: Fiber, parentFiber: Fiber | null) {\n    const isRoot = fiber.tag === HostRoot;\n    const id = getOrGenerateFiberID(fiber);\n\n    if (__DEBUG__) {\n      debug('recordMount()', fiber, parentFiber);\n    }\n\n    const hasOwnerMetadata = fiber.hasOwnProperty('_debugOwner');\n    const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n\n    // Adding a new field here would require a bridge protocol version bump (a backwads breaking change).\n    // Instead let's re-purpose a pre-existing field to carry more information.\n    let profilingFlags = 0;\n    if (isProfilingSupported) {\n      profilingFlags = PROFILING_FLAG_BASIC_SUPPORT;\n      if (typeof injectProfilingHooks === 'function') {\n        profilingFlags |= PROFILING_FLAG_TIMELINE_SUPPORT;\n      }\n    }\n\n    if (isRoot) {\n      // Set supportsStrictMode to false for production renderer builds\n      const isProductionBuildOfRenderer = renderer.bundleType === 0;\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation((fiber.mode & StrictModeBits) !== 0 ? 1 : 0);\n      pushOperation(profilingFlags);\n      pushOperation(\n        !isProductionBuildOfRenderer && StrictModeBits !== 0 ? 1 : 0,\n      );\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n\n      if (isProfiling) {\n        if (displayNamesByRootID !== null) {\n          displayNamesByRootID.set(id, getDisplayNameForRoot(fiber));\n        }\n      }\n    } else {\n      const {key} = fiber;\n      const displayName = getDisplayNameForFiber(fiber);\n      const elementType = getElementTypeForFiber(fiber);\n      const debugOwner = fiber._debugOwner;\n\n      // Ideally we should call getFiberIDThrows() for _debugOwner,\n      // since owners are almost always higher in the tree (and so have already been processed),\n      // but in some (rare) instances reported in open source, a descendant mounts before an owner.\n      // Since this is a DEV only field it's probably okay to also just lazily generate and ID here if needed.\n      // See https://github.com/facebook/react/issues/21445\n      let ownerID: number;\n      if (debugOwner != null) {\n        if (typeof debugOwner.tag === 'number') {\n          ownerID = getOrGenerateFiberID((debugOwner: any));\n        } else {\n          // TODO: Track Server Component Owners.\n          ownerID = 0;\n        }\n      } else {\n        ownerID = 0;\n      }\n      const parentID = parentFiber ? getFiberIDThrows(parentFiber) : 0;\n\n      const displayNameStringID = getStringID(displayName);\n\n      // This check is a guard to handle a React element that has been modified\n      // in such a way as to bypass the default stringification of the \"key\" property.\n      const keyString = key === null ? null : String(key);\n      const keyStringID = getStringID(keyString);\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(elementType);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n\n      // If this subtree has a new mode, let the frontend know.\n      if (\n        (fiber.mode & StrictModeBits) !== 0 &&\n        (((parentFiber: any): Fiber).mode & StrictModeBits) === 0\n      ) {\n        pushOperation(TREE_OPERATION_SET_SUBTREE_MODE);\n        pushOperation(id);\n        pushOperation(StrictMode);\n      }\n    }\n\n    if (isProfilingSupported) {\n      idToRootMap.set(id, currentRootID);\n\n      recordProfilingDurations(fiber);\n    }\n  }\n\n  function recordUnmount(fiber: Fiber, isSimulated: boolean) {\n    if (__DEBUG__) {\n      debug(\n        'recordUnmount()',\n        fiber,\n        null,\n        isSimulated ? 'unmount is simulated' : '',\n      );\n    }\n\n    if (trackedPathMatchFiber !== null) {\n      // We're in the process of trying to restore previous selection.\n      // If this fiber matched but is being unmounted, there's no use trying.\n      // Reset the state so we don't keep holding onto it.\n      if (\n        fiber === trackedPathMatchFiber ||\n        fiber === trackedPathMatchFiber.alternate\n      ) {\n        setTrackedPath(null);\n      }\n    }\n\n    const unsafeID = getFiberIDUnsafe(fiber);\n    if (unsafeID === null) {\n      // If we've never seen this Fiber, it might be inside of a legacy render Suspense fragment (so the store is not even aware of it).\n      // In that case we can just ignore it or it will cause errors later on.\n      // One example of this is a Lazy component that never resolves before being unmounted.\n      //\n      // This also might indicate a Fast Refresh force-remount scenario.\n      //\n      // TODO: This is fragile and can obscure actual bugs.\n      return;\n    }\n\n    // Flow refinement.\n    const id = ((unsafeID: any): number);\n    const isRoot = fiber.tag === HostRoot;\n    if (isRoot) {\n      // Roots must be removed only after all children (pending and simulated) have been removed.\n      // So we track it separately.\n      pendingUnmountedRootID = id;\n    } else if (!shouldFilterFiber(fiber)) {\n      // To maintain child-first ordering,\n      // we'll push it into one of these queues,\n      // and later arrange them in the correct order.\n      if (isSimulated) {\n        pendingSimulatedUnmountedIDs.push(id);\n      } else {\n        pendingRealUnmountedIDs.push(id);\n      }\n    }\n\n    if (!fiber._debugNeedsRemount) {\n      untrackFiberID(fiber);\n\n      const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n      if (isProfilingSupported) {\n        idToRootMap.delete(id);\n        idToTreeBaseDurationMap.delete(id);\n      }\n    }\n  }\n\n  function mountFiberRecursively(\n    firstChild: Fiber,\n    parentFiber: Fiber | null,\n    traverseSiblings: boolean,\n    traceNearestHostComponentUpdate: boolean,\n  ) {\n    // Iterate over siblings rather than recursing.\n    // This reduces the chance of stack overflow for wide trees (e.g. lists with many items).\n    let fiber: Fiber | null = firstChild;\n    while (fiber !== null) {\n      // Generate an ID even for filtered Fibers, in case it's needed later (e.g. for Profiling).\n      getOrGenerateFiberID(fiber);\n\n      if (__DEBUG__) {\n        debug('mountFiberRecursively()', fiber, parentFiber);\n      }\n\n      // If we have the tree selection from previous reload, try to match this Fiber.\n      // Also remember whether to do the same for siblings.\n      const mightSiblingsBeOnTrackedPath =\n        updateTrackedPathStateBeforeMount(fiber);\n\n      const shouldIncludeInTree = !shouldFilterFiber(fiber);\n      if (shouldIncludeInTree) {\n        recordMount(fiber, parentFiber);\n      }\n\n      if (traceUpdatesEnabled) {\n        if (traceNearestHostComponentUpdate) {\n          const elementType = getElementTypeForFiber(fiber);\n          // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n          if (elementType === ElementTypeHostComponent) {\n            traceUpdatesForNodes.add(fiber.stateNode);\n            traceNearestHostComponentUpdate = false;\n          }\n        }\n\n        // We intentionally do not re-enable the traceNearestHostComponentUpdate flag in this branch,\n        // because we don't want to highlight every host node inside of a newly mounted subtree.\n      }\n\n      const isSuspense = fiber.tag === ReactTypeOfWork.SuspenseComponent;\n      if (isSuspense) {\n        const isTimedOut = fiber.memoizedState !== null;\n        if (isTimedOut) {\n          // Special case: if Suspense mounts in a timed-out state,\n          // get the fallback child from the inner fragment and mount\n          // it as if it was our own child. Updates handle this too.\n          const primaryChildFragment = fiber.child;\n          const fallbackChildFragment = primaryChildFragment\n            ? primaryChildFragment.sibling\n            : null;\n          const fallbackChild = fallbackChildFragment\n            ? fallbackChildFragment.child\n            : null;\n          if (fallbackChild !== null) {\n            mountFiberRecursively(\n              fallbackChild,\n              shouldIncludeInTree ? fiber : parentFiber,\n              true,\n              traceNearestHostComponentUpdate,\n            );\n          }\n        } else {\n          let primaryChild: Fiber | null = null;\n          const areSuspenseChildrenConditionallyWrapped =\n            OffscreenComponent === -1;\n          if (areSuspenseChildrenConditionallyWrapped) {\n            primaryChild = fiber.child;\n          } else if (fiber.child !== null) {\n            primaryChild = fiber.child.child;\n          }\n          if (primaryChild !== null) {\n            mountFiberRecursively(\n              primaryChild,\n              shouldIncludeInTree ? fiber : parentFiber,\n              true,\n              traceNearestHostComponentUpdate,\n            );\n          }\n        }\n      } else {\n        if (fiber.child !== null) {\n          mountFiberRecursively(\n            fiber.child,\n            shouldIncludeInTree ? fiber : parentFiber,\n            true,\n            traceNearestHostComponentUpdate,\n          );\n        }\n      }\n\n      // We're exiting this Fiber now, and entering its siblings.\n      // If we have selection to restore, we might need to re-activate tracking.\n      updateTrackedPathStateAfterMount(mightSiblingsBeOnTrackedPath);\n\n      fiber = traverseSiblings ? fiber.sibling : null;\n    }\n  }\n\n  // We use this to simulate unmounting for Suspense trees\n  // when we switch from primary to fallback.\n  function unmountFiberChildrenRecursively(fiber: Fiber) {\n    if (__DEBUG__) {\n      debug('unmountFiberChildrenRecursively()', fiber);\n    }\n\n    // We might meet a nested Suspense on our way.\n    const isTimedOutSuspense =\n      fiber.tag === ReactTypeOfWork.SuspenseComponent &&\n      fiber.memoizedState !== null;\n\n    let child = fiber.child;\n    if (isTimedOutSuspense) {\n      // If it's showing fallback tree, let's traverse it instead.\n      const primaryChildFragment = fiber.child;\n      const fallbackChildFragment = primaryChildFragment\n        ? primaryChildFragment.sibling\n        : null;\n      // Skip over to the real Fiber child.\n      child = fallbackChildFragment ? fallbackChildFragment.child : null;\n    }\n\n    while (child !== null) {\n      // Record simulated unmounts children-first.\n      // We skip nodes without return because those are real unmounts.\n      if (child.return !== null) {\n        unmountFiberChildrenRecursively(child);\n        recordUnmount(child, true);\n      }\n      child = child.sibling;\n    }\n  }\n\n  function recordProfilingDurations(fiber: Fiber) {\n    const id = getFiberIDThrows(fiber);\n    const {actualDuration, treeBaseDuration} = fiber;\n\n    idToTreeBaseDurationMap.set(id, treeBaseDuration || 0);\n\n    if (isProfiling) {\n      const {alternate} = fiber;\n\n      // It's important to update treeBaseDuration even if the current Fiber did not render,\n      // because it's possible that one of its descendants did.\n      if (\n        alternate == null ||\n        treeBaseDuration !== alternate.treeBaseDuration\n      ) {\n        // Tree base duration updates are included in the operations typed array.\n        // So we have to convert them from milliseconds to microseconds so we can send them as ints.\n        const convertedTreeBaseDuration = Math.floor(\n          (treeBaseDuration || 0) * 1000,\n        );\n        pushOperation(TREE_OPERATION_UPDATE_TREE_BASE_DURATION);\n        pushOperation(id);\n        pushOperation(convertedTreeBaseDuration);\n      }\n\n      if (alternate == null || didFiberRender(alternate, fiber)) {\n        if (actualDuration != null) {\n          // The actual duration reported by React includes time spent working on children.\n          // This is useful information, but it's also useful to be able to exclude child durations.\n          // The frontend can't compute this, since the immediate children may have been filtered out.\n          // So we need to do this on the backend.\n          // Note that this calculated self duration is not the same thing as the base duration.\n          // The two are calculated differently (tree duration does not accumulate).\n          let selfDuration = actualDuration;\n          let child = fiber.child;\n          while (child !== null) {\n            selfDuration -= child.actualDuration || 0;\n            child = child.sibling;\n          }\n\n          // If profiling is active, store durations for elements that were rendered during the commit.\n          // Note that we should do this for any fiber we performed work on, regardless of its actualDuration value.\n          // In some cases actualDuration might be 0 for fibers we worked on (particularly if we're using Date.now)\n          // In other cases (e.g. Memo) actualDuration might be greater than 0 even if we \"bailed out\".\n          const metadata =\n            ((currentCommitProfilingMetadata: any): CommitProfilingData);\n          metadata.durations.push(id, actualDuration, selfDuration);\n          metadata.maxActualDuration = Math.max(\n            metadata.maxActualDuration,\n            actualDuration,\n          );\n\n          if (recordChangeDescriptions) {\n            const changeDescription = getChangeDescription(alternate, fiber);\n            if (changeDescription !== null) {\n              if (metadata.changeDescriptions !== null) {\n                metadata.changeDescriptions.set(id, changeDescription);\n              }\n            }\n\n            updateContextsForFiber(fiber);\n          }\n        }\n      }\n    }\n  }\n\n  function recordResetChildren(fiber: Fiber, childSet: Fiber) {\n    if (__DEBUG__) {\n      debug('recordResetChildren()', childSet, fiber);\n    }\n    // The frontend only really cares about the displayName, key, and children.\n    // The first two don't really change, so we are only concerned with the order of children here.\n    // This is trickier than a simple comparison though, since certain types of fibers are filtered.\n    const nextChildren: Array<number> = [];\n\n    // This is a naive implementation that shallowly recourses children.\n    // We might want to revisit this if it proves to be too inefficient.\n    let child: null | Fiber = childSet;\n    while (child !== null) {\n      findReorderedChildrenRecursively(child, nextChildren);\n      child = child.sibling;\n    }\n\n    const numChildren = nextChildren.length;\n    if (numChildren < 2) {\n      // No need to reorder.\n      return;\n    }\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(getFiberIDThrows(fiber));\n    pushOperation(numChildren);\n    for (let i = 0; i < nextChildren.length; i++) {\n      pushOperation(nextChildren[i]);\n    }\n  }\n\n  function findReorderedChildrenRecursively(\n    fiber: Fiber,\n    nextChildren: Array<number>,\n  ) {\n    if (!shouldFilterFiber(fiber)) {\n      nextChildren.push(getFiberIDThrows(fiber));\n    } else {\n      let child = fiber.child;\n      const isTimedOutSuspense =\n        fiber.tag === SuspenseComponent && fiber.memoizedState !== null;\n      if (isTimedOutSuspense) {\n        // Special case: if Suspense mounts in a timed-out state,\n        // get the fallback child from the inner fragment,\n        // and skip over the primary child.\n        const primaryChildFragment = fiber.child;\n        const fallbackChildFragment = primaryChildFragment\n          ? primaryChildFragment.sibling\n          : null;\n        const fallbackChild = fallbackChildFragment\n          ? fallbackChildFragment.child\n          : null;\n        if (fallbackChild !== null) {\n          child = fallbackChild;\n        }\n      }\n      while (child !== null) {\n        findReorderedChildrenRecursively(child, nextChildren);\n        child = child.sibling;\n      }\n    }\n  }\n\n  // Returns whether closest unfiltered fiber parent needs to reset its child list.\n  function updateFiberRecursively(\n    nextFiber: Fiber,\n    prevFiber: Fiber,\n    parentFiber: Fiber | null,\n    traceNearestHostComponentUpdate: boolean,\n  ): boolean {\n    const id = getOrGenerateFiberID(nextFiber);\n\n    if (__DEBUG__) {\n      debug('updateFiberRecursively()', nextFiber, parentFiber);\n    }\n\n    if (traceUpdatesEnabled) {\n      const elementType = getElementTypeForFiber(nextFiber);\n      if (traceNearestHostComponentUpdate) {\n        // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n        if (elementType === ElementTypeHostComponent) {\n          traceUpdatesForNodes.add(nextFiber.stateNode);\n          traceNearestHostComponentUpdate = false;\n        }\n      } else {\n        if (\n          elementType === ElementTypeFunction ||\n          elementType === ElementTypeClass ||\n          elementType === ElementTypeContext ||\n          elementType === ElementTypeMemo ||\n          elementType === ElementTypeForwardRef\n        ) {\n          // Otherwise if this is a traced ancestor, flag for the nearest host descendant(s).\n          traceNearestHostComponentUpdate = didFiberRender(\n            prevFiber,\n            nextFiber,\n          );\n        }\n      }\n    }\n\n    if (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === id &&\n      didFiberRender(prevFiber, nextFiber)\n    ) {\n      // If this Fiber has updated, clear cached inspected data.\n      // If it is inspected again, it may need to be re-run to obtain updated hooks values.\n      hasElementUpdatedSinceLastInspected = true;\n    }\n\n    const shouldIncludeInTree = !shouldFilterFiber(nextFiber);\n    const isSuspense = nextFiber.tag === SuspenseComponent;\n    let shouldResetChildren = false;\n    // The behavior of timed-out Suspense trees is unique.\n    // Rather than unmount the timed out content (and possibly lose important state),\n    // React re-parents this content within a hidden Fragment while the fallback is showing.\n    // This behavior doesn't need to be observable in the DevTools though.\n    // It might even result in a bad user experience for e.g. node selection in the Elements panel.\n    // The easiest fix is to strip out the intermediate Fragment fibers,\n    // so the Elements panel and Profiler don't need to special case them.\n    // Suspense components only have a non-null memoizedState if they're timed-out.\n    const prevDidTimeout = isSuspense && prevFiber.memoizedState !== null;\n    const nextDidTimeOut = isSuspense && nextFiber.memoizedState !== null;\n    // The logic below is inspired by the code paths in updateSuspenseComponent()\n    // inside ReactFiberBeginWork in the React source code.\n    if (prevDidTimeout && nextDidTimeOut) {\n      // Fallback -> Fallback:\n      // 1. Reconcile fallback set.\n      const nextFiberChild = nextFiber.child;\n      const nextFallbackChildSet = nextFiberChild\n        ? nextFiberChild.sibling\n        : null;\n      // Note: We can't use nextFiber.child.sibling.alternate\n      // because the set is special and alternate may not exist.\n      const prevFiberChild = prevFiber.child;\n      const prevFallbackChildSet = prevFiberChild\n        ? prevFiberChild.sibling\n        : null;\n\n      if (prevFallbackChildSet == null && nextFallbackChildSet != null) {\n        mountFiberRecursively(\n          nextFallbackChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n\n        shouldResetChildren = true;\n      }\n\n      if (\n        nextFallbackChildSet != null &&\n        prevFallbackChildSet != null &&\n        updateFiberRecursively(\n          nextFallbackChildSet,\n          prevFallbackChildSet,\n          nextFiber,\n          traceNearestHostComponentUpdate,\n        )\n      ) {\n        shouldResetChildren = true;\n      }\n    } else if (prevDidTimeout && !nextDidTimeOut) {\n      // Fallback -> Primary:\n      // 1. Unmount fallback set\n      // Note: don't emulate fallback unmount because React actually did it.\n      // 2. Mount primary set\n      const nextPrimaryChildSet = nextFiber.child;\n      if (nextPrimaryChildSet !== null) {\n        mountFiberRecursively(\n          nextPrimaryChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n      }\n      shouldResetChildren = true;\n    } else if (!prevDidTimeout && nextDidTimeOut) {\n      // Primary -> Fallback:\n      // 1. Hide primary set\n      // This is not a real unmount, so it won't get reported by React.\n      // We need to manually walk the previous tree and record unmounts.\n      unmountFiberChildrenRecursively(prevFiber);\n      // 2. Mount fallback set\n      const nextFiberChild = nextFiber.child;\n      const nextFallbackChildSet = nextFiberChild\n        ? nextFiberChild.sibling\n        : null;\n      if (nextFallbackChildSet != null) {\n        mountFiberRecursively(\n          nextFallbackChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n        shouldResetChildren = true;\n      }\n    } else {\n      // Common case: Primary -> Primary.\n      // This is the same code path as for non-Suspense fibers.\n      if (nextFiber.child !== prevFiber.child) {\n        // If the first child is different, we need to traverse them.\n        // Each next child will be either a new child (mount) or an alternate (update).\n        let nextChild = nextFiber.child;\n        let prevChildAtSameIndex = prevFiber.child;\n        while (nextChild) {\n          // We already know children will be referentially different because\n          // they are either new mounts or alternates of previous children.\n          // Schedule updates and mounts depending on whether alternates exist.\n          // We don't track deletions here because they are reported separately.\n          if (nextChild.alternate) {\n            const prevChild = nextChild.alternate;\n            if (\n              updateFiberRecursively(\n                nextChild,\n                prevChild,\n                shouldIncludeInTree ? nextFiber : parentFiber,\n                traceNearestHostComponentUpdate,\n              )\n            ) {\n              // If a nested tree child order changed but it can't handle its own\n              // child order invalidation (e.g. because it's filtered out like host nodes),\n              // propagate the need to reset child order upwards to this Fiber.\n              shouldResetChildren = true;\n            }\n            // However we also keep track if the order of the children matches\n            // the previous order. They are always different referentially, but\n            // if the instances line up conceptually we'll want to know that.\n            if (prevChild !== prevChildAtSameIndex) {\n              shouldResetChildren = true;\n            }\n          } else {\n            mountFiberRecursively(\n              nextChild,\n              shouldIncludeInTree ? nextFiber : parentFiber,\n              false,\n              traceNearestHostComponentUpdate,\n            );\n            shouldResetChildren = true;\n          }\n          // Try the next child.\n          nextChild = nextChild.sibling;\n          // Advance the pointer in the previous list so that we can\n          // keep comparing if they line up.\n          if (!shouldResetChildren && prevChildAtSameIndex !== null) {\n            prevChildAtSameIndex = prevChildAtSameIndex.sibling;\n          }\n        }\n        // If we have no more children, but used to, they don't line up.\n        if (prevChildAtSameIndex !== null) {\n          shouldResetChildren = true;\n        }\n      } else {\n        if (traceUpdatesEnabled) {\n          // If we're tracing updates and we've bailed out before reaching a host node,\n          // we should fall back to recursively marking the nearest host descendants for highlight.\n          if (traceNearestHostComponentUpdate) {\n            const hostFibers = findAllCurrentHostFibers(\n              getFiberIDThrows(nextFiber),\n            );\n            hostFibers.forEach(hostFiber => {\n              traceUpdatesForNodes.add(hostFiber.stateNode);\n            });\n          }\n        }\n      }\n    }\n\n    if (shouldIncludeInTree) {\n      const isProfilingSupported = nextFiber.hasOwnProperty('treeBaseDuration');\n      if (isProfilingSupported) {\n        recordProfilingDurations(nextFiber);\n      }\n    }\n    if (shouldResetChildren) {\n      // We need to crawl the subtree for closest non-filtered Fibers\n      // so that we can display them in a flat children set.\n      if (shouldIncludeInTree) {\n        // Normally, search for children from the rendered child.\n        let nextChildSet = nextFiber.child;\n        if (nextDidTimeOut) {\n          // Special case: timed-out Suspense renders the fallback set.\n          const nextFiberChild = nextFiber.child;\n          nextChildSet = nextFiberChild ? nextFiberChild.sibling : null;\n        }\n        if (nextChildSet != null) {\n          recordResetChildren(nextFiber, nextChildSet);\n        }\n        // We've handled the child order change for this Fiber.\n        // Since it's included, there's no need to invalidate parent child order.\n        return false;\n      } else {\n        // Let the closest unfiltered parent Fiber reset its child order instead.\n        return true;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  function cleanup() {\n    // We don't patch any methods so there is no cleanup.\n  }\n\n  function rootSupportsProfiling(root: any) {\n    if (root.memoizedInteractions != null) {\n      // v16 builds include this field for the scheduler/tracing API.\n      return true;\n    } else if (\n      root.current != null &&\n      root.current.hasOwnProperty('treeBaseDuration')\n    ) {\n      // The scheduler/tracing API was removed in v17 though\n      // so we need to check a non-root Fiber.\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  function flushInitialOperations() {\n    const localPendingOperationsQueue = pendingOperationsQueue;\n\n    pendingOperationsQueue = null;\n\n    if (\n      localPendingOperationsQueue !== null &&\n      localPendingOperationsQueue.length > 0\n    ) {\n      // We may have already queued up some operations before the frontend connected\n      // If so, let the frontend know about them.\n      localPendingOperationsQueue.forEach(operations => {\n        hook.emit('operations', operations);\n      });\n    } else {\n      // Before the traversals, remember to start tracking\n      // our path in case we have selection to restore.\n      if (trackedPath !== null) {\n        mightBeOnTrackedPath = true;\n      }\n      // If we have not been profiling, then we can just walk the tree and build up its current state as-is.\n      hook.getFiberRoots(rendererID).forEach(root => {\n        currentRootID = getOrGenerateFiberID(root.current);\n        setRootPseudoKey(currentRootID, root.current);\n\n        // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n        if (isProfiling && rootSupportsProfiling(root)) {\n          // If profiling is active, store commit time and duration.\n          // The frontend may request this information after profiling has stopped.\n          currentCommitProfilingMetadata = {\n            changeDescriptions: recordChangeDescriptions ? new Map() : null,\n            durations: [],\n            commitTime: getCurrentTime() - profilingStartTime,\n            maxActualDuration: 0,\n            priorityLevel: null,\n            updaters: getUpdatersList(root),\n            effectDuration: null,\n            passiveEffectDuration: null,\n          };\n        }\n\n        mountFiberRecursively(root.current, null, false, false);\n        flushPendingEvents(root);\n        currentRootID = -1;\n      });\n    }\n  }\n\n  function getUpdatersList(root: any): Array<SerializedElement> | null {\n    return root.memoizedUpdaters != null\n      ? Array.from(root.memoizedUpdaters)\n          .filter(fiber => getFiberIDUnsafe(fiber) !== null)\n          .map(fiberToSerializedElement)\n      : null;\n  }\n\n  function handleCommitFiberUnmount(fiber: any) {\n    // If the untrackFiberSet already has the unmounted Fiber, this means we've already\n    // recordedUnmount, so we don't need to do it again. If we don't do this, we might\n    // end up double-deleting Fibers in some cases (like Legacy Suspense).\n    if (!untrackFibersSet.has(fiber)) {\n      // This is not recursive.\n      // We can't traverse fibers after unmounting so instead\n      // we rely on React telling us about each unmount.\n      recordUnmount(fiber, false);\n    }\n  }\n\n  function handlePostCommitFiberRoot(root: any) {\n    if (isProfiling && rootSupportsProfiling(root)) {\n      if (currentCommitProfilingMetadata !== null) {\n        const {effectDuration, passiveEffectDuration} =\n          getEffectDurations(root);\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentCommitProfilingMetadata.effectDuration = effectDuration;\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentCommitProfilingMetadata.passiveEffectDuration =\n          passiveEffectDuration;\n      }\n    }\n  }\n\n  function handleCommitFiberRoot(root: any, priorityLevel: void | number) {\n    const current = root.current;\n    const alternate = current.alternate;\n\n    // Flush any pending Fibers that we are untracking before processing the new commit.\n    // If we don't do this, we might end up double-deleting Fibers in some cases (like Legacy Suspense).\n    untrackFibers();\n\n    currentRootID = getOrGenerateFiberID(current);\n\n    // Before the traversals, remember to start tracking\n    // our path in case we have selection to restore.\n    if (trackedPath !== null) {\n      mightBeOnTrackedPath = true;\n    }\n\n    if (traceUpdatesEnabled) {\n      traceUpdatesForNodes.clear();\n    }\n\n    // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n    const isProfilingSupported = rootSupportsProfiling(root);\n\n    if (isProfiling && isProfilingSupported) {\n      // If profiling is active, store commit time and duration.\n      // The frontend may request this information after profiling has stopped.\n      currentCommitProfilingMetadata = {\n        changeDescriptions: recordChangeDescriptions ? new Map() : null,\n        durations: [],\n        commitTime: getCurrentTime() - profilingStartTime,\n        maxActualDuration: 0,\n        priorityLevel:\n          priorityLevel == null ? null : formatPriorityLevel(priorityLevel),\n\n        updaters: getUpdatersList(root),\n\n        // Initialize to null; if new enough React version is running,\n        // these values will be read during separate handlePostCommitFiberRoot() call.\n        effectDuration: null,\n        passiveEffectDuration: null,\n      };\n    }\n\n    if (alternate) {\n      // TODO: relying on this seems a bit fishy.\n      const wasMounted =\n        alternate.memoizedState != null &&\n        alternate.memoizedState.element != null &&\n        // A dehydrated root is not considered mounted\n        alternate.memoizedState.isDehydrated !== true;\n      const isMounted =\n        current.memoizedState != null &&\n        current.memoizedState.element != null &&\n        // A dehydrated root is not considered mounted\n        current.memoizedState.isDehydrated !== true;\n      if (!wasMounted && isMounted) {\n        // Mount a new root.\n        setRootPseudoKey(currentRootID, current);\n        mountFiberRecursively(current, null, false, false);\n      } else if (wasMounted && isMounted) {\n        // Update an existing root.\n        updateFiberRecursively(current, alternate, null, false);\n      } else if (wasMounted && !isMounted) {\n        // Unmount an existing root.\n        removeRootPseudoKey(currentRootID);\n        recordUnmount(current, false);\n      }\n    } else {\n      // Mount a new root.\n      setRootPseudoKey(currentRootID, current);\n      mountFiberRecursively(current, null, false, false);\n    }\n\n    if (isProfiling && isProfilingSupported) {\n      if (!shouldBailoutWithPendingOperations()) {\n        const commitProfilingMetadata =\n          ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).get(\n            currentRootID,\n          );\n\n        if (commitProfilingMetadata != null) {\n          commitProfilingMetadata.push(\n            ((currentCommitProfilingMetadata: any): CommitProfilingData),\n          );\n        } else {\n          ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).set(\n            currentRootID,\n            [((currentCommitProfilingMetadata: any): CommitProfilingData)],\n          );\n        }\n      }\n    }\n\n    // We're done here.\n    flushPendingEvents(root);\n\n    if (traceUpdatesEnabled) {\n      hook.emit('traceUpdates', traceUpdatesForNodes);\n    }\n\n    currentRootID = -1;\n  }\n\n  function findAllCurrentHostFibers(id: number): $ReadOnlyArray<Fiber> {\n    const fibers = [];\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (!fiber) {\n      return fibers;\n    }\n\n    // Next we'll drill down this component to find all HostComponent/Text.\n    let node: Fiber = fiber;\n    while (true) {\n      if (node.tag === HostComponent || node.tag === HostText) {\n        fibers.push(node);\n      } else if (node.child) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n      if (node === fiber) {\n        return fibers;\n      }\n      while (!node.sibling) {\n        if (!node.return || node.return === fiber) {\n          return fibers;\n        }\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n    // Flow needs the return here, but ESLint complains about it.\n    // eslint-disable-next-line no-unreachable\n    return fibers;\n  }\n\n  function findNativeNodesForFiberID(id: number) {\n    try {\n      const fiber = findCurrentFiberUsingSlowPathById(id);\n      if (fiber === null) {\n        return null;\n      }\n\n      const hostFibers = findAllCurrentHostFibers(id);\n      return hostFibers.map(hostFiber => hostFiber.stateNode).filter(Boolean);\n    } catch (err) {\n      // The fiber might have unmounted by now.\n      return null;\n    }\n  }\n\n  function getDisplayNameForFiberID(id: number): null | string {\n    const fiber = idToArbitraryFiberMap.get(id);\n    return fiber != null ? getDisplayNameForFiber(fiber) : null;\n  }\n\n  function getFiberForNative(hostInstance: NativeType) {\n    return renderer.findFiberByHostInstance(hostInstance);\n  }\n\n  function getFiberIDForNative(\n    hostInstance: NativeType,\n    findNearestUnfilteredAncestor: boolean = false,\n  ) {\n    let fiber = renderer.findFiberByHostInstance(hostInstance);\n    if (fiber != null) {\n      if (findNearestUnfilteredAncestor) {\n        while (fiber !== null && shouldFilterFiber(fiber)) {\n          fiber = fiber.return;\n        }\n      }\n      return getFiberIDThrows(((fiber: any): Fiber));\n    }\n    return null;\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  function assertIsMounted(fiber: Fiber) {\n    if (getNearestMountedFiber(fiber) !== fiber) {\n      throw new Error('Unable to find node on an unmounted component.');\n    }\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  function getNearestMountedFiber(fiber: Fiber): null | Fiber {\n    let node = fiber;\n    let nearestMounted: null | Fiber = fiber;\n    if (!fiber.alternate) {\n      // If there is no alternate, this might be a new tree that isn't inserted\n      // yet. If it is, then it will have a pending insertion effect on it.\n      let nextNode: Fiber = node;\n      do {\n        node = nextNode;\n        // TODO: This function, and these flags, are a leaked implementation\n        // detail. Once we start releasing DevTools in lockstep with React, we\n        // should import a function from the reconciler instead.\n        const Placement = 0b000000000000000000000000010;\n        const Hydrating = 0b000000000000001000000000000;\n        if ((node.flags & (Placement | Hydrating)) !== 0) {\n          // This is an insertion or in-progress hydration. The nearest possible\n          // mounted fiber is the parent but we need to continue to figure out\n          // if that one is still mounted.\n          nearestMounted = node.return;\n        }\n        // $FlowFixMe[incompatible-type] we bail out when we get a null\n        nextNode = node.return;\n      } while (nextNode);\n    } else {\n      while (node.return) {\n        node = node.return;\n      }\n    }\n    if (node.tag === HostRoot) {\n      // TODO: Check if this was a nested HostRoot when used with\n      // renderContainerIntoSubtree.\n      return nearestMounted;\n    }\n    // If we didn't hit the root, that means that we're in an disconnected tree\n    // that has been unmounted.\n    return null;\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  // It would be nice if we updated React to inject this function directly (vs just indirectly via findDOMNode).\n  // BEGIN copied code\n  function findCurrentFiberUsingSlowPathById(id: number): Fiber | null {\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return null;\n    }\n\n    const alternate = fiber.alternate;\n    if (!alternate) {\n      // If there is no alternate, then we only need to check if it is mounted.\n      const nearestMounted = getNearestMountedFiber(fiber);\n\n      if (nearestMounted === null) {\n        throw new Error('Unable to find node on an unmounted component.');\n      }\n\n      if (nearestMounted !== fiber) {\n        return null;\n      }\n      return fiber;\n    }\n    // If we have two possible branches, we'll walk backwards up to the root\n    // to see what path the root points to. On the way we may hit one of the\n    // special cases and we'll deal with them.\n    let a: Fiber = fiber;\n    let b: Fiber = alternate;\n    while (true) {\n      const parentA = a.return;\n      if (parentA === null) {\n        // We're at the root.\n        break;\n      }\n      const parentB = parentA.alternate;\n      if (parentB === null) {\n        // There is no alternate. This is an unusual case. Currently, it only\n        // happens when a Suspense component is hidden. An extra fragment fiber\n        // is inserted in between the Suspense fiber and its children. Skip\n        // over this extra fragment fiber and proceed to the next parent.\n        const nextParent = parentA.return;\n        if (nextParent !== null) {\n          a = b = nextParent;\n          continue;\n        }\n        // If there's no parent, we're at the root.\n        break;\n      }\n\n      // If both copies of the parent fiber point to the same child, we can\n      // assume that the child is current. This happens when we bailout on low\n      // priority: the bailed out fiber's child reuses the current child.\n      if (parentA.child === parentB.child) {\n        let child = parentA.child;\n        while (child) {\n          if (child === a) {\n            // We've determined that A is the current branch.\n            assertIsMounted(parentA);\n            return fiber;\n          }\n          if (child === b) {\n            // We've determined that B is the current branch.\n            assertIsMounted(parentA);\n            return alternate;\n          }\n          child = child.sibling;\n        }\n\n        // We should never have an alternate for any mounting node. So the only\n        // way this could possibly happen is if this was unmounted, if at all.\n        throw new Error('Unable to find node on an unmounted component.');\n      }\n\n      if (a.return !== b.return) {\n        // The return pointer of A and the return pointer of B point to different\n        // fibers. We assume that return pointers never criss-cross, so A must\n        // belong to the child set of A.return, and B must belong to the child\n        // set of B.return.\n        a = parentA;\n        b = parentB;\n      } else {\n        // The return pointers point to the same fiber. We'll have to use the\n        // default, slow path: scan the child sets of each parent alternate to see\n        // which child belongs to which set.\n        //\n        // Search parent A's child set\n        let didFindChild = false;\n        let child = parentA.child;\n        while (child) {\n          if (child === a) {\n            didFindChild = true;\n            a = parentA;\n            b = parentB;\n            break;\n          }\n          if (child === b) {\n            didFindChild = true;\n            b = parentA;\n            a = parentB;\n            break;\n          }\n          child = child.sibling;\n        }\n        if (!didFindChild) {\n          // Search parent B's child set\n          child = parentB.child;\n          while (child) {\n            if (child === a) {\n              didFindChild = true;\n              a = parentB;\n              b = parentA;\n              break;\n            }\n            if (child === b) {\n              didFindChild = true;\n              b = parentB;\n              a = parentA;\n              break;\n            }\n            child = child.sibling;\n          }\n\n          if (!didFindChild) {\n            throw new Error(\n              'Child was not found in either parent set. This indicates a bug ' +\n                'in React related to the return pointer. Please file an issue.',\n            );\n          }\n        }\n      }\n\n      if (a.alternate !== b) {\n        throw new Error(\n          \"Return fibers should always be each others' alternates. \" +\n            'This error is likely caused by a bug in React. Please file an issue.',\n        );\n      }\n    }\n\n    // If the root is not a host container, we're in a disconnected tree. I.e.\n    // unmounted.\n    if (a.tag !== HostRoot) {\n      throw new Error('Unable to find node on an unmounted component.');\n    }\n\n    if (a.stateNode.current === a) {\n      // We've determined that A is the current branch.\n      return fiber;\n    }\n    // Otherwise B has to be current branch.\n    return alternate;\n  }\n\n  // END copied code\n\n  function prepareViewAttributeSource(\n    id: number,\n    path: Array<string | number>,\n  ): void {\n    if (isMostRecentlyInspectedElement(id)) {\n      window.$attribute = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n    }\n  }\n\n  function prepareViewElementSource(id: number): void {\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const {elementType, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IncompleteFunctionComponent:\n      case IndeterminateComponent:\n      case FunctionComponent:\n        global.$type = type;\n        break;\n      case ForwardRef:\n        global.$type = type.render;\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$type =\n          elementType != null && elementType.type != null\n            ? elementType.type\n            : type;\n        break;\n      default:\n        global.$type = null;\n        break;\n    }\n  }\n\n  function fiberToSerializedElement(fiber: Fiber): SerializedElement {\n    return {\n      displayName: getDisplayNameForFiber(fiber) || 'Anonymous',\n      id: getFiberIDThrows(fiber),\n      key: fiber.key,\n      type: getElementTypeForFiber(fiber),\n    };\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber == null) {\n      return null;\n    }\n\n    const owners: Array<SerializedElement> = [fiberToSerializedElement(fiber)];\n\n    let owner = fiber._debugOwner;\n    while (owner != null) {\n      if (typeof owner.tag === 'number') {\n        const ownerFiber: Fiber = (owner: any); // Refined\n        owners.unshift(fiberToSerializedElement(ownerFiber));\n        owner = ownerFiber._debugOwner;\n      } else {\n        // TODO: Track Server Component Owners.\n        break;\n      }\n    }\n\n    return owners;\n  }\n\n  // Fast path props lookup for React Native style editor.\n  // Could use inspectElementRaw() but that would require shallow rendering hooks components,\n  // and could also mess with memoization.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      instance = fiber.stateNode;\n\n      if (fiber.memoizedProps !== null) {\n        style = fiber.memoizedProps.style;\n      }\n    }\n\n    return {instance, style};\n  }\n\n  function isErrorBoundary(fiber: Fiber): boolean {\n    const {tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        const instance = fiber.stateNode;\n        return (\n          typeof type.getDerivedStateFromError === 'function' ||\n          (instance !== null &&\n            typeof instance.componentDidCatch === 'function')\n        );\n      default:\n        return false;\n    }\n  }\n\n  function getNearestErrorBoundaryID(fiber: Fiber): number | null {\n    let parent = fiber.return;\n    while (parent !== null) {\n      if (isErrorBoundary(parent)) {\n        return getFiberIDUnsafe(parent);\n      }\n      parent = parent.return;\n    }\n    return null;\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber == null) {\n      return null;\n    }\n\n    const {\n      _debugOwner: debugOwner,\n      stateNode,\n      key,\n      memoizedProps,\n      memoizedState,\n      dependencies,\n      tag,\n      type,\n    } = fiber;\n\n    const elementType = getElementTypeForFiber(fiber);\n\n    const usesHooks =\n      (tag === FunctionComponent ||\n        tag === SimpleMemoComponent ||\n        tag === ForwardRef) &&\n      (!!memoizedState || !!dependencies);\n\n    // TODO Show custom UI for Cache like we do for Suspense\n    // For now, just hide state data entirely since it's not meant to be inspected.\n    const showState = !usesHooks && tag !== CacheComponent;\n\n    const typeSymbol = getTypeSymbol(type);\n\n    let canViewSource = false;\n    let context = null;\n    if (\n      tag === ClassComponent ||\n      tag === FunctionComponent ||\n      tag === IncompleteClassComponent ||\n      tag === IncompleteFunctionComponent ||\n      tag === IndeterminateComponent ||\n      tag === MemoComponent ||\n      tag === ForwardRef ||\n      tag === SimpleMemoComponent\n    ) {\n      canViewSource = true;\n      if (stateNode && stateNode.context != null) {\n        // Don't show an empty context object for class components that don't use the context API.\n        const shouldHideContext =\n          elementType === ElementTypeClass &&\n          !(type.contextTypes || type.contextType);\n\n        if (!shouldHideContext) {\n          context = stateNode.context;\n        }\n      }\n    } else if (\n      // Detect pre-19 Context Consumers\n      (typeSymbol === CONTEXT_NUMBER || typeSymbol === CONTEXT_SYMBOL_STRING) &&\n      !(\n        // In 19+, CONTEXT_SYMBOL_STRING means a Provider instead.\n        // It will be handled in a different branch below.\n        // Eventually, this entire branch can be removed.\n        (type._context === undefined && type.Provider === type)\n      )\n    ) {\n      // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n      // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n      // NOTE Keep in sync with getDisplayNameForFiber()\n      const consumerResolvedContext = type._context || type;\n\n      // Global context value.\n      context = consumerResolvedContext._currentValue || null;\n\n      // Look for overridden value.\n      let current = ((fiber: any): Fiber).return;\n      while (current !== null) {\n        const currentType = current.type;\n        const currentTypeSymbol = getTypeSymbol(currentType);\n        if (\n          currentTypeSymbol === PROVIDER_NUMBER ||\n          currentTypeSymbol === PROVIDER_SYMBOL_STRING\n        ) {\n          // 16.3.0 exposed the context object as \"context\"\n          // PR #12501 changed it to \"_context\" for 16.3.1+\n          // NOTE Keep in sync with getDisplayNameForFiber()\n          const providerResolvedContext =\n            currentType._context || currentType.context;\n          if (providerResolvedContext === consumerResolvedContext) {\n            context = current.memoizedProps.value;\n            break;\n          }\n        }\n\n        current = current.return;\n      }\n    } else if (\n      // Detect 19+ Context Consumers\n      typeSymbol === CONSUMER_SYMBOL_STRING\n    ) {\n      // This branch is 19+ only, where Context.Provider === Context.\n      // NOTE Keep in sync with getDisplayNameForFiber()\n      const consumerResolvedContext = type._context;\n\n      // Global context value.\n      context = consumerResolvedContext._currentValue || null;\n\n      // Look for overridden value.\n      let current = ((fiber: any): Fiber).return;\n      while (current !== null) {\n        const currentType = current.type;\n        const currentTypeSymbol = getTypeSymbol(currentType);\n        if (\n          // In 19+, these are Context Providers\n          currentTypeSymbol === CONTEXT_SYMBOL_STRING\n        ) {\n          const providerResolvedContext = currentType;\n          if (providerResolvedContext === consumerResolvedContext) {\n            context = current.memoizedProps.value;\n            break;\n          }\n        }\n\n        current = current.return;\n      }\n    }\n\n    let hasLegacyContext = false;\n    if (context !== null) {\n      hasLegacyContext = !!type.contextTypes;\n\n      // To simplify hydration and display logic for context, wrap in a value object.\n      // Otherwise simple values (e.g. strings, booleans) become harder to handle.\n      context = {value: context};\n    }\n\n    let owners: null | Array<SerializedElement> = null;\n    let owner = debugOwner;\n    while (owner != null) {\n      if (typeof owner.tag === 'number') {\n        const ownerFiber: Fiber = (owner: any); // Refined\n        if (owners === null) {\n          owners = [];\n        }\n        owners.push(fiberToSerializedElement(ownerFiber));\n        owner = ownerFiber._debugOwner;\n      } else {\n        // TODO: Track Server Component Owners.\n        break;\n      }\n    }\n\n    const isTimedOutSuspense =\n      tag === SuspenseComponent && memoizedState !== null;\n\n    let hooks = null;\n    if (usesHooks) {\n      const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n      // Temporarily disable all console logging before re-running the hook.\n      for (const method in console) {\n        try {\n          originalConsoleMethods[method] = console[method];\n          // $FlowFixMe[prop-missing]\n          console[method] = () => {};\n        } catch (error) {}\n      }\n\n      try {\n        hooks = inspectHooksOfFiber(fiber, getDispatcherRef(renderer));\n      } finally {\n        // Restore original console functionality.\n        for (const method in originalConsoleMethods) {\n          try {\n            // $FlowFixMe[prop-missing]\n            console[method] = originalConsoleMethods[method];\n          } catch (error) {}\n        }\n      }\n    }\n\n    let rootType = null;\n    let current = fiber;\n    while (current.return !== null) {\n      current = current.return;\n    }\n    const fiberRoot = current.stateNode;\n    if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n      rootType = fiberRoot._debugRootType;\n    }\n\n    const errors = fiberIDToErrorsMap.get(id) || new Map();\n    const warnings = fiberIDToWarningsMap.get(id) || new Map();\n\n    let isErrored = false;\n    let targetErrorBoundaryID;\n    if (isErrorBoundary(fiber)) {\n      // if the current inspected element is an error boundary,\n      // either that we want to use it to toggle off error state\n      // or that we allow to force error state on it if it's within another\n      // error boundary\n      //\n      // TODO: This flag is a leaked implementation detail. Once we start\n      // releasing DevTools in lockstep with React, we should import a function\n      // from the reconciler instead.\n      const DidCapture = 0b000000000000000000010000000;\n      isErrored =\n        (fiber.flags & DidCapture) !== 0 ||\n        forceErrorForFiberIDs.get(id) === true;\n      targetErrorBoundaryID = isErrored ? id : getNearestErrorBoundaryID(fiber);\n    } else {\n      targetErrorBoundaryID = getNearestErrorBoundaryID(fiber);\n    }\n\n    const plugins: Plugins = {\n      stylex: null,\n    };\n\n    if (enableStyleXFeatures) {\n      if (memoizedProps != null && memoizedProps.hasOwnProperty('xstyle')) {\n        plugins.stylex = getStyleXData(memoizedProps.xstyle);\n      }\n    }\n\n    let source = null;\n    if (canViewSource) {\n      source = getSourceForFiber(fiber);\n    }\n\n    return {\n      id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: typeof overrideHookState === 'function',\n      canEditFunctionProps: typeof overrideProps === 'function',\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths:\n        typeof overrideHookStateDeletePath === 'function',\n      canEditHooksAndRenamePaths:\n        typeof overrideHookStateRenamePath === 'function',\n      canEditFunctionPropsDeletePaths:\n        typeof overridePropsDeletePath === 'function',\n      canEditFunctionPropsRenamePaths:\n        typeof overridePropsRenamePath === 'function',\n\n      canToggleError: supportsTogglingError && targetErrorBoundaryID != null,\n      // Is this error boundary in error state.\n      isErrored,\n      targetErrorBoundaryID,\n\n      canToggleSuspense:\n        supportsTogglingSuspense &&\n        // If it's showing the real content, we can always flip fallback.\n        (!isTimedOutSuspense ||\n          // If it's showing fallback because we previously forced it to,\n          // allow toggling it back to remove the fallback override.\n          forceFallbackForSuspenseIDs.has(id)),\n\n      // Can view component source location.\n      canViewSource,\n      source,\n\n      // Does the component have legacy context attached to it.\n      hasLegacyContext,\n\n      key: key != null ? key : null,\n\n      displayName: getDisplayNameForFiber(fiber),\n      type: elementType,\n\n      // Inspectable properties.\n      // TODO Review sanitization approach for the below inspectable values.\n      context,\n      hooks,\n      props: memoizedProps,\n      state: showState ? memoizedState : null,\n      errors: Array.from(errors.entries()),\n      warnings: Array.from(warnings.entries()),\n\n      // List of owners\n      owners,\n\n      rootType,\n      rendererPackageName: renderer.rendererPackageName,\n      rendererVersion: renderer.version,\n\n      plugins,\n    };\n  }\n\n  let mostRecentlyInspectedElement: InspectedElement | null = null;\n  let hasElementUpdatedSinceLastInspected: boolean = false;\n  let currentlyInspectedPaths: Object = {};\n\n  function isMostRecentlyInspectedElement(id: number): boolean {\n    return (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === id\n    );\n  }\n\n  function isMostRecentlyInspectedElementCurrent(id: number): boolean {\n    return (\n      isMostRecentlyInspectedElement(id) && !hasElementUpdatedSinceLastInspected\n    );\n  }\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(\n    key: string | null,\n    secondaryCategory: 'hooks' | null,\n  ) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      switch (secondaryCategory) {\n        case 'hooks':\n          if (path.length === 1) {\n            // Never dehydrate the \"hooks\" object at the top levels.\n            return true;\n          }\n\n          if (\n            path[path.length - 2] === 'hookSource' &&\n            path[path.length - 1] === 'fileName'\n          ) {\n            // It's important to preserve the full file name (URL) for hook sources\n            // in case the user has enabled the named hooks feature.\n            // Otherwise the frontend may end up with a partial URL which it can't load.\n            return true;\n          }\n\n          if (\n            path[path.length - 1] === 'subHooks' ||\n            path[path.length - 2] === 'subHooks'\n          ) {\n            // Dehydrating the 'subHooks' property makes the HooksTree UI a lot more complicated,\n            // so it's easiest for now if we just don't break on this boundary.\n            // We can always dehydrate a level deeper (in the value object).\n            return true;\n          }\n          break;\n        default:\n          break;\n      }\n\n      let current =\n        key === null ? currentlyInspectedPaths : currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  function updateSelectedElement(inspectedElement: InspectedElement): void {\n    const {hooks, id, props} = inspectedElement;\n\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const {elementType, stateNode, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IndeterminateComponent:\n        global.$r = stateNode;\n        break;\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n        global.$r = {\n          hooks,\n          props,\n          type,\n        };\n        break;\n      case ForwardRef:\n        global.$r = {\n          hooks,\n          props,\n          type: type.render,\n        };\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$r = {\n          hooks,\n          props,\n          type:\n            elementType != null && elementType.type != null\n              ? elementType.type\n              : type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    if (isMostRecentlyInspectedElement(id)) {\n      const value = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function getSerializedElementValueByPath(\n    id: number,\n    path: Array<string | number>,\n  ): ?string {\n    if (isMostRecentlyInspectedElement(id)) {\n      const valueToCopy = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n\n      return serializeToString(valueToCopy);\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n    forceFullData: boolean,\n  ): InspectedElementPayload {\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    if (isMostRecentlyInspectedElement(id) && !forceFullData) {\n      if (!hasElementUpdatedSinceLastInspected) {\n        if (path !== null) {\n          let secondaryCategory = null;\n          if (path[0] === 'hooks') {\n            secondaryCategory = 'hooks';\n          }\n\n          // If this element has not been updated since it was last inspected,\n          // we can just return the subset of data in the newly-inspected path.\n          return {\n            id,\n            responseID: requestID,\n            type: 'hydrated-path',\n            path,\n            value: cleanForBridge(\n              getInObject(\n                ((mostRecentlyInspectedElement: any): InspectedElement),\n                path,\n              ),\n              createIsPathAllowed(null, secondaryCategory),\n              path,\n            ),\n          };\n        } else {\n          // If this element has not been updated since it was last inspected, we don't need to return it.\n          // Instead we can just return the ID to indicate that it has not changed.\n          return {\n            id,\n            responseID: requestID,\n            type: 'no-change',\n          };\n        }\n      }\n    } else {\n      currentlyInspectedPaths = {};\n    }\n\n    hasElementUpdatedSinceLastInspected = false;\n\n    try {\n      mostRecentlyInspectedElement = inspectElementRaw(id);\n    } catch (error) {\n      // the error name is synced with ReactDebugHooks\n      if (error.name === 'ReactDebugToolsRenderError') {\n        let message = 'Error rendering inspected element.';\n        let stack;\n        // Log error & cause for user to debug\n        console.error(message + '\\n\\n', error);\n        if (error.cause != null) {\n          const fiber = findCurrentFiberUsingSlowPathById(id);\n          const componentName =\n            fiber != null ? getDisplayNameForFiber(fiber) : null;\n          console.error(\n            'React DevTools encountered an error while trying to inspect hooks. ' +\n              'This is most likely caused by an error in current inspected component' +\n              (componentName != null ? `: \"${componentName}\".` : '.') +\n              '\\nThe error thrown in the component is: \\n\\n',\n            error.cause,\n          );\n          if (error.cause instanceof Error) {\n            message = error.cause.message || message;\n            stack = error.cause.stack;\n          }\n        }\n\n        return {\n          type: 'error',\n          errorType: 'user',\n          id,\n          responseID: requestID,\n          message,\n          stack,\n        };\n      }\n\n      // the error name is synced with ReactDebugHooks\n      if (error.name === 'ReactDebugToolsUnsupportedHookError') {\n        return {\n          type: 'error',\n          errorType: 'unknown-hook',\n          id,\n          responseID: requestID,\n          message:\n            'Unsupported hook in the react-debug-tools package: ' +\n            error.message,\n        };\n      }\n\n      // Log Uncaught Error\n      console.error('Error inspecting element.\\n\\n', error);\n\n      return {\n        type: 'error',\n        errorType: 'uncaught',\n        id,\n        responseID: requestID,\n        message: error.message,\n        stack: error.stack,\n      };\n    }\n\n    if (mostRecentlyInspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehydration (cleanForBridge).\n    updateSelectedElement(mostRecentlyInspectedElement);\n\n    // Clone before cleaning so that we preserve the full data.\n    // This will enable us to send patches without re-inspecting if hydrated paths are requested.\n    // (Reducing how often we shallow-render is a better DX for function components that use hooks.)\n    const cleanedInspectedElement = {...mostRecentlyInspectedElement};\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.context = cleanForBridge(\n      cleanedInspectedElement.context,\n      createIsPathAllowed('context', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.hooks = cleanForBridge(\n      cleanedInspectedElement.hooks,\n      createIsPathAllowed('hooks', 'hooks'),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.props = cleanForBridge(\n      cleanedInspectedElement.props,\n      createIsPathAllowed('props', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.state = cleanForBridge(\n      cleanedInspectedElement.state,\n      createIsPathAllowed('state', null),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      // $FlowFixMe[prop-missing] found when upgrading Flow\n      value: cleanedInspectedElement,\n    };\n  }\n\n  function logElementToConsole(id: number) {\n    const result = isMostRecentlyInspectedElementCurrent(id)\n      ? mostRecentlyInspectedElement\n      : inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${result.displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.hooks !== null) {\n      console.log('Hooks:', result.hooks);\n    }\n    const nativeNodes = findNativeNodesForFiberID(id);\n    if (nativeNodes !== null) {\n      console.log('Nodes:', nativeNodes);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value (noop)\n              } else {\n                deletePathInObject(instance.context, path);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateDeletePath === 'function') {\n            overrideHookStateDeletePath(fiber, ((hookID: any): number), path);\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsDeletePath === 'function') {\n              overridePropsDeletePath(fiber, path);\n            }\n          } else {\n            fiber.pendingProps = copyWithDelete(instance.props, path);\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          deletePathInObject(instance.state, path);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          oldPath = oldPath.slice(1);\n          newPath = newPath.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (oldPath.length === 0) {\n                // Simple context value (noop)\n              } else {\n                renamePathInObject(instance.context, oldPath, newPath);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateRenamePath === 'function') {\n            overrideHookStateRenamePath(\n              fiber,\n              ((hookID: any): number),\n              oldPath,\n              newPath,\n            );\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsRenamePath === 'function') {\n              overridePropsRenamePath(fiber, oldPath, newPath);\n            }\n          } else {\n            fiber.pendingProps = copyWithRename(\n              instance.props,\n              oldPath,\n              newPath,\n            );\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          renamePathInObject(instance.state, oldPath, newPath);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value\n                instance.context = value;\n              } else {\n                setInObject(instance.context, path, value);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookState === 'function') {\n            overrideHookState(fiber, ((hookID: any): number), path, value);\n          }\n          break;\n        case 'props':\n          switch (fiber.tag) {\n            case ClassComponent:\n              fiber.pendingProps = copyWithSet(instance.props, path, value);\n              instance.forceUpdate();\n              break;\n            default:\n              if (typeof overrideProps === 'function') {\n                overrideProps(fiber, path, value);\n              }\n              break;\n          }\n          break;\n        case 'state':\n          switch (fiber.tag) {\n            case ClassComponent:\n              setInObject(instance.state, path, value);\n              instance.forceUpdate();\n              break;\n          }\n          break;\n      }\n    }\n  }\n\n  type CommitProfilingData = {\n    changeDescriptions: Map<number, ChangeDescription> | null,\n    commitTime: number,\n    durations: Array<number>,\n    effectDuration: number | null,\n    maxActualDuration: number,\n    passiveEffectDuration: number | null,\n    priorityLevel: string | null,\n    updaters: Array<SerializedElement> | null,\n  };\n\n  type CommitProfilingMetadataMap = Map<number, Array<CommitProfilingData>>;\n  type DisplayNamesByRootID = Map<number, string>;\n\n  let currentCommitProfilingMetadata: CommitProfilingData | null = null;\n  let displayNamesByRootID: DisplayNamesByRootID | null = null;\n  let idToContextsMap: Map<number, any> | null = null;\n  let initialTreeBaseDurationsMap: Map<number, number> | null = null;\n  let initialIDToRootMap: Map<number, number> | null = null;\n  let isProfiling: boolean = false;\n  let profilingStartTime: number = 0;\n  let recordChangeDescriptions: boolean = false;\n  let rootToCommitProfilingMetadataMap: CommitProfilingMetadataMap | null =\n    null;\n\n  function getProfilingData(): ProfilingDataBackend {\n    const dataForRoots: Array<ProfilingDataForRootBackend> = [];\n\n    if (rootToCommitProfilingMetadataMap === null) {\n      throw Error(\n        'getProfilingData() called before any profiling data was recorded',\n      );\n    }\n\n    rootToCommitProfilingMetadataMap.forEach(\n      (commitProfilingMetadata, rootID) => {\n        const commitData: Array<CommitDataBackend> = [];\n        const initialTreeBaseDurations: Array<[number, number]> = [];\n\n        const displayName =\n          (displayNamesByRootID !== null && displayNamesByRootID.get(rootID)) ||\n          'Unknown';\n\n        if (initialTreeBaseDurationsMap != null) {\n          initialTreeBaseDurationsMap.forEach((treeBaseDuration, id) => {\n            if (\n              initialIDToRootMap != null &&\n              initialIDToRootMap.get(id) === rootID\n            ) {\n              // We don't need to convert milliseconds to microseconds in this case,\n              // because the profiling summary is JSON serialized.\n              initialTreeBaseDurations.push([id, treeBaseDuration]);\n            }\n          });\n        }\n\n        commitProfilingMetadata.forEach((commitProfilingData, commitIndex) => {\n          const {\n            changeDescriptions,\n            durations,\n            effectDuration,\n            maxActualDuration,\n            passiveEffectDuration,\n            priorityLevel,\n            commitTime,\n            updaters,\n          } = commitProfilingData;\n\n          const fiberActualDurations: Array<[number, number]> = [];\n          const fiberSelfDurations: Array<[number, number]> = [];\n          for (let i = 0; i < durations.length; i += 3) {\n            const fiberID = durations[i];\n            fiberActualDurations.push([fiberID, durations[i + 1]]);\n            fiberSelfDurations.push([fiberID, durations[i + 2]]);\n          }\n\n          commitData.push({\n            changeDescriptions:\n              changeDescriptions !== null\n                ? Array.from(changeDescriptions.entries())\n                : null,\n            duration: maxActualDuration,\n            effectDuration,\n            fiberActualDurations,\n            fiberSelfDurations,\n            passiveEffectDuration,\n            priorityLevel,\n            timestamp: commitTime,\n            updaters,\n          });\n        });\n\n        dataForRoots.push({\n          commitData,\n          displayName,\n          initialTreeBaseDurations,\n          rootID,\n        });\n      },\n    );\n\n    let timelineData = null;\n    if (typeof getTimelineData === 'function') {\n      const currentTimelineData = getTimelineData();\n      if (currentTimelineData) {\n        const {\n          batchUIDToMeasuresMap,\n          internalModuleSourceToRanges,\n          laneToLabelMap,\n          laneToReactMeasureMap,\n          ...rest\n        } = currentTimelineData;\n\n        timelineData = {\n          ...rest,\n\n          // Most of the data is safe to parse as-is,\n          // but we need to convert the nested Arrays back to Maps.\n          // Most of the data is safe to serialize as-is,\n          // but we need to convert the Maps to nested Arrays.\n          batchUIDToMeasuresKeyValueArray: Array.from(\n            batchUIDToMeasuresMap.entries(),\n          ),\n          internalModuleSourceToRanges: Array.from(\n            internalModuleSourceToRanges.entries(),\n          ),\n          laneToLabelKeyValueArray: Array.from(laneToLabelMap.entries()),\n          laneToReactMeasureKeyValueArray: Array.from(\n            laneToReactMeasureMap.entries(),\n          ),\n        };\n      }\n    }\n\n    return {\n      dataForRoots,\n      rendererID,\n      timelineData,\n    };\n  }\n\n  function startProfiling(shouldRecordChangeDescriptions: boolean) {\n    if (isProfiling) {\n      return;\n    }\n\n    recordChangeDescriptions = shouldRecordChangeDescriptions;\n\n    // Capture initial values as of the time profiling starts.\n    // It's important we snapshot both the durations and the id-to-root map,\n    // since either of these may change during the profiling session\n    // (e.g. when a fiber is re-rendered or when a fiber gets removed).\n    displayNamesByRootID = new Map();\n    initialTreeBaseDurationsMap = new Map(idToTreeBaseDurationMap);\n    initialIDToRootMap = new Map(idToRootMap);\n    idToContextsMap = new Map();\n\n    hook.getFiberRoots(rendererID).forEach(root => {\n      const rootID = getFiberIDThrows(root.current);\n      ((displayNamesByRootID: any): DisplayNamesByRootID).set(\n        rootID,\n        getDisplayNameForRoot(root.current),\n      );\n\n      if (shouldRecordChangeDescriptions) {\n        // Record all contexts at the time profiling is started.\n        // Fibers only store the current context value,\n        // so we need to track them separately in order to determine changed keys.\n        crawlToInitializeContextsMap(root.current);\n      }\n    });\n\n    isProfiling = true;\n    profilingStartTime = getCurrentTime();\n    rootToCommitProfilingMetadataMap = new Map();\n\n    if (toggleProfilingStatus !== null) {\n      toggleProfilingStatus(true);\n    }\n  }\n\n  function stopProfiling() {\n    isProfiling = false;\n    recordChangeDescriptions = false;\n\n    if (toggleProfilingStatus !== null) {\n      toggleProfilingStatus(false);\n    }\n  }\n\n  // Automatically start profiling so that we don't miss timing info from initial \"mount\".\n  if (\n    sessionStorageGetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY) === 'true'\n  ) {\n    startProfiling(\n      sessionStorageGetItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY) ===\n        'true',\n    );\n  }\n\n  // React will switch between these implementations depending on whether\n  // we have any manually suspended/errored-out Fibers or not.\n  function shouldErrorFiberAlwaysNull() {\n    return null;\n  }\n\n  // Map of id and its force error status: true (error), false (toggled off),\n  // null (do nothing)\n  const forceErrorForFiberIDs = new Map<number | null, $FlowFixMe>();\n\n  function shouldErrorFiberAccordingToMap(fiber: any) {\n    if (typeof setErrorHandler !== 'function') {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    const id = getFiberIDUnsafe(fiber);\n    if (id === null) {\n      return null;\n    }\n\n    let status = null;\n    if (forceErrorForFiberIDs.has(id)) {\n      status = forceErrorForFiberIDs.get(id);\n      if (status === false) {\n        // TRICKY overrideError adds entries to this Map,\n        // so ideally it would be the method that clears them too,\n        // but that would break the functionality of the feature,\n        // since DevTools needs to tell React to act differently than it normally would\n        // (don't just re-render the failed boundary, but reset its errored state too).\n        // So we can only clear it after telling React to reset the state.\n        // Technically this is premature and we should schedule it for later,\n        // since the render could always fail without committing the updated error boundary,\n        // but since this is a DEV-only feature, the simplicity is worth the trade off.\n        forceErrorForFiberIDs.delete(id);\n\n        if (forceErrorForFiberIDs.size === 0) {\n          // Last override is gone. Switch React back to fast path.\n          setErrorHandler(shouldErrorFiberAlwaysNull);\n        }\n      }\n    }\n    return status;\n  }\n\n  function overrideError(id: number, forceError: boolean) {\n    if (\n      typeof setErrorHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    forceErrorForFiberIDs.set(id, forceError);\n\n    if (forceErrorForFiberIDs.size === 1) {\n      // First override is added. Switch React to slower path.\n      setErrorHandler(shouldErrorFiberAccordingToMap);\n    }\n\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber != null) {\n      scheduleUpdate(fiber);\n    }\n  }\n\n  function shouldSuspendFiberAlwaysFalse() {\n    return false;\n  }\n\n  const forceFallbackForSuspenseIDs = new Set<number>();\n\n  function shouldSuspendFiberAccordingToSet(fiber: any) {\n    const maybeID = getFiberIDUnsafe(((fiber: any): Fiber));\n    return maybeID !== null && forceFallbackForSuspenseIDs.has(maybeID);\n  }\n\n  function overrideSuspense(id: number, forceFallback: boolean) {\n    if (\n      typeof setSuspenseHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideSuspense() to not get called for earlier React versions.',\n      );\n    }\n    if (forceFallback) {\n      forceFallbackForSuspenseIDs.add(id);\n      if (forceFallbackForSuspenseIDs.size === 1) {\n        // First override is added. Switch React to slower path.\n        setSuspenseHandler(shouldSuspendFiberAccordingToSet);\n      }\n    } else {\n      forceFallbackForSuspenseIDs.delete(id);\n      if (forceFallbackForSuspenseIDs.size === 0) {\n        // Last override is gone. Switch React back to fast path.\n        setSuspenseHandler(shouldSuspendFiberAlwaysFalse);\n      }\n    }\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber != null) {\n      scheduleUpdate(fiber);\n    }\n  }\n\n  // Remember if we're trying to restore the selection after reload.\n  // In that case, we'll do some extra checks for matching mounts.\n  let trackedPath: Array<PathFrame> | null = null;\n  let trackedPathMatchFiber: Fiber | null = null;\n  let trackedPathMatchDepth = -1;\n  let mightBeOnTrackedPath = false;\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    if (path === null) {\n      trackedPathMatchFiber = null;\n      trackedPathMatchDepth = -1;\n      mightBeOnTrackedPath = false;\n    }\n    trackedPath = path;\n  }\n\n  // We call this before traversing a new mount.\n  // It remembers whether this Fiber is the next best match for tracked path.\n  // The return value signals whether we should keep matching siblings or not.\n  function updateTrackedPathStateBeforeMount(fiber: Fiber): boolean {\n    if (trackedPath === null || !mightBeOnTrackedPath) {\n      // Fast path: there's nothing to track so do nothing and ignore siblings.\n      return false;\n    }\n    const returnFiber = fiber.return;\n    const returnAlternate = returnFiber !== null ? returnFiber.alternate : null;\n    // By now we know there's some selection to restore, and this is a new Fiber.\n    // Is this newly mounted Fiber a direct child of the current best match?\n    // (This will also be true for new roots if we haven't matched anything yet.)\n    if (\n      trackedPathMatchFiber === returnFiber ||\n      (trackedPathMatchFiber === returnAlternate && returnAlternate !== null)\n    ) {\n      // Is this the next Fiber we should select? Let's compare the frames.\n      const actualFrame = getPathFrame(fiber);\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      const expectedFrame = trackedPath[trackedPathMatchDepth + 1];\n      if (expectedFrame === undefined) {\n        throw new Error('Expected to see a frame at the next depth.');\n      }\n      if (\n        actualFrame.index === expectedFrame.index &&\n        actualFrame.key === expectedFrame.key &&\n        actualFrame.displayName === expectedFrame.displayName\n      ) {\n        // We have our next match.\n        trackedPathMatchFiber = fiber;\n        trackedPathMatchDepth++;\n        // Are we out of frames to match?\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        if (trackedPathMatchDepth === trackedPath.length - 1) {\n          // There's nothing that can possibly match afterwards.\n          // Don't check the children.\n          mightBeOnTrackedPath = false;\n        } else {\n          // Check the children, as they might reveal the next match.\n          mightBeOnTrackedPath = true;\n        }\n        // In either case, since we have a match, we don't need\n        // to check the siblings. They'll never match.\n        return false;\n      }\n    }\n    // This Fiber's parent is on the path, but this Fiber itself isn't.\n    // There's no need to check its children--they won't be on the path either.\n    mightBeOnTrackedPath = false;\n    // However, one of its siblings may be on the path so keep searching.\n    return true;\n  }\n\n  function updateTrackedPathStateAfterMount(\n    mightSiblingsBeOnTrackedPath: boolean,\n  ) {\n    // updateTrackedPathStateBeforeMount() told us whether to match siblings.\n    // Now that we're entering siblings, let's use that information.\n    mightBeOnTrackedPath = mightSiblingsBeOnTrackedPath;\n  }\n\n  // Roots don't have a real persistent identity.\n  // A root's \"pseudo key\" is \"childDisplayName:indexWithThatName\".\n  // For example, \"App:0\" or, in case of similar roots, \"Story:0\", \"Story:1\", etc.\n  // We will use this to try to disambiguate roots when restoring selection between reloads.\n  const rootPseudoKeys: Map<number, string> = new Map();\n  const rootDisplayNameCounter: Map<string, number> = new Map();\n\n  function setRootPseudoKey(id: number, fiber: Fiber) {\n    const name = getDisplayNameForRoot(fiber);\n    const counter = rootDisplayNameCounter.get(name) || 0;\n    rootDisplayNameCounter.set(name, counter + 1);\n    const pseudoKey = `${name}:${counter}`;\n    rootPseudoKeys.set(id, pseudoKey);\n  }\n\n  function removeRootPseudoKey(id: number) {\n    const pseudoKey = rootPseudoKeys.get(id);\n    if (pseudoKey === undefined) {\n      throw new Error('Expected root pseudo key to be known.');\n    }\n    const name = pseudoKey.slice(0, pseudoKey.lastIndexOf(':'));\n    const counter = rootDisplayNameCounter.get(name);\n    if (counter === undefined) {\n      throw new Error('Expected counter to be known.');\n    }\n    if (counter > 1) {\n      rootDisplayNameCounter.set(name, counter - 1);\n    } else {\n      rootDisplayNameCounter.delete(name);\n    }\n    rootPseudoKeys.delete(id);\n  }\n\n  function getDisplayNameForRoot(fiber: Fiber): string {\n    let preferredDisplayName = null;\n    let fallbackDisplayName = null;\n    let child = fiber.child;\n    // Go at most three levels deep into direct children\n    // while searching for a child that has a displayName.\n    for (let i = 0; i < 3; i++) {\n      if (child === null) {\n        break;\n      }\n      const displayName = getDisplayNameForFiber(child);\n      if (displayName !== null) {\n        // Prefer display names that we get from user-defined components.\n        // We want to avoid using e.g. 'Suspense' unless we find nothing else.\n        if (typeof child.type === 'function') {\n          // There's a few user-defined tags, but we'll prefer the ones\n          // that are usually explicitly named (function or class components).\n          preferredDisplayName = displayName;\n        } else if (fallbackDisplayName === null) {\n          fallbackDisplayName = displayName;\n        }\n      }\n      if (preferredDisplayName !== null) {\n        break;\n      }\n      child = child.child;\n    }\n    return preferredDisplayName || fallbackDisplayName || 'Anonymous';\n  }\n\n  function getPathFrame(fiber: Fiber): PathFrame {\n    const {key} = fiber;\n    let displayName = getDisplayNameForFiber(fiber);\n    const index = fiber.index;\n    switch (fiber.tag) {\n      case HostRoot:\n        // Roots don't have a real displayName, index, or key.\n        // Instead, we'll use the pseudo key (childDisplayName:indexWithThatName).\n        const id = getFiberIDThrows(fiber);\n        const pseudoKey = rootPseudoKeys.get(id);\n        if (pseudoKey === undefined) {\n          throw new Error('Expected mounted root to have known pseudo key.');\n        }\n        displayName = pseudoKey;\n        break;\n      case HostComponent:\n        displayName = fiber.type;\n        break;\n      default:\n        break;\n    }\n    return {\n      displayName,\n      key,\n      index,\n    };\n  }\n\n  // Produces a serializable representation that does a best effort\n  // of identifying a particular Fiber between page reloads.\n  // The return path will contain Fibers that are \"invisible\" to the store\n  // because their keys and indexes are important to restoring the selection.\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    let fiber: ?Fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      return null;\n    }\n    const keyPath = [];\n    while (fiber !== null) {\n      // $FlowFixMe[incompatible-call] found when upgrading Flow\n      keyPath.push(getPathFrame(fiber));\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      fiber = fiber.return;\n    }\n    keyPath.reverse();\n    return keyPath;\n  }\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    if (trackedPath === null) {\n      // Nothing to match.\n      return null;\n    }\n    if (trackedPathMatchFiber === null) {\n      // We didn't find anything.\n      return null;\n    }\n    // Find the closest Fiber store is aware of.\n    let fiber: null | Fiber = trackedPathMatchFiber;\n    while (fiber !== null && shouldFilterFiber(fiber)) {\n      fiber = fiber.return;\n    }\n    if (fiber === null) {\n      return null;\n    }\n    return {\n      id: getFiberIDThrows(fiber),\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      isFullMatch: trackedPathMatchDepth === trackedPath.length - 1,\n    };\n  }\n\n  const formatPriorityLevel = (priorityLevel: ?number) => {\n    if (priorityLevel == null) {\n      return 'Unknown';\n    }\n\n    switch (priorityLevel) {\n      case ImmediatePriority:\n        return 'Immediate';\n      case UserBlockingPriority:\n        return 'User-Blocking';\n      case NormalPriority:\n        return 'Normal';\n      case LowPriority:\n        return 'Low';\n      case IdlePriority:\n        return 'Idle';\n      case NoPriority:\n      default:\n        return 'Unknown';\n    }\n  };\n\n  function setTraceUpdatesEnabled(isEnabled: boolean): void {\n    traceUpdatesEnabled = isEnabled;\n  }\n\n  function hasFiberWithId(id: number): boolean {\n    return idToArbitraryFiberMap.has(id);\n  }\n\n  function getComponentStackForFiber(fiber: Fiber): string | null {\n    let componentStack = fiberToComponentStackMap.get(fiber);\n    if (componentStack == null) {\n      const dispatcherRef = getDispatcherRef(renderer);\n      if (dispatcherRef == null) {\n        return null;\n      }\n\n      componentStack = getStackByFiberInDevAndProd(\n        ReactTypeOfWork,\n        fiber,\n        dispatcherRef,\n      );\n      fiberToComponentStackMap.set(fiber, componentStack);\n    }\n\n    return componentStack;\n  }\n\n  function getSourceForFiber(fiber: Fiber): Source | null {\n    const componentStack = getComponentStackForFiber(fiber);\n    if (componentStack == null) {\n      return null;\n    }\n\n    return parseSourceFromComponentStack(componentStack);\n  }\n\n  return {\n    cleanup,\n    clearErrorsAndWarnings,\n    clearErrorsForFiberID,\n    clearWarningsForFiberID,\n    getSerializedElementValueByPath,\n    deletePath,\n    findNativeNodesForFiberID,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getComponentStackForFiber,\n    getSourceForFiber,\n    getDisplayNameForFiberID,\n    getFiberForNative,\n    getFiberIDForNative,\n    getInstanceAndStyle,\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    hasFiberWithId,\n    inspectElement,\n    logElementToConsole,\n    patchConsoleForStrictMode,\n    prepareViewAttributeSource,\n    prepareViewElementSource,\n    overrideError,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    unpatchConsoleForStrictMode,\n    updateComponentFilters,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {\n  LegacyDispatcherRef,\n  CurrentDispatcherRef,\n  ReactRenderer,\n  WorkTagMap,\n  ConsolePatchSettings,\n} from './types';\n\nimport {\n  formatConsoleArguments,\n  formatWithStyles,\n} from 'react-devtools-shared/src/backend/utils';\nimport {\n  FIREFOX_CONSOLE_DIMMING_COLOR,\n  ANSI_STYLE_DIMMING_TEMPLATE,\n  ANSI_STYLE_DIMMING_TEMPLATE_WITH_COMPONENT_STACK,\n} from 'react-devtools-shared/src/constants';\nimport {getInternalReactConstants, getDispatcherRef} from './renderer';\nimport {\n  getStackByFiberInDevAndProd,\n  supportsNativeConsoleTasks,\n} from './DevToolsFiberComponentStack';\nimport {castBool, castBrowserTheme} from '../utils';\n\nconst OVERRIDE_CONSOLE_METHODS = ['error', 'trace', 'warn'];\n\n// React's custom built component stack strings match \"\\s{4}in\"\n// Chrome's prefix matches \"\\s{4}at\"\nconst PREFIX_REGEX = /\\s{4}(in|at)\\s{1}/;\n// Firefox and Safari have no prefix (\"\")\n// but we can fallback to looking for location info (e.g. \"foo.js:12:345\")\nconst ROW_COLUMN_NUMBER_REGEX = /:\\d+:\\d+(\\n|$)/;\n\nexport function isStringComponentStack(text: string): boolean {\n  return PREFIX_REGEX.test(text) || ROW_COLUMN_NUMBER_REGEX.test(text);\n}\n\nconst STYLE_DIRECTIVE_REGEX = /^%c/;\n\n// This function tells whether or not the arguments for a console\n// method has been overridden by the patchForStrictMode function.\n// If it has we'll need to do some special formatting of the arguments\n// so the console color stays consistent\nfunction isStrictModeOverride(args: Array<any>): boolean {\n  if (__IS_FIREFOX__) {\n    return (\n      args.length >= 2 &&\n      STYLE_DIRECTIVE_REGEX.test(args[0]) &&\n      args[1] === FIREFOX_CONSOLE_DIMMING_COLOR\n    );\n  } else {\n    return args.length >= 2 && args[0] === ANSI_STYLE_DIMMING_TEMPLATE;\n  }\n}\n\n// We add a suffix to some frames that older versions of React didn't do.\n// To compare if it's equivalent we strip out the suffix to see if they're\n// still equivalent. Similarly, we sometimes use [] and sometimes () so we\n// strip them to for the comparison.\nconst frameDiffs = / \\(\\<anonymous\\>\\)$|\\@unknown\\:0\\:0$|\\(|\\)|\\[|\\]/gm;\nfunction areStackTracesEqual(a: string, b: string): boolean {\n  return a.replace(frameDiffs, '') === b.replace(frameDiffs, '');\n}\n\nfunction restorePotentiallyModifiedArgs(args: Array<any>): Array<any> {\n  // If the arguments don't have any styles applied, then just copy\n  if (!isStrictModeOverride(args)) {\n    return args.slice();\n  }\n\n  if (__IS_FIREFOX__) {\n    // Filter out %c from the start of the first argument and color as a second argument\n    return [args[0].slice(2)].concat(args.slice(2));\n  } else {\n    // Filter out the `\\x1b...%s\\x1b` template\n    return args.slice(1);\n  }\n}\n\ntype OnErrorOrWarning = (\n  fiber: Fiber,\n  type: 'error' | 'warn',\n  args: Array<any>,\n) => void;\n\nconst injectedRenderers: Map<\n  ReactRenderer,\n  {\n    currentDispatcherRef: LegacyDispatcherRef | CurrentDispatcherRef,\n    getCurrentFiber: () => Fiber | null,\n    onErrorOrWarning: ?OnErrorOrWarning,\n    workTagMap: WorkTagMap,\n  },\n> = new Map();\n\nlet targetConsole: Object = console;\nlet targetConsoleMethods: {[string]: $FlowFixMe} = {};\nfor (const method in console) {\n  targetConsoleMethods[method] = console[method];\n}\n\nlet unpatchFn: null | (() => void) = null;\n\n// Enables e.g. Jest tests to inject a mock console object.\nexport function dangerous_setTargetConsoleForTesting(\n  targetConsoleForTesting: Object,\n): void {\n  targetConsole = targetConsoleForTesting;\n\n  targetConsoleMethods = ({}: {[string]: $FlowFixMe});\n  for (const method in targetConsole) {\n    targetConsoleMethods[method] = console[method];\n  }\n}\n\n// v16 renderers should use this method to inject internals necessary to generate a component stack.\n// These internals will be used if the console is patched.\n// Injecting them separately allows the console to easily be patched or un-patched later (at runtime).\nexport function registerRenderer(\n  renderer: ReactRenderer,\n  onErrorOrWarning?: OnErrorOrWarning,\n): void {\n  const {\n    currentDispatcherRef,\n    getCurrentFiber,\n    findFiberByHostInstance,\n    version,\n  } = renderer;\n\n  // Ignore React v15 and older because they don't expose a component stack anyway.\n  if (typeof findFiberByHostInstance !== 'function') {\n    return;\n  }\n\n  // currentDispatcherRef gets injected for v16.8+ to support hooks inspection.\n  // getCurrentFiber gets injected for v16.9+.\n  if (currentDispatcherRef != null && typeof getCurrentFiber === 'function') {\n    const {ReactTypeOfWork} = getInternalReactConstants(version);\n\n    injectedRenderers.set(renderer, {\n      currentDispatcherRef,\n      getCurrentFiber,\n      workTagMap: ReactTypeOfWork,\n      onErrorOrWarning,\n    });\n  }\n}\n\nconst consoleSettingsRef: ConsolePatchSettings = {\n  appendComponentStack: false,\n  breakOnConsoleErrors: false,\n  showInlineWarningsAndErrors: false,\n  hideConsoleLogsInStrictMode: false,\n  browserTheme: 'dark',\n};\n\n// Patches console methods to append component stack for the current fiber.\n// Call unpatch() to remove the injected behavior.\nexport function patch({\n  appendComponentStack,\n  breakOnConsoleErrors,\n  showInlineWarningsAndErrors,\n  hideConsoleLogsInStrictMode,\n  browserTheme,\n}: ConsolePatchSettings): void {\n  // Settings may change after we've patched the console.\n  // Using a shared ref allows the patch function to read the latest values.\n  consoleSettingsRef.appendComponentStack = appendComponentStack;\n  consoleSettingsRef.breakOnConsoleErrors = breakOnConsoleErrors;\n  consoleSettingsRef.showInlineWarningsAndErrors = showInlineWarningsAndErrors;\n  consoleSettingsRef.hideConsoleLogsInStrictMode = hideConsoleLogsInStrictMode;\n  consoleSettingsRef.browserTheme = browserTheme;\n\n  if (\n    appendComponentStack ||\n    breakOnConsoleErrors ||\n    showInlineWarningsAndErrors\n  ) {\n    if (unpatchFn !== null) {\n      // Don't patch twice.\n      return;\n    }\n\n    const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n    unpatchFn = () => {\n      for (const method in originalConsoleMethods) {\n        try {\n          targetConsole[method] = originalConsoleMethods[method];\n        } catch (error) {}\n      }\n    };\n\n    OVERRIDE_CONSOLE_METHODS.forEach(method => {\n      try {\n        const originalMethod = (originalConsoleMethods[method] = targetConsole[\n          method\n        ].__REACT_DEVTOOLS_ORIGINAL_METHOD__\n          ? targetConsole[method].__REACT_DEVTOOLS_ORIGINAL_METHOD__\n          : targetConsole[method]);\n\n        // $FlowFixMe[missing-local-annot]\n        const overrideMethod = (...args) => {\n          let alreadyHasComponentStack = false;\n          if (method !== 'log' && consoleSettingsRef.appendComponentStack) {\n            const lastArg = args.length > 0 ? args[args.length - 1] : null;\n            alreadyHasComponentStack =\n              typeof lastArg === 'string' && isStringComponentStack(lastArg); // The last argument should be a component stack.\n          }\n\n          const shouldShowInlineWarningsAndErrors =\n            consoleSettingsRef.showInlineWarningsAndErrors &&\n            (method === 'error' || method === 'warn');\n\n          // Search for the first renderer that has a current Fiber.\n          // We don't handle the edge case of stacks for more than one (e.g. interleaved renderers?)\n          // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n          for (const renderer of injectedRenderers.values()) {\n            const currentDispatcherRef = getDispatcherRef(renderer);\n            const {getCurrentFiber, onErrorOrWarning, workTagMap} = renderer;\n            const current: ?Fiber = getCurrentFiber();\n            if (current != null) {\n              try {\n                if (shouldShowInlineWarningsAndErrors) {\n                  // patch() is called by two places: (1) the hook and (2) the renderer backend.\n                  // The backend is what implements a message queue, so it's the only one that injects onErrorOrWarning.\n                  if (typeof onErrorOrWarning === 'function') {\n                    onErrorOrWarning(\n                      current,\n                      ((method: any): 'error' | 'warn'),\n                      // Restore and copy args before we mutate them (e.g. adding the component stack)\n                      restorePotentiallyModifiedArgs(args),\n                    );\n                  }\n                }\n\n                if (\n                  consoleSettingsRef.appendComponentStack &&\n                  !supportsNativeConsoleTasks(current)\n                ) {\n                  const componentStack = getStackByFiberInDevAndProd(\n                    workTagMap,\n                    current,\n                    (currentDispatcherRef: any),\n                  );\n                  if (componentStack !== '') {\n                    // Create a fake Error so that when we print it we get native source maps. Every\n                    // browser will print the .stack property of the error and then parse it back for source\n                    // mapping. Rather than print the internal slot. So it doesn't matter that the internal\n                    // slot doesn't line up.\n                    const fakeError = new Error('');\n                    // In Chromium, only the stack property is printed but in Firefox the <name>:<message>\n                    // gets printed so to make the colon make sense, we name it so we print Component Stack:\n                    // and similarly Safari leave an expandable slot.\n                    if (__IS_CHROME__ || __IS_EDGE__) {\n                      // Before sending the stack to Chrome DevTools for formatting,\n                      // V8 will reconstruct this according to the template <name>: <message><stack-frames>\n                      // https://source.chromium.org/chromium/chromium/src/+/main:v8/src/inspector/value-mirror.cc;l=252-311;drc=bdc48d1b1312cc40c00282efb1c9c5f41dcdca9a\n                      // It has to start with ^[\\w.]*Error\\b to trigger stack formatting.\n                      fakeError.name = 'Error Component Stack'; // This gets printed\n                    } else {\n                      fakeError.name = 'Component Stack';\n                    }\n                    // In Chromium, the stack property needs to start with ^[\\w.]*Error\\b to trigger stack\n                    // formatting. Otherwise it is left alone. So we prefix it. Otherwise we just override it\n                    // to our own stack.\n                    fakeError.stack =\n                      __IS_CHROME__ || __IS_EDGE__ || __IS_NATIVE__\n                        ? 'Error Component Stack:' + componentStack\n                        : componentStack;\n                    if (alreadyHasComponentStack) {\n                      // Only modify the component stack if it matches what we would've added anyway.\n                      // Otherwise we assume it was a non-React stack.\n                      if (isStrictModeOverride(args)) {\n                        // We do nothing to Strict Mode overrides that already has a stack\n                        // because we have already lost some context for how to format it\n                        // since we've already merged the stack into the log at this point.\n                      } else if (\n                        areStackTracesEqual(\n                          args[args.length - 1],\n                          componentStack,\n                        )\n                      ) {\n                        const firstArg = args[0];\n                        if (\n                          args.length > 1 &&\n                          typeof firstArg === 'string' &&\n                          firstArg.endsWith('%s')\n                        ) {\n                          args[0] = firstArg.slice(0, firstArg.length - 2); // Strip the %s param\n                        }\n                        args[args.length - 1] = fakeError;\n                      }\n                    } else {\n                      args.push(fakeError);\n                      if (isStrictModeOverride(args)) {\n                        if (__IS_FIREFOX__) {\n                          args[0] = `${args[0]} %o`;\n                        } else {\n                          args[0] =\n                            ANSI_STYLE_DIMMING_TEMPLATE_WITH_COMPONENT_STACK;\n                        }\n                      }\n                    }\n                  }\n                }\n              } catch (error) {\n                // Don't let a DevTools or React internal error interfere with logging.\n                setTimeout(() => {\n                  throw error;\n                }, 0);\n              } finally {\n                break;\n              }\n            }\n          }\n\n          if (consoleSettingsRef.breakOnConsoleErrors) {\n            // --- Welcome to debugging with React DevTools ---\n            // This debugger statement means that you've enabled the \"break on warnings\" feature.\n            // Use the browser's Call Stack panel to step out of this override function-\n            // to where the original warning or error was logged.\n            // eslint-disable-next-line no-debugger\n            debugger;\n          }\n\n          originalMethod(...args);\n        };\n\n        overrideMethod.__REACT_DEVTOOLS_ORIGINAL_METHOD__ = originalMethod;\n        originalMethod.__REACT_DEVTOOLS_OVERRIDE_METHOD__ = overrideMethod;\n\n        targetConsole[method] = overrideMethod;\n      } catch (error) {}\n    });\n  } else {\n    unpatch();\n  }\n}\n\n// Removed component stack patch from console methods.\nexport function unpatch(): void {\n  if (unpatchFn !== null) {\n    unpatchFn();\n    unpatchFn = null;\n  }\n}\n\nlet unpatchForStrictModeFn: null | (() => void) = null;\n\n// NOTE: KEEP IN SYNC with src/hook.js:patchConsoleForInitialCommitInStrictMode\nexport function patchForStrictMode() {\n  const overrideConsoleMethods = [\n    'error',\n    'group',\n    'groupCollapsed',\n    'info',\n    'log',\n    'trace',\n    'warn',\n  ];\n\n  if (unpatchForStrictModeFn !== null) {\n    // Don't patch twice.\n    return;\n  }\n\n  const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n  unpatchForStrictModeFn = () => {\n    for (const method in originalConsoleMethods) {\n      try {\n        targetConsole[method] = originalConsoleMethods[method];\n      } catch (error) {}\n    }\n  };\n\n  overrideConsoleMethods.forEach(method => {\n    try {\n      const originalMethod = (originalConsoleMethods[method] = targetConsole[\n        method\n      ].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n        ? targetConsole[method].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n        : targetConsole[method]);\n\n      // $FlowFixMe[missing-local-annot]\n      const overrideMethod = (...args) => {\n        if (!consoleSettingsRef.hideConsoleLogsInStrictMode) {\n          // Dim the text color of the double logs if we're not hiding them.\n          if (__IS_FIREFOX__) {\n            originalMethod(\n              ...formatWithStyles(args, FIREFOX_CONSOLE_DIMMING_COLOR),\n            );\n          } else {\n            originalMethod(\n              ANSI_STYLE_DIMMING_TEMPLATE,\n              ...formatConsoleArguments(...args),\n            );\n          }\n        }\n      };\n\n      overrideMethod.__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__ =\n        originalMethod;\n      originalMethod.__REACT_DEVTOOLS_STRICT_MODE_OVERRIDE_METHOD__ =\n        overrideMethod;\n\n      targetConsole[method] = overrideMethod;\n    } catch (error) {}\n  });\n}\n\n// NOTE: KEEP IN SYNC with src/hook.js:unpatchConsoleForInitialCommitInStrictMode\nexport function unpatchForStrictMode(): void {\n  if (unpatchForStrictModeFn !== null) {\n    unpatchForStrictModeFn();\n    unpatchForStrictModeFn = null;\n  }\n}\n\nexport function patchConsoleUsingWindowValues() {\n  const appendComponentStack =\n    castBool(window.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__) ?? true;\n  const breakOnConsoleErrors =\n    castBool(window.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__) ?? false;\n  const showInlineWarningsAndErrors =\n    castBool(window.__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__) ?? true;\n  const hideConsoleLogsInStrictMode =\n    castBool(window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__) ??\n    false;\n  const browserTheme =\n    castBrowserTheme(window.__REACT_DEVTOOLS_BROWSER_THEME__) ?? 'dark';\n\n  patch({\n    appendComponentStack,\n    breakOnConsoleErrors,\n    showInlineWarningsAndErrors,\n    hideConsoleLogsInStrictMode,\n    browserTheme,\n  });\n}\n\n// After receiving cached console patch settings from React Native, we set them on window.\n// When the console is initially patched (in renderer.js and hook.js), these values are read.\n// The browser extension (etc.) sets these values on window, but through another method.\nexport function writeConsolePatchSettingsToWindow(\n  settings: ConsolePatchSettings,\n): void {\n  window.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__ =\n    settings.appendComponentStack;\n  window.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__ =\n    settings.breakOnConsoleErrors;\n  window.__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__ =\n    settings.showInlineWarningsAndErrors;\n  window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__ =\n    settings.hideConsoleLogsInStrictMode;\n  window.__REACT_DEVTOOLS_BROWSER_THEME__ = settings.browserTheme;\n}\n\nexport function installConsoleFunctionsToWindow(): void {\n  window.__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__ = {\n    patchConsoleUsingWindowValues,\n    registerRendererWithConsole: registerRenderer,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from './events';\n\nimport type {ComponentFilter, Wall} from './frontend/types';\nimport type {\n  InspectedElementPayload,\n  OwnersList,\n  ProfilingDataBackend,\n  RendererID,\n  ConsolePatchSettings,\n} from 'react-devtools-shared/src/backend/types';\nimport type {StyleAndLayout as StyleAndLayoutPayload} from 'react-devtools-shared/src/backend/NativeStyleEditor/types';\n\nconst BATCH_DURATION = 100;\n\n// This message specifies the version of the DevTools protocol currently supported by the backend,\n// as well as the earliest NPM version (e.g. \"4.13.0\") that protocol is supported by on the frontend.\n// This enables an older frontend to display an upgrade message to users for a newer, unsupported backend.\nexport type BridgeProtocol = {\n  // Version supported by the current frontend/backend.\n  version: number,\n\n  // NPM version range that also supports this version.\n  // Note that 'maxNpmVersion' is only set when the version is bumped.\n  minNpmVersion: string,\n  maxNpmVersion: string | null,\n};\n\n// Bump protocol version whenever a backwards breaking change is made\n// in the messages sent between BackendBridge and FrontendBridge.\n// This mapping is embedded in both frontend and backend builds.\n//\n// The backend protocol will always be the latest entry in the BRIDGE_PROTOCOL array.\n//\n// When an older frontend connects to a newer backend,\n// the backend can send the minNpmVersion and the frontend can display an NPM upgrade prompt.\n//\n// When a newer frontend connects with an older protocol version,\n// the frontend can use the embedded minNpmVersion/maxNpmVersion values to display a downgrade prompt.\nexport const BRIDGE_PROTOCOL: Array<BridgeProtocol> = [\n  // This version technically never existed,\n  // but a backwards breaking change was added in 4.11,\n  // so the safest guess to downgrade the frontend would be to version 4.10.\n  {\n    version: 0,\n    minNpmVersion: '\"<4.11.0\"',\n    maxNpmVersion: '\"<4.11.0\"',\n  },\n  // Versions 4.11.x  4.12.x contained the backwards breaking change,\n  // but we didn't add the \"fix\" of checking the protocol version until 4.13,\n  // so we don't recommend downgrading to 4.11 or 4.12.\n  {\n    version: 1,\n    minNpmVersion: '4.13.0',\n    maxNpmVersion: '4.21.0',\n  },\n  // Version 2 adds a StrictMode-enabled and supports-StrictMode bits to add-root operation.\n  {\n    version: 2,\n    minNpmVersion: '4.22.0',\n    maxNpmVersion: null,\n  },\n];\n\nexport const currentBridgeProtocol: BridgeProtocol =\n  BRIDGE_PROTOCOL[BRIDGE_PROTOCOL.length - 1];\n\ntype ElementAndRendererID = {id: number, rendererID: RendererID};\n\ntype Message = {\n  event: string,\n  payload: any,\n};\n\ntype HighlightElementInDOM = {\n  ...ElementAndRendererID,\n  displayName: string | null,\n  hideAfterTimeout: boolean,\n  openNativeElementsPanel: boolean,\n  scrollIntoView: boolean,\n};\n\ntype OverrideValue = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype OverrideHookState = {\n  ...OverrideValue,\n  hookID: number,\n};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n};\n\ntype RenamePath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n};\n\ntype OverrideValueAtPath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n  value: any,\n};\n\ntype OverrideError = {\n  ...ElementAndRendererID,\n  forceError: boolean,\n};\n\ntype OverrideSuspense = {\n  ...ElementAndRendererID,\n  forceFallback: boolean,\n};\n\ntype CopyElementPathParams = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n};\n\ntype ViewAttributeSourceParams = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n};\n\ntype InspectElementParams = {\n  ...ElementAndRendererID,\n  forceFullData: boolean,\n  path: Array<number | string> | null,\n  requestID: number,\n};\n\ntype StoreAsGlobalParams = {\n  ...ElementAndRendererID,\n  count: number,\n  path: Array<string | number>,\n};\n\ntype NativeStyleEditor_RenameAttributeParams = {\n  ...ElementAndRendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n};\n\ntype NativeStyleEditor_SetValueParams = {\n  ...ElementAndRendererID,\n  name: string,\n  value: string,\n};\n\ntype SavedPreferencesParams = {\n  appendComponentStack: boolean,\n  breakOnConsoleErrors: boolean,\n  componentFilters: Array<ComponentFilter>,\n  showInlineWarningsAndErrors: boolean,\n  hideConsoleLogsInStrictMode: boolean,\n};\n\nexport type BackendEvents = {\n  backendVersion: [string],\n  bridgeProtocol: [BridgeProtocol],\n  extensionBackendInitialized: [],\n  fastRefreshScheduled: [],\n  getSavedPreferences: [],\n  inspectedElement: [InspectedElementPayload],\n  isBackendStorageAPISupported: [boolean],\n  isSynchronousXHRSupported: [boolean],\n  operations: [Array<number>],\n  ownersList: [OwnersList],\n  overrideComponentFilters: [Array<ComponentFilter>],\n  profilingData: [ProfilingDataBackend],\n  profilingStatus: [boolean],\n  reloadAppForProfiling: [],\n  saveToClipboard: [string],\n  selectFiber: [number],\n  shutdown: [],\n  stopInspectingNative: [boolean],\n  syncSelectionFromNativeElementsPanel: [],\n  syncSelectionToNativeElementsPanel: [],\n  unsupportedRendererVersion: [RendererID],\n\n  // React Native style editor plug-in.\n  isNativeStyleEditorSupported: [\n    {isSupported: boolean, validAttributes: ?$ReadOnlyArray<string>},\n  ],\n  NativeStyleEditor_styleAndLayout: [StyleAndLayoutPayload],\n};\n\ntype FrontendEvents = {\n  clearErrorsAndWarnings: [{rendererID: RendererID}],\n  clearErrorsForFiberID: [ElementAndRendererID],\n  clearNativeElementHighlight: [],\n  clearWarningsForFiberID: [ElementAndRendererID],\n  copyElementPath: [CopyElementPathParams],\n  deletePath: [DeletePath],\n  getBackendVersion: [],\n  getBridgeProtocol: [],\n  getOwnersList: [ElementAndRendererID],\n  getProfilingData: [{rendererID: RendererID}],\n  getProfilingStatus: [],\n  highlightNativeElement: [HighlightElementInDOM],\n  inspectElement: [InspectElementParams],\n  logElementToConsole: [ElementAndRendererID],\n  overrideError: [OverrideError],\n  overrideSuspense: [OverrideSuspense],\n  overrideValueAtPath: [OverrideValueAtPath],\n  profilingData: [ProfilingDataBackend],\n  reloadAndProfile: [boolean],\n  renamePath: [RenamePath],\n  savedPreferences: [SavedPreferencesParams],\n  selectFiber: [number],\n  setTraceUpdatesEnabled: [boolean],\n  shutdown: [],\n  startInspectingNative: [],\n  startProfiling: [boolean],\n  stopInspectingNative: [boolean],\n  stopProfiling: [],\n  storeAsGlobal: [StoreAsGlobalParams],\n  updateComponentFilters: [Array<ComponentFilter>],\n  updateConsolePatchSettings: [ConsolePatchSettings],\n  viewAttributeSource: [ViewAttributeSourceParams],\n  viewElementSource: [ElementAndRendererID],\n\n  // React Native style editor plug-in.\n  NativeStyleEditor_measure: [ElementAndRendererID],\n  NativeStyleEditor_renameAttribute: [NativeStyleEditor_RenameAttributeParams],\n  NativeStyleEditor_setValue: [NativeStyleEditor_SetValueParams],\n\n  // Temporarily support newer standalone front-ends sending commands to older embedded backends.\n  // We do this because React Native embeds the React DevTools backend,\n  // but cannot control which version of the frontend users use.\n  //\n  // Note that nothing in the newer backend actually listens to these events,\n  // but the new frontend still dispatches them (in case older backends are listening to them instead).\n  //\n  // Note that this approach does no support the combination of a newer backend with an older frontend.\n  // It would be more work to support both approaches (and not run handlers twice)\n  // so I chose to support the more likely/common scenario (and the one more difficult for an end user to \"fix\").\n  overrideContext: [OverrideValue],\n  overrideHookState: [OverrideHookState],\n  overrideProps: [OverrideValue],\n  overrideState: [OverrideValue],\n\n  resumeElementPolling: [],\n  pauseElementPolling: [],\n};\n\nclass Bridge<\n  OutgoingEvents: Object,\n  IncomingEvents: Object,\n> extends EventEmitter<{\n  ...IncomingEvents,\n  ...OutgoingEvents,\n}> {\n  _isShutdown: boolean = false;\n  _messageQueue: Array<any> = [];\n  _timeoutID: TimeoutID | null = null;\n  _wall: Wall;\n  _wallUnlisten: Function | null = null;\n\n  constructor(wall: Wall) {\n    super();\n\n    this._wall = wall;\n\n    this._wallUnlisten =\n      wall.listen((message: Message) => {\n        if (message && message.event) {\n          (this: any).emit(message.event, message.payload);\n        }\n      }) || null;\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    this.addListener('overrideValueAtPath', this.overrideValueAtPath);\n  }\n\n  // Listening directly to the wall isn't advised.\n  // It can be used to listen for legacy (v3) messages (since they use a different format).\n  get wall(): Wall {\n    return this._wall;\n  }\n\n  send<EventName: $Keys<OutgoingEvents>>(\n    event: EventName,\n    ...payload: $ElementType<OutgoingEvents, EventName>\n  ) {\n    if (this._isShutdown) {\n      console.warn(\n        `Cannot send message \"${event}\" through a Bridge that has been shutdown.`,\n      );\n      return;\n    }\n\n    // When we receive a message:\n    // - we add it to our queue of messages to be sent\n    // - if there hasn't been a message recently, we set a timer for 0 ms in\n    //   the future, allowing all messages created in the same tick to be sent\n    //   together\n    // - if there *has* been a message flushed in the last BATCH_DURATION ms\n    //   (or we're waiting for our setTimeout-0 to fire), then _timeoutID will\n    //   be set, and we'll simply add to the queue and wait for that\n    this._messageQueue.push(event, payload);\n    if (!this._timeoutID) {\n      this._timeoutID = setTimeout(this._flush, 0);\n    }\n  }\n\n  shutdown() {\n    if (this._isShutdown) {\n      console.warn('Bridge was already shutdown.');\n      return;\n    }\n\n    // Queue the shutdown outgoing message for subscribers.\n    this.emit('shutdown');\n    this.send('shutdown');\n\n    // Mark this bridge as destroyed, i.e. disable its public API.\n    this._isShutdown = true;\n\n    // Disable the API inherited from EventEmitter that can add more listeners and send more messages.\n    // $FlowFixMe[cannot-write] This property is not writable.\n    this.addListener = function () {};\n    // $FlowFixMe[cannot-write] This property is not writable.\n    this.emit = function () {};\n    // NOTE: There's also EventEmitter API like `on` and `prependListener` that we didn't add to our Flow type of EventEmitter.\n\n    // Unsubscribe this bridge incoming message listeners to be sure, and so they don't have to do that.\n    this.removeAllListeners();\n\n    // Stop accepting and emitting incoming messages from the wall.\n    const wallUnlisten = this._wallUnlisten;\n    if (wallUnlisten) {\n      wallUnlisten();\n    }\n\n    // Synchronously flush all queued outgoing messages.\n    // At this step the subscribers' code may run in this call stack.\n    do {\n      this._flush();\n    } while (this._messageQueue.length);\n\n    // Make sure once again that there is no dangling timer.\n    if (this._timeoutID !== null) {\n      clearTimeout(this._timeoutID);\n      this._timeoutID = null;\n    }\n  }\n\n  _flush: () => void = () => {\n    // This method is used after the bridge is marked as destroyed in shutdown sequence,\n    // so we do not bail out if the bridge marked as destroyed.\n    // It is a private method that the bridge ensures is only called at the right times.\n\n    if (this._timeoutID !== null) {\n      clearTimeout(this._timeoutID);\n      this._timeoutID = null;\n    }\n\n    if (this._messageQueue.length) {\n      for (let i = 0; i < this._messageQueue.length; i += 2) {\n        this._wall.send(this._messageQueue[i], ...this._messageQueue[i + 1]);\n      }\n      this._messageQueue.length = 0;\n\n      // Check again for queued messages in BATCH_DURATION ms. This will keep\n      // flushing in a loop as long as messages continue to be added. Once no\n      // more are, the timer expires.\n      this._timeoutID = setTimeout(this._flush, BATCH_DURATION);\n    }\n  };\n\n  // Temporarily support older standalone backends by forwarding \"overrideValueAtPath\" commands\n  // to the older message types they may be listening to.\n  overrideValueAtPath: OverrideValueAtPath => void = ({\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }: OverrideValueAtPath) => {\n    switch (type) {\n      case 'context':\n        this.send('overrideContext', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'hooks':\n        this.send('overrideHookState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'props':\n        this.send('overrideProps', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'state':\n        this.send('overrideState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n    }\n  };\n}\n\nexport type BackendBridge = Bridge<BackendEvents, FrontendEvents>;\nexport type FrontendBridge = Bridge<FrontendEvents, BackendEvents>;\n\nexport default Bridge;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from '../events';\nimport throttle from 'lodash.throttle';\nimport {\n  SESSION_STORAGE_LAST_SELECTION_KEY,\n  SESSION_STORAGE_RELOAD_AND_PROFILE_KEY,\n  SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n  __DEBUG__,\n} from '../constants';\nimport {\n  sessionStorageGetItem,\n  sessionStorageRemoveItem,\n  sessionStorageSetItem,\n} from 'react-devtools-shared/src/storage';\nimport setupHighlighter from './views/Highlighter';\nimport {\n  initialize as setupTraceUpdates,\n  toggleEnabled as setTraceUpdatesEnabled,\n} from './views/TraceUpdates';\nimport {patch as patchConsole} from './console';\nimport {currentBridgeProtocol} from 'react-devtools-shared/src/bridge';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {\n  InstanceAndStyle,\n  NativeType,\n  OwnersList,\n  PathFrame,\n  PathMatch,\n  RendererID,\n  RendererInterface,\n  ConsolePatchSettings,\n} from './types';\nimport type {\n  ComponentFilter,\n  BrowserTheme,\n} from 'react-devtools-shared/src/frontend/types';\nimport {isSynchronousXHRSupported} from './utils';\n\nconst debug = (methodName: string, ...args: Array<string>) => {\n  if (__DEBUG__) {\n    console.log(\n      `%cAgent %c${methodName}`,\n      'color: purple; font-weight: bold;',\n      'font-weight: bold;',\n      ...args,\n    );\n  }\n};\n\ntype ElementAndRendererID = {\n  id: number,\n  rendererID: number,\n};\n\ntype StoreAsGlobalParams = {\n  count: number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype CopyElementParams = {\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype InspectElementParams = {\n  forceFullData: boolean,\n  id: number,\n  path: Array<string | number> | null,\n  rendererID: number,\n  requestID: number,\n};\n\ntype OverrideHookParams = {\n  id: number,\n  hookID: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype SetInParams = {\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype RenamePathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  rendererID: number,\n};\n\ntype OverrideValueAtPathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  value: any,\n};\n\ntype OverrideErrorParams = {\n  id: number,\n  rendererID: number,\n  forceError: boolean,\n};\n\ntype OverrideSuspenseParams = {\n  id: number,\n  rendererID: number,\n  forceFallback: boolean,\n};\n\ntype PersistedSelection = {\n  rendererID: number,\n  path: Array<PathFrame>,\n};\n\nexport default class Agent extends EventEmitter<{\n  hideNativeHighlight: [],\n  showNativeHighlight: [NativeType],\n  startInspectingNative: [],\n  stopInspectingNative: [],\n  shutdown: [],\n  traceUpdates: [Set<NativeType>],\n  drawTraceUpdates: [Array<NativeType>],\n  disableTraceUpdates: [],\n}> {\n  _bridge: BackendBridge;\n  _isProfiling: boolean = false;\n  _recordChangeDescriptions: boolean = false;\n  _rendererInterfaces: {[key: RendererID]: RendererInterface, ...} = {};\n  _persistedSelection: PersistedSelection | null = null;\n  _persistedSelectionMatch: PathMatch | null = null;\n  _traceUpdatesEnabled: boolean = false;\n\n  constructor(bridge: BackendBridge) {\n    super();\n\n    if (\n      sessionStorageGetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY) === 'true'\n    ) {\n      this._recordChangeDescriptions =\n        sessionStorageGetItem(\n          SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n        ) === 'true';\n      this._isProfiling = true;\n\n      sessionStorageRemoveItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY);\n      sessionStorageRemoveItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY);\n    }\n\n    const persistedSelectionString = sessionStorageGetItem(\n      SESSION_STORAGE_LAST_SELECTION_KEY,\n    );\n    if (persistedSelectionString != null) {\n      this._persistedSelection = JSON.parse(persistedSelectionString);\n    }\n\n    this._bridge = bridge;\n\n    bridge.addListener('clearErrorsAndWarnings', this.clearErrorsAndWarnings);\n    bridge.addListener('clearErrorsForFiberID', this.clearErrorsForFiberID);\n    bridge.addListener('clearWarningsForFiberID', this.clearWarningsForFiberID);\n    bridge.addListener('copyElementPath', this.copyElementPath);\n    bridge.addListener('deletePath', this.deletePath);\n    bridge.addListener('getBackendVersion', this.getBackendVersion);\n    bridge.addListener('getBridgeProtocol', this.getBridgeProtocol);\n    bridge.addListener('getProfilingData', this.getProfilingData);\n    bridge.addListener('getProfilingStatus', this.getProfilingStatus);\n    bridge.addListener('getOwnersList', this.getOwnersList);\n    bridge.addListener('inspectElement', this.inspectElement);\n    bridge.addListener('logElementToConsole', this.logElementToConsole);\n    bridge.addListener('overrideError', this.overrideError);\n    bridge.addListener('overrideSuspense', this.overrideSuspense);\n    bridge.addListener('overrideValueAtPath', this.overrideValueAtPath);\n    bridge.addListener('reloadAndProfile', this.reloadAndProfile);\n    bridge.addListener('renamePath', this.renamePath);\n    bridge.addListener('setTraceUpdatesEnabled', this.setTraceUpdatesEnabled);\n    bridge.addListener('startProfiling', this.startProfiling);\n    bridge.addListener('stopProfiling', this.stopProfiling);\n    bridge.addListener('storeAsGlobal', this.storeAsGlobal);\n    bridge.addListener(\n      'syncSelectionFromNativeElementsPanel',\n      this.syncSelectionFromNativeElementsPanel,\n    );\n    bridge.addListener('shutdown', this.shutdown);\n    bridge.addListener(\n      'updateConsolePatchSettings',\n      this.updateConsolePatchSettings,\n    );\n    bridge.addListener('updateComponentFilters', this.updateComponentFilters);\n    bridge.addListener('viewAttributeSource', this.viewAttributeSource);\n    bridge.addListener('viewElementSource', this.viewElementSource);\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    bridge.addListener('overrideContext', this.overrideContext);\n    bridge.addListener('overrideHookState', this.overrideHookState);\n    bridge.addListener('overrideProps', this.overrideProps);\n    bridge.addListener('overrideState', this.overrideState);\n\n    if (this._isProfiling) {\n      bridge.send('profilingStatus', true);\n    }\n\n    // Send the Bridge protocol and backend versions, after initialization, in case the frontend has already requested it.\n    // The Store may be instantiated beore the agent.\n    const version = process.env.DEVTOOLS_VERSION;\n    if (version) {\n      this._bridge.send('backendVersion', version);\n    }\n    this._bridge.send('bridgeProtocol', currentBridgeProtocol);\n\n    // Notify the frontend if the backend supports the Storage API (e.g. localStorage).\n    // If not, features like reload-and-profile will not work correctly and must be disabled.\n    let isBackendStorageAPISupported = false;\n    try {\n      localStorage.getItem('test');\n      isBackendStorageAPISupported = true;\n    } catch (error) {}\n    bridge.send('isBackendStorageAPISupported', isBackendStorageAPISupported);\n    bridge.send('isSynchronousXHRSupported', isSynchronousXHRSupported());\n\n    setupHighlighter(bridge, this);\n    setupTraceUpdates(this);\n  }\n\n  get rendererInterfaces(): {[key: RendererID]: RendererInterface, ...} {\n    return this._rendererInterfaces;\n  }\n\n  clearErrorsAndWarnings: ({rendererID: RendererID}) => void = ({\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearErrorsAndWarnings();\n    }\n  };\n\n  clearErrorsForFiberID: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearErrorsForFiberID(id);\n    }\n  };\n\n  clearWarningsForFiberID: ElementAndRendererID => void = ({\n    id,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearWarningsForFiberID(id);\n    }\n  };\n\n  copyElementPath: CopyElementParams => void = ({\n    id,\n    path,\n    rendererID,\n  }: CopyElementParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      const value = renderer.getSerializedElementValueByPath(id, path);\n\n      if (value != null) {\n        this._bridge.send('saveToClipboard', value);\n      } else {\n        console.warn(`Unable to obtain serialized value for element \"${id}\"`);\n      }\n    }\n  };\n\n  deletePath: DeletePathParams => void = ({\n    hookID,\n    id,\n    path,\n    rendererID,\n    type,\n  }: DeletePathParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.deletePath(type, id, hookID, path);\n    }\n  };\n\n  getInstanceAndStyle({\n    id,\n    rendererID,\n  }: ElementAndRendererID): InstanceAndStyle | null {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n      return null;\n    }\n    return renderer.getInstanceAndStyle(id);\n  }\n\n  getBestMatchingRendererInterface(node: Object): RendererInterface | null {\n    let bestMatch = null;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      const fiber = renderer.getFiberForNative(node);\n      if (fiber !== null) {\n        // check if fiber.stateNode is matching the original hostInstance\n        if (fiber.stateNode === node) {\n          return renderer;\n        } else if (bestMatch === null) {\n          bestMatch = renderer;\n        }\n      }\n    }\n    // if an exact match is not found, return the first valid renderer as fallback\n    return bestMatch;\n  }\n\n  getIDForNode(node: Object): number | null {\n    const rendererInterface = this.getBestMatchingRendererInterface(node);\n    if (rendererInterface != null) {\n      try {\n        return rendererInterface.getFiberIDForNative(node, true);\n      } catch (error) {\n        // Some old React versions might throw if they can't find a match.\n        // If so we should ignore it...\n      }\n    }\n    return null;\n  }\n\n  getBackendVersion: () => void = () => {\n    const version = process.env.DEVTOOLS_VERSION;\n    if (version) {\n      this._bridge.send('backendVersion', version);\n    }\n  };\n\n  getBridgeProtocol: () => void = () => {\n    this._bridge.send('bridgeProtocol', currentBridgeProtocol);\n  };\n\n  getProfilingData: ({rendererID: RendererID}) => void = ({rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    }\n\n    this._bridge.send('profilingData', renderer.getProfilingData());\n  };\n\n  getProfilingStatus: () => void = () => {\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  getOwnersList: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      const owners = renderer.getOwnersList(id);\n      this._bridge.send('ownersList', ({id, owners}: OwnersList));\n    }\n  };\n\n  inspectElement: InspectElementParams => void = ({\n    forceFullData,\n    id,\n    path,\n    rendererID,\n    requestID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      this._bridge.send(\n        'inspectedElement',\n        renderer.inspectElement(requestID, id, path, forceFullData),\n      );\n\n      // When user selects an element, stop trying to restore the selection,\n      // and instead remember the current selection for the next reload.\n      if (\n        this._persistedSelectionMatch === null ||\n        this._persistedSelectionMatch.id !== id\n      ) {\n        this._persistedSelection = null;\n        this._persistedSelectionMatch = null;\n        renderer.setTrackedPath(null);\n        this._throttledPersistSelection(rendererID, id);\n      }\n\n      // TODO: If there was a way to change the selected DOM element\n      // in native Elements tab without forcing a switch to it, we'd do it here.\n      // For now, it doesn't seem like there is a way to do that:\n      // https://github.com/bvaughn/react-devtools-experimental/issues/102\n      // (Setting $0 doesn't work, and calling inspect() switches the tab.)\n    }\n  };\n\n  logElementToConsole: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.logElementToConsole(id);\n    }\n  };\n\n  overrideError: OverrideErrorParams => void = ({\n    id,\n    rendererID,\n    forceError,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideError(id, forceError);\n    }\n  };\n\n  overrideSuspense: OverrideSuspenseParams => void = ({\n    id,\n    rendererID,\n    forceFallback,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideSuspense(id, forceFallback);\n    }\n  };\n\n  overrideValueAtPath: OverrideValueAtPathParams => void = ({\n    hookID,\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideValueAtPath(type, id, hookID, path, value);\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideContext: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'context',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideHookState: OverrideHookParams => void = ({\n    id,\n    hookID,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'hooks',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideProps: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'props',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideState: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'state',\n        value,\n      });\n    }\n  };\n\n  reloadAndProfile: (recordChangeDescriptions: boolean) => void =\n    recordChangeDescriptions => {\n      sessionStorageSetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY, 'true');\n      sessionStorageSetItem(\n        SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n        recordChangeDescriptions ? 'true' : 'false',\n      );\n\n      // This code path should only be hit if the shell has explicitly told the Store that it supports profiling.\n      // In that case, the shell must also listen for this specific message to know when it needs to reload the app.\n      // The agent can't do this in a way that is renderer agnostic.\n      this._bridge.send('reloadAppForProfiling');\n    };\n\n  renamePath: RenamePathParams => void = ({\n    hookID,\n    id,\n    newPath,\n    oldPath,\n    rendererID,\n    type,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.renamePath(type, id, hookID, oldPath, newPath);\n    }\n  };\n\n  selectNode(target: Object): void {\n    const id = this.getIDForNode(target);\n    if (id !== null) {\n      this._bridge.send('selectFiber', id);\n    }\n  }\n\n  setRendererInterface(\n    rendererID: RendererID,\n    rendererInterface: RendererInterface,\n  ) {\n    this._rendererInterfaces[rendererID] = rendererInterface;\n\n    if (this._isProfiling) {\n      rendererInterface.startProfiling(this._recordChangeDescriptions);\n    }\n\n    rendererInterface.setTraceUpdatesEnabled(this._traceUpdatesEnabled);\n\n    // When the renderer is attached, we need to tell it whether\n    // we remember the previous selection that we'd like to restore.\n    // It'll start tracking mounts for matches to the last selection path.\n    const selection = this._persistedSelection;\n    if (selection !== null && selection.rendererID === rendererID) {\n      rendererInterface.setTrackedPath(selection.path);\n    }\n  }\n\n  setTraceUpdatesEnabled: (traceUpdatesEnabled: boolean) => void =\n    traceUpdatesEnabled => {\n      this._traceUpdatesEnabled = traceUpdatesEnabled;\n\n      setTraceUpdatesEnabled(traceUpdatesEnabled);\n\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        renderer.setTraceUpdatesEnabled(traceUpdatesEnabled);\n      }\n    };\n\n  syncSelectionFromNativeElementsPanel: () => void = () => {\n    const target = window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0;\n    if (target == null) {\n      return;\n    }\n    this.selectNode(target);\n  };\n\n  shutdown: () => void = () => {\n    // Clean up the overlay if visible, and associated events.\n    this.emit('shutdown');\n  };\n\n  startProfiling: (recordChangeDescriptions: boolean) => void =\n    recordChangeDescriptions => {\n      this._recordChangeDescriptions = recordChangeDescriptions;\n      this._isProfiling = true;\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        renderer.startProfiling(recordChangeDescriptions);\n      }\n      this._bridge.send('profilingStatus', this._isProfiling);\n    };\n\n  stopProfiling: () => void = () => {\n    this._isProfiling = false;\n    this._recordChangeDescriptions = false;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.stopProfiling();\n    }\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  stopInspectingNative: (selected: boolean) => void = selected => {\n    this._bridge.send('stopInspectingNative', selected);\n  };\n\n  storeAsGlobal: StoreAsGlobalParams => void = ({\n    count,\n    id,\n    path,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.storeAsGlobal(id, path, count);\n    }\n  };\n\n  updateConsolePatchSettings: ({\n    appendComponentStack: boolean,\n    breakOnConsoleErrors: boolean,\n    browserTheme: BrowserTheme,\n    hideConsoleLogsInStrictMode: boolean,\n    showInlineWarningsAndErrors: boolean,\n  }) => void = ({\n    appendComponentStack,\n    breakOnConsoleErrors,\n    showInlineWarningsAndErrors,\n    hideConsoleLogsInStrictMode,\n    browserTheme,\n  }: ConsolePatchSettings) => {\n    // If the frontend preferences have changed,\n    // or in the case of React Native- if the backend is just finding out the preferences-\n    // then reinstall the console overrides.\n    // It's safe to call `patchConsole` multiple times.\n    patchConsole({\n      appendComponentStack,\n      breakOnConsoleErrors,\n      showInlineWarningsAndErrors,\n      hideConsoleLogsInStrictMode,\n      browserTheme,\n    });\n  };\n\n  updateComponentFilters: (componentFilters: Array<ComponentFilter>) => void =\n    componentFilters => {\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        renderer.updateComponentFilters(componentFilters);\n      }\n    };\n\n  viewAttributeSource: CopyElementParams => void = ({id, path, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.prepareViewAttributeSource(id, path);\n    }\n  };\n\n  viewElementSource: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.prepareViewElementSource(id);\n    }\n  };\n\n  onTraceUpdates: (nodes: Set<NativeType>) => void = nodes => {\n    this.emit('traceUpdates', nodes);\n  };\n\n  onFastRefreshScheduled: () => void = () => {\n    if (__DEBUG__) {\n      debug('onFastRefreshScheduled');\n    }\n\n    this._bridge.send('fastRefreshScheduled');\n  };\n\n  onHookOperations: (operations: Array<number>) => void = operations => {\n    if (__DEBUG__) {\n      debug(\n        'onHookOperations',\n        `(${operations.length}) [${operations.join(', ')}]`,\n      );\n    }\n\n    // TODO:\n    // The chrome.runtime does not currently support transferables; it forces JSON serialization.\n    // See bug https://bugs.chromium.org/p/chromium/issues/detail?id=927134\n    //\n    // Regarding transferables, the postMessage doc states:\n    // If the ownership of an object is transferred, it becomes unusable (neutered)\n    // in the context it was sent from and becomes available only to the worker it was sent to.\n    //\n    // Even though Chrome is eventually JSON serializing the array buffer,\n    // using the transferable approach also sometimes causes it to throw:\n    //   DOMException: Failed to execute 'postMessage' on 'Window': ArrayBuffer at index 0 is already neutered.\n    //\n    // See bug https://github.com/bvaughn/react-devtools-experimental/issues/25\n    //\n    // The Store has a fallback in place that parses the message as JSON if the type isn't an array.\n    // For now the simplest fix seems to be to not transfer the array.\n    // This will negatively impact performance on Firefox so it's unfortunate,\n    // but until we're able to fix the Chrome error mentioned above, it seems necessary.\n    //\n    // this._bridge.send('operations', operations, [operations.buffer]);\n    this._bridge.send('operations', operations);\n\n    if (this._persistedSelection !== null) {\n      const rendererID = operations[0];\n      if (this._persistedSelection.rendererID === rendererID) {\n        // Check if we can select a deeper match for the persisted selection.\n        const renderer = this._rendererInterfaces[rendererID];\n        if (renderer == null) {\n          console.warn(`Invalid renderer id \"${rendererID}\"`);\n        } else {\n          const prevMatch = this._persistedSelectionMatch;\n          const nextMatch = renderer.getBestMatchForTrackedPath();\n          this._persistedSelectionMatch = nextMatch;\n          const prevMatchID = prevMatch !== null ? prevMatch.id : null;\n          const nextMatchID = nextMatch !== null ? nextMatch.id : null;\n          if (prevMatchID !== nextMatchID) {\n            if (nextMatchID !== null) {\n              // We moved forward, unlocking a deeper node.\n              this._bridge.send('selectFiber', nextMatchID);\n            }\n          }\n          if (nextMatch !== null && nextMatch.isFullMatch) {\n            // We've just unlocked the innermost selected node.\n            // There's no point tracking it further.\n            this._persistedSelection = null;\n            this._persistedSelectionMatch = null;\n            renderer.setTrackedPath(null);\n          }\n        }\n      }\n    }\n  };\n\n  onUnsupportedRenderer(rendererID: number) {\n    this._bridge.send('unsupportedRendererVersion', rendererID);\n  }\n\n  _throttledPersistSelection: any = throttle(\n    (rendererID: number, id: number) => {\n      // This is throttled, so both renderer and selected ID\n      // might not be available by the time we read them.\n      // This is why we need the defensive checks here.\n      const renderer = this._rendererInterfaces[rendererID];\n      const path = renderer != null ? renderer.getPathForElement(id) : null;\n      if (path !== null) {\n        sessionStorageSetItem(\n          SESSION_STORAGE_LAST_SELECTION_KEY,\n          JSON.stringify(({rendererID, path}: PersistedSelection)),\n        );\n      } else {\n        sessionStorageRemoveItem(SESSION_STORAGE_LAST_SELECTION_KEY);\n      }\n    },\n    1000,\n  );\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {InternalInstance} from './renderer';\n\nexport function decorate(object: Object, attr: string, fn: Function): Function {\n  const old = object[attr];\n  // $FlowFixMe[missing-this-annot] webpack config needs to be updated to allow `this` type annotations\n  object[attr] = function (instance: InternalInstance) {\n    return fn.call(this, old, arguments);\n  };\n  return old;\n}\n\nexport function decorateMany(\n  source: Object,\n  fns: {[attr: string]: Function, ...},\n): Object {\n  const olds: {[string]: $FlowFixMe} = {};\n  for (const name in fns) {\n    olds[name] = decorate(source, name, fns[name]);\n  }\n  return olds;\n}\n\nexport function restoreMany(source: Object, olds: Object): void {\n  for (const name in olds) {\n    source[name] = olds[name];\n  }\n}\n\n// $FlowFixMe[missing-this-annot] webpack config needs to be updated to allow `this` type annotations\nexport function forceUpdate(instance: InternalInstance): void {\n  if (typeof instance.forceUpdate === 'function') {\n    instance.forceUpdate();\n  } else if (\n    instance.updater != null &&\n    typeof instance.updater.enqueueForceUpdate === 'function'\n  ) {\n    instance.updater.enqueueForceUpdate(this, () => {}, 'forceUpdate');\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  ElementTypeClass,\n  ElementTypeFunction,\n  ElementTypeRoot,\n  ElementTypeHostComponent,\n  ElementTypeOtherOrUnknown,\n} from 'react-devtools-shared/src/frontend/types';\nimport {getUID, utfEncodeString, printOperationsArray} from '../../utils';\nimport {\n  cleanForBridge,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n  serializeToString,\n} from '../utils';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getInObject,\n  renamePathInObject,\n  setInObject,\n} from 'react-devtools-shared/src/utils';\nimport {\n  __DEBUG__,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REORDER_CHILDREN,\n} from '../../constants';\nimport {decorateMany, forceUpdate, restoreMany} from './utils';\n\nimport type {\n  DevToolsHook,\n  GetFiberIDForNative,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  NativeType,\n  PathFrame,\n  PathMatch,\n  RendererInterface,\n} from '../types';\nimport type {\n  ComponentFilter,\n  ElementType,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {InspectedElement, SerializedElement} from '../types';\n\nexport type InternalInstance = Object;\ntype LegacyRenderer = Object;\n\nfunction getData(internalInstance: InternalInstance) {\n  let displayName = null;\n  let key = null;\n\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    if (internalInstance._currentElement.key) {\n      key = String(internalInstance._currentElement.key);\n    }\n\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'string') {\n      displayName = elementType;\n    } else if (typeof elementType === 'function') {\n      displayName = getDisplayName(elementType);\n    }\n  }\n\n  return {\n    displayName,\n    key,\n  };\n}\n\nfunction getElementType(internalInstance: InternalInstance): ElementType {\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'function') {\n      const publicInstance = internalInstance.getPublicInstance();\n      if (publicInstance !== null) {\n        return ElementTypeClass;\n      } else {\n        return ElementTypeFunction;\n      }\n    } else if (typeof elementType === 'string') {\n      return ElementTypeHostComponent;\n    }\n  }\n  return ElementTypeOtherOrUnknown;\n}\n\nfunction getChildren(internalInstance: Object): Array<any> {\n  const children = [];\n\n  // If the parent is a native node without rendered children, but with\n  // multiple string children, then the `element` that gets passed in here is\n  // a plain value -- a string or number.\n  if (typeof internalInstance !== 'object') {\n    // No children\n  } else if (\n    internalInstance._currentElement === null ||\n    internalInstance._currentElement === false\n  ) {\n    // No children\n  } else if (internalInstance._renderedComponent) {\n    const child = internalInstance._renderedComponent;\n    if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n      children.push(child);\n    }\n  } else if (internalInstance._renderedChildren) {\n    const renderedChildren = internalInstance._renderedChildren;\n    for (const name in renderedChildren) {\n      const child = renderedChildren[name];\n      if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n        children.push(child);\n      }\n    }\n  }\n  // Note: we skip the case where children are just strings or numbers\n  // because the new DevTools skips over host text nodes anyway.\n  return children;\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: LegacyRenderer,\n  global: Object,\n): RendererInterface {\n  const idToInternalInstanceMap: Map<number, InternalInstance> = new Map();\n  const internalInstanceToIDMap: WeakMap<InternalInstance, number> =\n    new WeakMap();\n  const internalInstanceToRootIDMap: WeakMap<InternalInstance, number> =\n    new WeakMap();\n\n  let getInternalIDForNative: GetFiberIDForNative =\n    ((null: any): GetFiberIDForNative);\n  let findNativeNodeForInternalID: (id: number) => ?NativeType;\n  let getFiberForNative = (node: NativeType) => {\n    // Not implemented.\n    return null;\n  };\n\n  if (renderer.ComponentTree) {\n    getInternalIDForNative = (node, findNearestUnfilteredAncestor) => {\n      const internalInstance =\n        renderer.ComponentTree.getClosestInstanceFromNode(node);\n      return internalInstanceToIDMap.get(internalInstance) || null;\n    };\n    findNativeNodeForInternalID = (id: number) => {\n      const internalInstance = idToInternalInstanceMap.get(id);\n      return renderer.ComponentTree.getNodeFromInstance(internalInstance);\n    };\n    getFiberForNative = (node: NativeType) => {\n      return renderer.ComponentTree.getClosestInstanceFromNode(node);\n    };\n  } else if (renderer.Mount.getID && renderer.Mount.getNode) {\n    getInternalIDForNative = (node, findNearestUnfilteredAncestor) => {\n      // Not implemented.\n      return null;\n    };\n    findNativeNodeForInternalID = (id: number) => {\n      // Not implemented.\n      return null;\n    };\n  }\n\n  function getDisplayNameForFiberID(id: number): string | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    return internalInstance ? getData(internalInstance).displayName : null;\n  }\n\n  function getID(internalInstance: InternalInstance): number {\n    if (typeof internalInstance !== 'object' || internalInstance === null) {\n      throw new Error('Invalid internal instance: ' + internalInstance);\n    }\n    if (!internalInstanceToIDMap.has(internalInstance)) {\n      const id = getUID();\n      internalInstanceToIDMap.set(internalInstance, id);\n      idToInternalInstanceMap.set(id, internalInstance);\n    }\n    return ((internalInstanceToIDMap.get(internalInstance): any): number);\n  }\n\n  function areEqualArrays(a: Array<any>, b: Array<any>) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // This is shared mutable state that lets us keep track of where we are.\n  let parentIDStack = [];\n\n  let oldReconcilerMethods = null;\n  if (renderer.Reconciler) {\n    // React 15\n    oldReconcilerMethods = decorateMany(renderer.Reconciler, {\n      mountComponent(fn, args) {\n        const internalInstance = args[0];\n        const hostContainerInfo = args[3];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n        if (hostContainerInfo._topLevelWrapper === undefined) {\n          // SSR\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        // Push the operation.\n        const parentID =\n          parentIDStack.length > 0\n            ? parentIDStack[parentIDStack.length - 1]\n            : 0;\n        recordMount(internalInstance, id, parentID);\n        parentIDStack.push(id);\n\n        // Remember the root.\n        internalInstanceToRootIDMap.set(\n          internalInstance,\n          getID(hostContainerInfo._topLevelWrapper),\n        );\n\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      performUpdateIfNecessary(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      receiveComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      unmountComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n\n          // Push the operation.\n          recordUnmount(internalInstance, id);\n\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n    });\n  }\n\n  function cleanup() {\n    if (oldReconcilerMethods !== null) {\n      if (renderer.Component) {\n        restoreMany(renderer.Component.Mixin, oldReconcilerMethods);\n      } else {\n        restoreMany(renderer.Reconciler, oldReconcilerMethods);\n      }\n    }\n    oldReconcilerMethods = null;\n  }\n\n  function recordMount(\n    internalInstance: InternalInstance,\n    id: number,\n    parentID: number,\n  ) {\n    const isRoot = parentID === 0;\n\n    if (__DEBUG__) {\n      console.log(\n        '%crecordMount()',\n        'color: green; font-weight: bold;',\n        id,\n        getData(internalInstance).displayName,\n      );\n    }\n\n    if (isRoot) {\n      // TODO Is this right? For all versions?\n      const hasOwnerMetadata =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null;\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation(0); // StrictMode compliant?\n      pushOperation(0); // Profiling flag\n      pushOperation(0); // StrictMode supported?\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n    } else {\n      const type = getElementType(internalInstance);\n      const {displayName, key} = getData(internalInstance);\n\n      const ownerID =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null\n          ? getID(internalInstance._currentElement._owner)\n          : 0;\n\n      const displayNameStringID = getStringID(displayName);\n      const keyStringID = getStringID(key);\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(type);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n    }\n  }\n\n  function recordReorder(\n    internalInstance: InternalInstance,\n    id: number,\n    nextChildren: Array<InternalInstance>,\n  ) {\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(id);\n    const nextChildIDs = nextChildren.map(getID);\n    pushOperation(nextChildIDs.length);\n    for (let i = 0; i < nextChildIDs.length; i++) {\n      pushOperation(nextChildIDs[i]);\n    }\n  }\n\n  function recordUnmount(internalInstance: InternalInstance, id: number) {\n    pendingUnmountedIDs.push(id);\n    idToInternalInstanceMap.delete(id);\n  }\n\n  function crawlAndRecordInitialMounts(\n    id: number,\n    parentID: number,\n    rootID: number,\n  ) {\n    if (__DEBUG__) {\n      console.group('crawlAndRecordInitialMounts() id:', id);\n    }\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      internalInstanceToRootIDMap.set(internalInstance, rootID);\n      recordMount(internalInstance, id, parentID);\n      getChildren(internalInstance).forEach(child =>\n        crawlAndRecordInitialMounts(getID(child), id, rootID),\n      );\n    }\n\n    if (__DEBUG__) {\n      console.groupEnd();\n    }\n  }\n\n  function flushInitialOperations() {\n    // Crawl roots though and register any nodes that mounted before we were injected.\n\n    const roots =\n      renderer.Mount._instancesByReactRootID ||\n      renderer.Mount._instancesByContainerID;\n\n    for (const key in roots) {\n      const internalInstance = roots[key];\n      const id = getID(internalInstance);\n      crawlAndRecordInitialMounts(id, 0, id);\n      flushPendingEvents(id);\n    }\n  }\n\n  const pendingOperations: Array<number> = [];\n  const pendingStringTable: Map<string, number> = new Map();\n  let pendingUnmountedIDs: Array<number> = [];\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function flushPendingEvents(rootID: number) {\n    if (\n      pendingOperations.length === 0 &&\n      pendingUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    ) {\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingUnmountedIDs.length + (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array<number>(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n        // How big is the string table?\n        1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Mount operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber properations, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    operations[i++] = rootID;\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((value, key) => {\n      operations[i++] = key.length;\n      const encodedKey = utfEncodeString(key);\n      for (let j = 0; j < encodedKey.length; j++) {\n        operations[i + j] = encodedKey[j];\n      }\n      i += key.length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the unmounts\n      for (let j = 0; j < pendingUnmountedIDs.length; j++) {\n        operations[i++] = pendingUnmountedIDs[j];\n      }\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    if (__DEBUG__) {\n      printOperationsArray(operations);\n    }\n\n    // If we've already connected to the frontend, just pass the operations through.\n    hook.emit('operations', operations);\n\n    pendingOperations.length = 0;\n    pendingUnmountedIDs = [];\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function getStringID(str: string | null): number {\n    if (str === null) {\n      return 0;\n    }\n    const existingID = pendingStringTable.get(str);\n    if (existingID !== undefined) {\n      return existingID;\n    }\n    const stringID = pendingStringTable.size + 1;\n    pendingStringTable.set(str, stringID);\n    // The string table total length needs to account\n    // both for the string length, and for the array item\n    // that contains the length itself. Hence + 1.\n    pendingStringTableLength += str.length + 1;\n    return stringID;\n  }\n\n  let currentlyInspectedElementID: number | null = null;\n  let currentlyInspectedPaths: Object = {};\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(key: string) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      let current = currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  // Fast path props lookup for React Native style editor.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      instance = internalInstance._instance || null;\n\n      const element = internalInstance._currentElement;\n      if (element != null && element.props != null) {\n        style = element.props.style || null;\n      }\n    }\n\n    return {\n      instance,\n      style,\n    };\n  }\n\n  function updateSelectedElement(id: number): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return;\n    }\n\n    switch (getElementType(internalInstance)) {\n      case ElementTypeClass:\n        global.$r = internalInstance._instance;\n        break;\n      case ElementTypeFunction:\n        const element = internalInstance._currentElement;\n        if (element == null) {\n          console.warn(`Could not find element with id \"${id}\"`);\n          return;\n        }\n\n        global.$r = {\n          props: element.props,\n          type: element.type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      const value = getInObject(inspectedElement, path);\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function getSerializedElementValueByPath(\n    id: number,\n    path: Array<string | number>,\n  ): ?string {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      const valueToCopy = getInObject(inspectedElement, path);\n\n      return serializeToString(valueToCopy);\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n    forceFullData: boolean,\n  ): InspectedElementPayload {\n    if (forceFullData || currentlyInspectedElementID !== id) {\n      currentlyInspectedElementID = id;\n      currentlyInspectedPaths = {};\n    }\n\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehydration (cleanForBridge).\n    updateSelectedElement(id);\n\n    inspectedElement.context = cleanForBridge(\n      inspectedElement.context,\n      createIsPathAllowed('context'),\n    );\n    inspectedElement.props = cleanForBridge(\n      inspectedElement.props,\n      createIsPathAllowed('props'),\n    );\n    inspectedElement.state = cleanForBridge(\n      inspectedElement.state,\n      createIsPathAllowed('state'),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      value: inspectedElement,\n    };\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n\n    if (internalInstance == null) {\n      return null;\n    }\n\n    const {displayName, key} = getData(internalInstance);\n    const type = getElementType(internalInstance);\n\n    let context = null;\n    let owners = null;\n    let props = null;\n    let state = null;\n\n    const element = internalInstance._currentElement;\n    if (element !== null) {\n      props = element.props;\n\n      let owner = element._owner;\n      if (owner) {\n        owners = ([]: Array<SerializedElement>);\n        while (owner != null) {\n          owners.push({\n            displayName: getData(owner).displayName || 'Unknown',\n            id: getID(owner),\n            key: element.key,\n            type: getElementType(owner),\n          });\n          if (owner._currentElement) {\n            owner = owner._currentElement._owner;\n          }\n        }\n      }\n    }\n\n    const publicInstance = internalInstance._instance;\n    if (publicInstance != null) {\n      context = publicInstance.context || null;\n      state = publicInstance.state || null;\n    }\n\n    // Not implemented\n    const errors: Array<[string, number]> = [];\n    const warnings: Array<[string, number]> = [];\n\n    return {\n      id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: false,\n      canEditFunctionProps: false,\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths: false,\n      canEditHooksAndRenamePaths: false,\n      canEditFunctionPropsDeletePaths: false,\n      canEditFunctionPropsRenamePaths: false,\n\n      // Toggle error boundary did not exist in legacy versions\n      canToggleError: false,\n      isErrored: false,\n      targetErrorBoundaryID: null,\n\n      // Suspense did not exist in legacy versions\n      canToggleSuspense: false,\n\n      // Can view component source location.\n      canViewSource: type === ElementTypeClass || type === ElementTypeFunction,\n      source: null,\n\n      // Only legacy context exists in legacy versions.\n      hasLegacyContext: true,\n\n      displayName: displayName,\n\n      type: type,\n\n      key: key != null ? key : null,\n\n      // Inspectable properties.\n      context,\n      hooks: null,\n      props,\n      state,\n      errors,\n      warnings,\n\n      // List of owners\n      owners,\n\n      rootType: null,\n      rendererPackageName: null,\n      rendererVersion: null,\n\n      plugins: {\n        stylex: null,\n      },\n    };\n  }\n\n  function logElementToConsole(id: number): void {\n    const result = inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return;\n    }\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${result.displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.context !== null) {\n      console.log('Context:', result.context);\n    }\n    const nativeNode = findNativeNodeForInternalID(id);\n    if (nativeNode !== null) {\n      console.log('Node:', nativeNode);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function prepareViewAttributeSource(\n    id: number,\n    path: Array<string | number>,\n  ): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      window.$attribute = getInObject(inspectedElement, path);\n    }\n  }\n\n  function prepareViewElementSource(id: number): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return;\n    }\n\n    const element = internalInstance._currentElement;\n    if (element == null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return;\n    }\n\n    global.$type = element.type;\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            deletePathInObject(publicInstance.context, path);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithDelete(element.props, path),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            deletePathInObject(publicInstance.state, path);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            renamePathInObject(publicInstance.context, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithRename(element.props, oldPath, newPath),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            renamePathInObject(publicInstance.state, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            setInObject(publicInstance.context, path, value);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithSet(element.props, path, value),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            setInObject(publicInstance.state, path, value);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  // v16+ only features\n  const getProfilingData = () => {\n    throw new Error('getProfilingData not supported by this renderer');\n  };\n  const handleCommitFiberRoot = () => {\n    throw new Error('handleCommitFiberRoot not supported by this renderer');\n  };\n  const handleCommitFiberUnmount = () => {\n    throw new Error('handleCommitFiberUnmount not supported by this renderer');\n  };\n  const handlePostCommitFiberRoot = () => {\n    throw new Error('handlePostCommitFiberRoot not supported by this renderer');\n  };\n  const overrideError = () => {\n    throw new Error('overrideError not supported by this renderer');\n  };\n  const overrideSuspense = () => {\n    throw new Error('overrideSuspense not supported by this renderer');\n  };\n  const startProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n  const stopProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    // Not implemented.\n    return null;\n  }\n\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    // Not implemented.\n  }\n\n  function setTraceUpdatesEnabled(enabled: boolean) {\n    // Not implemented.\n  }\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    // Not implemented.\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function clearErrorsAndWarnings() {\n    // Not implemented\n  }\n\n  function clearErrorsForFiberID(id: number) {\n    // Not implemented\n  }\n\n  function clearWarningsForFiberID(id: number) {\n    // Not implemented\n  }\n\n  function patchConsoleForStrictMode() {}\n\n  function unpatchConsoleForStrictMode() {}\n\n  function hasFiberWithId(id: number): boolean {\n    return idToInternalInstanceMap.has(id);\n  }\n\n  return {\n    clearErrorsAndWarnings,\n    clearErrorsForFiberID,\n    clearWarningsForFiberID,\n    cleanup,\n    getSerializedElementValueByPath,\n    deletePath,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getDisplayNameForFiberID,\n    getFiberForNative,\n    getFiberIDForNative: getInternalIDForNative,\n    getInstanceAndStyle,\n    findNativeNodesForFiberID: (id: number) => {\n      const nativeNode = findNativeNodeForInternalID(id);\n      return nativeNode == null ? null : [nativeNode];\n    },\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    hasFiberWithId,\n    inspectElement,\n    logElementToConsole,\n    overrideError,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    patchConsoleForStrictMode,\n    prepareViewAttributeSource,\n    prepareViewElementSource,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    unpatchConsoleForStrictMode,\n    updateComponentFilters,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from './agent';\n\nimport {attach} from './renderer';\nimport {attach as attachLegacy} from './legacy/renderer';\nimport {hasAssignedBackend} from './utils';\n\nimport type {DevToolsHook, ReactRenderer, RendererInterface} from './types';\n\n// this is the backend that is compatible with all older React versions\nfunction isMatchingRender(version: string): boolean {\n  return !hasAssignedBackend(version);\n}\n\nexport type InitBackend = typeof initBackend;\n\nexport function initBackend(\n  hook: DevToolsHook,\n  agent: Agent,\n  global: Object,\n): () => void {\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return () => {};\n  }\n\n  const subs = [\n    hook.sub(\n      'renderer-attached',\n      ({\n        id,\n        renderer,\n        rendererInterface,\n      }: {\n        id: number,\n        renderer: ReactRenderer,\n        rendererInterface: RendererInterface,\n        ...\n      }) => {\n        agent.setRendererInterface(id, rendererInterface);\n\n        // Now that the Store and the renderer interface are connected,\n        // it's time to flush the pending operation codes to the frontend.\n        rendererInterface.flushInitialOperations();\n      },\n    ),\n\n    hook.sub('unsupported-renderer-version', (id: number) => {\n      agent.onUnsupportedRenderer(id);\n    }),\n\n    hook.sub('fastRefreshScheduled', agent.onFastRefreshScheduled),\n    hook.sub('operations', agent.onHookOperations),\n    hook.sub('traceUpdates', agent.onTraceUpdates),\n\n    // TODO Add additional subscriptions required for profiling mode\n  ];\n\n  const attachRenderer = (id: number, renderer: ReactRenderer) => {\n    // only attach if the renderer is compatible with the current version of the backend\n    if (!isMatchingRender(renderer.reconcilerVersion || renderer.version)) {\n      return;\n    }\n    let rendererInterface = hook.rendererInterfaces.get(id);\n\n    // Inject any not-yet-injected renderers (if we didn't reload-and-profile)\n    if (rendererInterface == null) {\n      if (typeof renderer.findFiberByHostInstance === 'function') {\n        // react-reconciler v16+\n        rendererInterface = attach(hook, id, renderer, global);\n      } else if (renderer.ComponentTree) {\n        // react-dom v15\n        rendererInterface = attachLegacy(hook, id, renderer, global);\n      } else {\n        // Older react-dom or other unsupported renderer version\n      }\n\n      if (rendererInterface != null) {\n        hook.rendererInterfaces.set(id, rendererInterface);\n      }\n    }\n\n    // Notify the DevTools frontend about new renderers.\n    // This includes any that were attached early (via __REACT_DEVTOOLS_ATTACH__).\n    if (rendererInterface != null) {\n      hook.emit('renderer-attached', {\n        id,\n        renderer,\n        rendererInterface,\n      });\n    } else {\n      hook.emit('unsupported-renderer-version', id);\n    }\n  };\n\n  // Connect renderers that have already injected themselves.\n  hook.renderers.forEach((renderer, id) => {\n    attachRenderer(id, renderer);\n  });\n\n  // Connect any new renderers that injected themselves.\n  subs.push(\n    hook.sub(\n      'renderer',\n      ({id, renderer}: {id: number, renderer: ReactRenderer, ...}) => {\n        attachRenderer(id, renderer);\n      },\n    ),\n  );\n\n  hook.emit('react-devtools', agent);\n  hook.reactDevtoolsAgent = agent;\n  const onAgentShutdown = () => {\n    subs.forEach(fn => fn());\n    hook.rendererInterfaces.forEach(rendererInterface => {\n      rendererInterface.cleanup();\n    });\n    hook.reactDevtoolsAgent = null;\n  };\n  agent.addListener('shutdown', onAgentShutdown);\n  subs.push(() => {\n    agent.removeListener('shutdown', onAgentShutdown);\n  });\n\n  return () => {\n    subs.forEach(fn => fn());\n  };\n}\n","/**\n * Install the hook on window, which is an event emitter.\n * Note: this global hook __REACT_DEVTOOLS_GLOBAL_HOOK__ is a de facto public API.\n * It's especially important to avoid creating direct dependency on the DevTools Backend.\n * That's why we still inline the whole event emitter implementation,\n * the string format implementation, and part of the console implementation here.\n *\n * @flow\n */\n\nimport type {\n  DevToolsHook,\n  Handler,\n  ReactRenderer,\n  RendererID,\n  RendererInterface,\n  DevToolsBackend,\n} from './backend/types';\n\nimport {\n  FIREFOX_CONSOLE_DIMMING_COLOR,\n  ANSI_STYLE_DIMMING_TEMPLATE,\n} from 'react-devtools-shared/src/constants';\n\ndeclare var window: any;\n\nexport function installHook(target: any): DevToolsHook | null {\n  if (target.hasOwnProperty('__REACT_DEVTOOLS_GLOBAL_HOOK__')) {\n    return null;\n  }\n\n  let targetConsole: Object = console;\n  let targetConsoleMethods: {[string]: $FlowFixMe} = {};\n  for (const method in console) {\n    targetConsoleMethods[method] = console[method];\n  }\n\n  function dangerous_setTargetConsoleForTesting(\n    targetConsoleForTesting: Object,\n  ): void {\n    targetConsole = targetConsoleForTesting;\n\n    targetConsoleMethods = ({}: {[string]: $FlowFixMe});\n    for (const method in targetConsole) {\n      targetConsoleMethods[method] = console[method];\n    }\n  }\n\n  function detectReactBuildType(renderer: ReactRenderer) {\n    try {\n      if (typeof renderer.version === 'string') {\n        // React DOM Fiber (16+)\n        if (renderer.bundleType > 0) {\n          // This is not a production build.\n          // We are currently only using 0 (PROD) and 1 (DEV)\n          // but might add 2 (PROFILE) in the future.\n          return 'development';\n        }\n\n        // React 16 uses flat bundles. If we report the bundle as production\n        // version, it means we also minified and envified it ourselves.\n        return 'production';\n        // Note: There is still a risk that the CommonJS entry point has not\n        // been envified or uglified. In this case the user would have *both*\n        // development and production bundle, but only the prod one would run.\n        // This would be really bad. We have a separate check for this because\n        // it happens *outside* of the renderer injection. See `checkDCE` below.\n      }\n\n      // $FlowFixMe[method-unbinding]\n      const toString = Function.prototype.toString;\n      if (renderer.Mount && renderer.Mount._renderNewRootComponent) {\n        // React DOM Stack\n        const renderRootCode = toString.call(\n          renderer.Mount._renderNewRootComponent,\n        );\n        // Filter out bad results (if that is even possible):\n        if (renderRootCode.indexOf('function') !== 0) {\n          // Hope for the best if we're not sure.\n          return 'production';\n        }\n        // Check for React DOM Stack < 15.1.0 in development.\n        // If it contains \"storedMeasure\" call, it's wrapped in ReactPerf (DEV only).\n        // This would be true even if it's minified, as method name still matches.\n        if (renderRootCode.indexOf('storedMeasure') !== -1) {\n          return 'development';\n        }\n        // For other versions (and configurations) it's not so easy.\n        // Let's quickly exclude proper production builds.\n        // If it contains a warning message, it's either a DEV build,\n        // or an PROD build without proper dead code elimination.\n        if (renderRootCode.indexOf('should be a pure function') !== -1) {\n          // Now how do we tell a DEV build from a bad PROD build?\n          // If we see NODE_ENV, we're going to assume this is a dev build\n          // because most likely it is referring to an empty shim.\n          if (renderRootCode.indexOf('NODE_ENV') !== -1) {\n            return 'development';\n          }\n          // If we see \"development\", we're dealing with an envified DEV build\n          // (such as the official React DEV UMD).\n          if (renderRootCode.indexOf('development') !== -1) {\n            return 'development';\n          }\n          // I've seen process.env.NODE_ENV !== 'production' being smartly\n          // replaced by `true` in DEV by Webpack. I don't know how that\n          // works but we can safely guard against it because `true` was\n          // never used in the function source since it was written.\n          if (renderRootCode.indexOf('true') !== -1) {\n            return 'development';\n          }\n          // By now either it is a production build that has not been minified,\n          // or (worse) this is a minified development build using non-standard\n          // environment (e.g. \"staging\"). We're going to look at whether\n          // the function argument name is mangled:\n          if (\n            // 0.13 to 15\n            renderRootCode.indexOf('nextElement') !== -1 ||\n            // 0.12\n            renderRootCode.indexOf('nextComponent') !== -1\n          ) {\n            // We can't be certain whether this is a development build or not,\n            // but it is definitely unminified.\n            return 'unminified';\n          } else {\n            // This is likely a minified development build.\n            return 'development';\n          }\n        }\n        // By now we know that it's envified and dead code elimination worked,\n        // but what if it's still not minified? (Is this even possible?)\n        // Let's check matches for the first argument name.\n        if (\n          // 0.13 to 15\n          renderRootCode.indexOf('nextElement') !== -1 ||\n          // 0.12\n          renderRootCode.indexOf('nextComponent') !== -1\n        ) {\n          return 'unminified';\n        }\n        // Seems like we're using the production version.\n        // However, the branch above is Stack-only so this is 15 or earlier.\n        return 'outdated';\n      }\n    } catch (err) {\n      // Weird environments may exist.\n      // This code needs a higher fault tolerance\n      // because it runs even with closed DevTools.\n      // TODO: should we catch errors in all injected code, and not just this part?\n    }\n    return 'production';\n  }\n\n  function checkDCE(fn: Function) {\n    // This runs for production versions of React.\n    // Needs to be super safe.\n    try {\n      // $FlowFixMe[method-unbinding]\n      const toString = Function.prototype.toString;\n      const code = toString.call(fn);\n\n      // This is a string embedded in the passed function under DEV-only\n      // condition. However the function executes only in PROD. Therefore,\n      // if we see it, dead code elimination did not work.\n      if (code.indexOf('^_^') > -1) {\n        // Remember to report during next injection.\n        hasDetectedBadDCE = true;\n\n        // Bonus: throw an exception hoping that it gets picked up by a reporting system.\n        // Not synchronously so that it doesn't break the calling code.\n        setTimeout(function () {\n          throw new Error(\n            'React is running in production mode, but dead code ' +\n              'elimination has not been applied. Read how to correctly ' +\n              'configure React for production: ' +\n              'https://react.dev/link/perf-use-production-build',\n          );\n        });\n      }\n    } catch (err) {}\n  }\n\n  // NOTE: KEEP IN SYNC with src/backend/utils.js\n  function formatWithStyles(\n    inputArgs: $ReadOnlyArray<any>,\n    style?: string,\n  ): $ReadOnlyArray<any> {\n    if (\n      inputArgs === undefined ||\n      inputArgs === null ||\n      inputArgs.length === 0 ||\n      // Matches any of %c but not %%c\n      (typeof inputArgs[0] === 'string' &&\n        inputArgs[0].match(/([^%]|^)(%c)/g)) ||\n      style === undefined\n    ) {\n      return inputArgs;\n    }\n\n    // Matches any of %(o|O|d|i|s|f), but not %%(o|O|d|i|s|f)\n    const REGEXP = /([^%]|^)((%%)*)(%([oOdisf]))/g;\n    if (typeof inputArgs[0] === 'string' && inputArgs[0].match(REGEXP)) {\n      return [`%c${inputArgs[0]}`, style, ...inputArgs.slice(1)];\n    } else {\n      const firstArg = inputArgs.reduce((formatStr, elem, i) => {\n        if (i > 0) {\n          formatStr += ' ';\n        }\n        switch (typeof elem) {\n          case 'string':\n          case 'boolean':\n          case 'symbol':\n            return (formatStr += '%s');\n          case 'number':\n            const formatting = Number.isInteger(elem) ? '%i' : '%f';\n            return (formatStr += formatting);\n          default:\n            return (formatStr += '%o');\n        }\n      }, '%c');\n      return [firstArg, style, ...inputArgs];\n    }\n  }\n  // NOTE: KEEP IN SYNC with src/backend/utils.js\n  function formatConsoleArguments(\n    maybeMessage: any,\n    ...inputArgs: $ReadOnlyArray<any>\n  ): $ReadOnlyArray<any> {\n    if (inputArgs.length === 0 || typeof maybeMessage !== 'string') {\n      return [maybeMessage, ...inputArgs];\n    }\n\n    const args = inputArgs.slice();\n\n    let template = '';\n    let argumentsPointer = 0;\n    for (let i = 0; i < maybeMessage.length; ++i) {\n      const currentChar = maybeMessage[i];\n      if (currentChar !== '%') {\n        template += currentChar;\n        continue;\n      }\n\n      const nextChar = maybeMessage[i + 1];\n      ++i;\n\n      // Only keep CSS and objects, inline other arguments\n      switch (nextChar) {\n        case 'c':\n        case 'O':\n        case 'o': {\n          ++argumentsPointer;\n          template += `%${nextChar}`;\n\n          break;\n        }\n        case 'd':\n        case 'i': {\n          const [arg] = args.splice(argumentsPointer, 1);\n          template += parseInt(arg, 10).toString();\n\n          break;\n        }\n        case 'f': {\n          const [arg] = args.splice(argumentsPointer, 1);\n          template += parseFloat(arg).toString();\n\n          break;\n        }\n        case 's': {\n          const [arg] = args.splice(argumentsPointer, 1);\n          template += arg.toString();\n        }\n      }\n    }\n\n    return [template, ...args];\n  }\n\n  let unpatchFn = null;\n\n  // NOTE: KEEP IN SYNC with src/backend/console.js:patchForStrictMode\n  // This function hides or dims console logs during the initial double renderer\n  // in Strict Mode. We need this function because during initial render,\n  // React and DevTools are connecting and the renderer interface isn't avaiable\n  // and we want to be able to have consistent logging behavior for double logs\n  // during the initial renderer.\n  function patchConsoleForInitialCommitInStrictMode(\n    hideConsoleLogsInStrictMode: boolean,\n  ) {\n    const overrideConsoleMethods = [\n      'error',\n      'group',\n      'groupCollapsed',\n      'info',\n      'log',\n      'trace',\n      'warn',\n    ];\n\n    if (unpatchFn !== null) {\n      // Don't patch twice.\n      return;\n    }\n\n    const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n    unpatchFn = () => {\n      for (const method in originalConsoleMethods) {\n        try {\n          targetConsole[method] = originalConsoleMethods[method];\n        } catch (error) {}\n      }\n    };\n\n    overrideConsoleMethods.forEach(method => {\n      try {\n        const originalMethod = (originalConsoleMethods[method] = targetConsole[\n          method\n        ].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n          ? targetConsole[method].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n          : targetConsole[method]);\n\n        const overrideMethod = (...args: $ReadOnlyArray<any>) => {\n          // Dim the text color of the double logs if we're not hiding them.\n          if (!hideConsoleLogsInStrictMode) {\n            // Firefox doesn't support ANSI escape sequences\n            if (__IS_FIREFOX__) {\n              originalMethod(\n                ...formatWithStyles(args, FIREFOX_CONSOLE_DIMMING_COLOR),\n              );\n            } else {\n              originalMethod(\n                ANSI_STYLE_DIMMING_TEMPLATE,\n                ...formatConsoleArguments(...args),\n              );\n            }\n          }\n        };\n\n        overrideMethod.__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__ =\n          originalMethod;\n        originalMethod.__REACT_DEVTOOLS_STRICT_MODE_OVERRIDE_METHOD__ =\n          overrideMethod;\n\n        targetConsole[method] = overrideMethod;\n      } catch (error) {}\n    });\n  }\n\n  // NOTE: KEEP IN SYNC with src/backend/console.js:unpatchForStrictMode\n  function unpatchConsoleForInitialCommitInStrictMode() {\n    if (unpatchFn !== null) {\n      unpatchFn();\n      unpatchFn = null;\n    }\n  }\n\n  let uidCounter = 0;\n\n  function inject(renderer: ReactRenderer): number {\n    const id = ++uidCounter;\n    renderers.set(id, renderer);\n\n    const reactBuildType = hasDetectedBadDCE\n      ? 'deadcode'\n      : detectReactBuildType(renderer);\n\n    // Patching the console enables DevTools to do a few useful things:\n    // * Append component stacks to warnings and error messages\n    // * Disabling or marking logs during a double render in Strict Mode\n    // * Disable logging during re-renders to inspect hooks (see inspectHooksOfFiber)\n    //\n    // Allow patching console early (during injection) to\n    // provide developers with components stacks even if they don't run DevTools.\n    if (target.hasOwnProperty('__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__')) {\n      const {registerRendererWithConsole, patchConsoleUsingWindowValues} =\n        target.__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__;\n      if (\n        typeof registerRendererWithConsole === 'function' &&\n        typeof patchConsoleUsingWindowValues === 'function'\n      ) {\n        registerRendererWithConsole(renderer);\n        patchConsoleUsingWindowValues();\n      }\n    }\n\n    // If we have just reloaded to profile, we need to inject the renderer interface before the app loads.\n    // Otherwise the renderer won't yet exist and we can skip this step.\n    const attach = target.__REACT_DEVTOOLS_ATTACH__;\n    if (typeof attach === 'function') {\n      const rendererInterface = attach(hook, id, renderer, target);\n      hook.rendererInterfaces.set(id, rendererInterface);\n    }\n\n    hook.emit('renderer', {\n      id,\n      renderer,\n      reactBuildType,\n    });\n\n    return id;\n  }\n\n  let hasDetectedBadDCE = false;\n\n  function sub(event: string, fn: Handler) {\n    hook.on(event, fn);\n    return () => hook.off(event, fn);\n  }\n\n  function on(event: string, fn: Handler) {\n    if (!listeners[event]) {\n      listeners[event] = [];\n    }\n    listeners[event].push(fn);\n  }\n\n  function off(event: string, fn: Handler) {\n    if (!listeners[event]) {\n      return;\n    }\n    const index = listeners[event].indexOf(fn);\n    if (index !== -1) {\n      listeners[event].splice(index, 1);\n    }\n    if (!listeners[event].length) {\n      delete listeners[event];\n    }\n  }\n\n  function emit(event: string, data: any) {\n    if (listeners[event]) {\n      listeners[event].map(fn => fn(data));\n    }\n  }\n\n  function getFiberRoots(rendererID: RendererID) {\n    const roots = fiberRoots;\n    if (!roots[rendererID]) {\n      roots[rendererID] = new Set();\n    }\n    return roots[rendererID];\n  }\n\n  function onCommitFiberUnmount(rendererID: RendererID, fiber: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handleCommitFiberUnmount(fiber);\n    }\n  }\n\n  function onCommitFiberRoot(\n    rendererID: RendererID,\n    root: any,\n    priorityLevel: void | number,\n  ) {\n    const mountedRoots = hook.getFiberRoots(rendererID);\n    const current = root.current;\n    const isKnownRoot = mountedRoots.has(root);\n    const isUnmounting =\n      current.memoizedState == null || current.memoizedState.element == null;\n\n    // Keep track of mounted roots so we can hydrate when DevTools connect.\n    if (!isKnownRoot && !isUnmounting) {\n      mountedRoots.add(root);\n    } else if (isKnownRoot && isUnmounting) {\n      mountedRoots.delete(root);\n    }\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handleCommitFiberRoot(root, priorityLevel);\n    }\n  }\n\n  function onPostCommitFiberRoot(rendererID: RendererID, root: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handlePostCommitFiberRoot(root);\n    }\n  }\n\n  function setStrictMode(rendererID: RendererID, isStrictMode: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      if (isStrictMode) {\n        rendererInterface.patchConsoleForStrictMode();\n      } else {\n        rendererInterface.unpatchConsoleForStrictMode();\n      }\n    } else {\n      // This should only happen during initial commit in the extension before DevTools\n      // finishes its handshake with the injected renderer\n      if (isStrictMode) {\n        const hideConsoleLogsInStrictMode =\n          window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__ === true;\n\n        patchConsoleForInitialCommitInStrictMode(hideConsoleLogsInStrictMode);\n      } else {\n        unpatchConsoleForInitialCommitInStrictMode();\n      }\n    }\n  }\n\n  type StackFrameString = string;\n\n  const openModuleRangesStack: Array<StackFrameString> = [];\n  const moduleRanges: Array<[StackFrameString, StackFrameString]> = [];\n\n  function getTopStackFrameString(error: Error): StackFrameString | null {\n    const frames = error.stack.split('\\n');\n    const frame = frames.length > 1 ? frames[1] : null;\n    return frame;\n  }\n\n  function getInternalModuleRanges(): Array<\n    [StackFrameString, StackFrameString],\n  > {\n    return moduleRanges;\n  }\n\n  function registerInternalModuleStart(error: Error) {\n    const startStackFrame = getTopStackFrameString(error);\n    if (startStackFrame !== null) {\n      openModuleRangesStack.push(startStackFrame);\n    }\n  }\n\n  function registerInternalModuleStop(error: Error) {\n    if (openModuleRangesStack.length > 0) {\n      const startStackFrame = openModuleRangesStack.pop();\n      const stopStackFrame = getTopStackFrameString(error);\n      if (stopStackFrame !== null) {\n        moduleRanges.push([startStackFrame, stopStackFrame]);\n      }\n    }\n  }\n\n  // TODO: More meaningful names for \"rendererInterfaces\" and \"renderers\".\n  const fiberRoots: {[RendererID]: Set<mixed>} = {};\n  const rendererInterfaces = new Map<RendererID, RendererInterface>();\n  const listeners: {[string]: Array<Handler>} = {};\n  const renderers = new Map<RendererID, ReactRenderer>();\n  const backends = new Map<string, DevToolsBackend>();\n\n  const hook: DevToolsHook = {\n    rendererInterfaces,\n    listeners,\n\n    backends,\n\n    // Fast Refresh for web relies on this.\n    renderers,\n\n    emit,\n    getFiberRoots,\n    inject,\n    on,\n    off,\n    sub,\n\n    // This is a legacy flag.\n    // React v16 checks the hook for this to ensure DevTools is new enough.\n    supportsFiber: true,\n\n    // React calls these methods.\n    checkDCE,\n    onCommitFiberUnmount,\n    onCommitFiberRoot,\n    onPostCommitFiberRoot,\n    setStrictMode,\n\n    // Schedule Profiler runtime helpers.\n    // These internal React modules to report their own boundaries\n    // which in turn enables the profiler to dim or filter internal frames.\n    getInternalModuleRanges,\n    registerInternalModuleStart,\n    registerInternalModuleStop,\n  };\n\n  if (__TEST__) {\n    hook.dangerous_setTargetConsoleForTesting =\n      dangerous_setTargetConsoleForTesting;\n  }\n\n  Object.defineProperty(\n    target,\n    '__REACT_DEVTOOLS_GLOBAL_HOOK__',\n    ({\n      // This property needs to be configurable for the test environment,\n      // else we won't be able to delete and recreate it between tests.\n      configurable: __DEV__,\n      enumerable: false,\n      get() {\n        return hook;\n      },\n    }: Object),\n  );\n\n  return hook;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {BoxStyle} from './types';\n\n/**\n * This mirrors react-native/Libraries/Inspector/resolveBoxStyle.js (but without RTL support).\n *\n * Resolve a style property into it's component parts, e.g.\n *\n * resolveBoxStyle('margin', {margin: 5, marginBottom: 10})\n * -> {top: 5, left: 5, right: 5, bottom: 10}\n */\nexport default function resolveBoxStyle(\n  prefix: string,\n  style: Object,\n): BoxStyle | null {\n  let hasParts = false;\n  const result = {\n    bottom: 0,\n    left: 0,\n    right: 0,\n    top: 0,\n  };\n\n  const styleForAll = style[prefix];\n  if (styleForAll != null) {\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of Object.keys(result)) {\n      result[key] = styleForAll;\n    }\n    hasParts = true;\n  }\n\n  const styleForHorizontal = style[prefix + 'Horizontal'];\n  if (styleForHorizontal != null) {\n    result.left = styleForHorizontal;\n    result.right = styleForHorizontal;\n    hasParts = true;\n  } else {\n    const styleForLeft = style[prefix + 'Left'];\n    if (styleForLeft != null) {\n      result.left = styleForLeft;\n      hasParts = true;\n    }\n\n    const styleForRight = style[prefix + 'Right'];\n    if (styleForRight != null) {\n      result.right = styleForRight;\n      hasParts = true;\n    }\n\n    const styleForEnd = style[prefix + 'End'];\n    if (styleForEnd != null) {\n      // TODO RTL support\n      result.right = styleForEnd;\n      hasParts = true;\n    }\n    const styleForStart = style[prefix + 'Start'];\n    if (styleForStart != null) {\n      // TODO RTL support\n      result.left = styleForStart;\n      hasParts = true;\n    }\n  }\n\n  const styleForVertical = style[prefix + 'Vertical'];\n  if (styleForVertical != null) {\n    result.bottom = styleForVertical;\n    result.top = styleForVertical;\n    hasParts = true;\n  } else {\n    const styleForBottom = style[prefix + 'Bottom'];\n    if (styleForBottom != null) {\n      result.bottom = styleForBottom;\n      hasParts = true;\n    }\n\n    const styleForTop = style[prefix + 'Top'];\n    if (styleForTop != null) {\n      result.top = styleForTop;\n      hasParts = true;\n    }\n  }\n\n  return hasParts ? result : null;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport resolveBoxStyle from './resolveBoxStyle';\nimport isArray from 'react-devtools-shared/src/isArray';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {RendererID} from '../types';\nimport type {StyleAndLayout} from './types';\n\nexport type ResolveNativeStyle = (stylesheetID: any) => ?Object;\nexport type SetupNativeStyleEditor = typeof setupNativeStyleEditor;\n\nexport default function setupNativeStyleEditor(\n  bridge: BackendBridge,\n  agent: Agent,\n  resolveNativeStyle: ResolveNativeStyle,\n  validAttributes?: $ReadOnlyArray<string> | null,\n) {\n  bridge.addListener(\n    'NativeStyleEditor_measure',\n    ({id, rendererID}: {id: number, rendererID: RendererID}) => {\n      measureStyle(agent, bridge, resolveNativeStyle, id, rendererID);\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_renameAttribute',\n    ({\n      id,\n      rendererID,\n      oldName,\n      newName,\n      value,\n    }: {\n      id: number,\n      rendererID: RendererID,\n      oldName: string,\n      newName: string,\n      value: string,\n    }) => {\n      renameStyle(agent, id, rendererID, oldName, newName, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_setValue',\n    ({\n      id,\n      rendererID,\n      name,\n      value,\n    }: {\n      id: number,\n      rendererID: number,\n      name: string,\n      value: string,\n    }) => {\n      setStyle(agent, id, rendererID, name, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.send('isNativeStyleEditorSupported', {\n    isSupported: true,\n    validAttributes,\n  });\n}\n\nconst EMPTY_BOX_STYLE = {\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n};\n\nconst componentIDToStyleOverrides: Map<number, Object> = new Map();\n\nfunction measureStyle(\n  agent: Agent,\n  bridge: BackendBridge,\n  resolveNativeStyle: ResolveNativeStyle,\n  id: number,\n  rendererID: RendererID,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  const {instance, style} = data;\n\n  let resolvedStyle = resolveNativeStyle(style);\n\n  // If it's a host component we edited before, amend styles.\n  const styleOverrides = componentIDToStyleOverrides.get(id);\n  if (styleOverrides != null) {\n    resolvedStyle = Object.assign({}, resolvedStyle, styleOverrides);\n  }\n\n  if (!instance || typeof instance.measure !== 'function') {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  instance.measure((x, y, width, height, left, top) => {\n    // RN Android sometimes returns undefined here. Don't send measurements in this case.\n    // https://github.com/jhen0409/react-native-debugger/issues/84#issuecomment-304611817\n    if (typeof x !== 'number') {\n      bridge.send(\n        'NativeStyleEditor_styleAndLayout',\n        ({\n          id,\n          layout: null,\n          style: resolvedStyle || null,\n        }: StyleAndLayout),\n      );\n      return;\n    }\n    const margin =\n      (resolvedStyle != null && resolveBoxStyle('margin', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    const padding =\n      (resolvedStyle != null && resolveBoxStyle('padding', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: {\n          x,\n          y,\n          width,\n          height,\n          left,\n          top,\n          margin,\n          padding,\n        },\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n  });\n}\n\nfunction shallowClone(object: Object): Object {\n  const cloned: {[string]: $FlowFixMe} = {};\n  for (const n in object) {\n    cloned[n] = object[n];\n  }\n  return cloned;\n}\n\nfunction renameStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n): void {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n\n  const newStyle = newName\n    ? {[oldName]: undefined, [newName]: value}\n    : {[oldName]: undefined};\n\n  let customStyle;\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (isArray(style)) {\n    const lastIndex = style.length - 1;\n    if (typeof style[lastIndex] === 'object' && !isArray(style[lastIndex])) {\n      customStyle = shallowClone(style[lastIndex]);\n      delete customStyle[oldName];\n      if (newName) {\n        customStyle[newName] = value;\n      } else {\n        customStyle[oldName] = undefined;\n      }\n\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastIndex],\n        value: customStyle,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else if (typeof style === 'object') {\n    customStyle = shallowClone(style);\n    delete customStyle[oldName];\n    if (newName) {\n      customStyle[newName] = value;\n    } else {\n      customStyle[oldName] = undefined;\n    }\n\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: customStyle,\n    });\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n\nfunction setStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  name: string,\n  value: string,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n  const newStyle = {[name]: value};\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (isArray(style)) {\n    const lastLength = style.length - 1;\n    if (typeof style[lastLength] === 'object' && !isArray(style[lastLength])) {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastLength, name],\n        value,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n","/** @flow */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport Bridge from 'react-devtools-shared/src/bridge';\nimport {initBackend} from 'react-devtools-shared/src/backend';\nimport {installConsoleFunctionsToWindow} from 'react-devtools-shared/src/backend/console';\nimport {installHook} from 'react-devtools-shared/src/hook';\nimport setupNativeStyleEditor from 'react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {Wall} from 'react-devtools-shared/src/frontend/types';\n\nfunction startActivation(contentWindow: any, bridge: BackendBridge) {\n  const onSavedPreferences = (data: $FlowFixMe) => {\n    // This is the only message we're listening for,\n    // so it's safe to cleanup after we've received it.\n    bridge.removeListener('savedPreferences', onSavedPreferences);\n\n    const {\n      appendComponentStack,\n      breakOnConsoleErrors,\n      componentFilters,\n      showInlineWarningsAndErrors,\n      hideConsoleLogsInStrictMode,\n    } = data;\n\n    contentWindow.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__ =\n      appendComponentStack;\n    contentWindow.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__ =\n      breakOnConsoleErrors;\n    contentWindow.__REACT_DEVTOOLS_COMPONENT_FILTERS__ = componentFilters;\n    contentWindow.__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__ =\n      showInlineWarningsAndErrors;\n    contentWindow.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__ =\n      hideConsoleLogsInStrictMode;\n\n    // TRICKY\n    // The backend entry point may be required in the context of an iframe or the parent window.\n    // If it's required within the parent window, store the saved values on it as well,\n    // since the injected renderer interface will read from window.\n    // Technically we don't need to store them on the contentWindow in this case,\n    // but it doesn't really hurt anything to store them there too.\n    if (contentWindow !== window) {\n      window.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__ = appendComponentStack;\n      window.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__ = breakOnConsoleErrors;\n      window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ = componentFilters;\n      window.__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__ =\n        showInlineWarningsAndErrors;\n      window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__ =\n        hideConsoleLogsInStrictMode;\n    }\n\n    finishActivation(contentWindow, bridge);\n  };\n\n  bridge.addListener('savedPreferences', onSavedPreferences);\n\n  // The backend may be unable to read saved preferences directly,\n  // because they are stored in localStorage within the context of the extension (on the frontend).\n  // Instead it relies on the extension to pass preferences through.\n  // Because we might be in a sandboxed iframe, we have to ask for them by way of postMessage().\n  bridge.send('getSavedPreferences');\n}\n\nfunction finishActivation(contentWindow: any, bridge: BackendBridge) {\n  const agent = new Agent(bridge);\n\n  const hook = contentWindow.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (hook) {\n    initBackend(hook, agent, contentWindow);\n\n    // Setup React Native style editor if a renderer like react-native-web has injected it.\n    if (hook.resolveRNStyle) {\n      setupNativeStyleEditor(\n        bridge,\n        agent,\n        hook.resolveRNStyle,\n        hook.nativeStyleEditorValidAttributes,\n      );\n    }\n  }\n}\n\nexport function activate(\n  contentWindow: any,\n  {\n    bridge,\n  }: {\n    bridge?: BackendBridge,\n  } = {},\n): void {\n  if (bridge == null) {\n    bridge = createBridge(contentWindow);\n  }\n\n  startActivation(contentWindow, bridge);\n}\n\nexport function createBridge(contentWindow: any, wall?: Wall): BackendBridge {\n  const {parent} = contentWindow;\n\n  if (wall == null) {\n    wall = {\n      listen(fn) {\n        const onMessage = ({data}: $FlowFixMe) => {\n          fn(data);\n        };\n        contentWindow.addEventListener('message', onMessage);\n        return () => {\n          contentWindow.removeEventListener('message', onMessage);\n        };\n      },\n      send(event: string, payload: any, transferable?: Array<any>) {\n        parent.postMessage({event, payload}, '*', transferable);\n      },\n    };\n  }\n\n  return (new Bridge(wall): BackendBridge);\n}\n\nexport function initialize(contentWindow: any): void {\n  // Install a global variable to allow patching console early (during injection).\n  // This provides React Native developers with components stacks even if they don't run DevTools.\n  installConsoleFunctionsToWindow();\n  installHook(contentWindow);\n}\n"],"names":["FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","global","Object","freeSelf","self","root","Function","objectProto","prototype","objectToString","toString","nativeMax","Math","max","nativeMin","min","now","Date","debounce","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","toNumber","isObject","invokeFunc","time","args","thisArg","undefined","apply","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","arguments","throttle","value","type","isObjectLike","isSymbol","call","other","valueOf","replace","isBinary","test","slice","module","exports","LRUCache","Map","require","util","Yallist","hasSymbol","Symbol","process","env","_nodeLRUCacheForceNoSymbol","makeSymbol","key","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","naiveLength","Infinity","lc","length","stale","maxAge","dispose","noDisposeOnSet","reset","defineProperty","set","mL","trim","get","enumerable","allowStale","mA","lC","forEach","hit","rforEach","fn","thisp","walker","tail","prev","forEachStep","node","isStale","del","head","next","keys","toArray","map","k","values","dump","v","e","filter","h","dumpLru","inspect","n","opts","str","extras","as","didFirst","item","split","join","val","len","has","Entry","unshift","peek","pop","load","arr","l","expiresAt","prune","doUse","unshiftNode","diff","delete","removeNode","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","nextTick","Array","i","push","Item","array","title","browser","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","npm_package_name","npm_lifecycle_script","TEST_PSEUDOMAP","hasOwnProperty","PseudoMap","clear","isArray","kv","_data","find","res","_index","size","data","create","configurable","writable","entries","same","a","b","s","inherits","ctor","superCtor","super_","constructor","TempCtor","isBuffer","arg","copy","fill","readUInt8","formatRegExp","format","f","isString","objects","String","x","Number","JSON","stringify","_","isNull","deprecate","msg","isUndefined","noDeprecation","warned","deprecated","throwDeprecation","traceDeprecation","console","trace","error","debugs","debugEnviron","debuglog","NODE_DEBUG","toUpperCase","RegExp","pid","obj","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styles","styleType","style","arrayToHash","hash","idx","recurseTimes","isFunction","ret","primitive","formatPrimitive","visibleKeys","getOwnPropertyNames","isError","indexOf","formatError","isRegExp","isDate","base","braces","toUTCString","output","formatArray","formatProperty","reduceToSingleString","simple","isNumber","match","desc","getOwnPropertyDescriptor","line","substr","numLinesEst","reduce","cur","ar","isNullOrUndefined","re","d","isPrimitive","o","pad","months","timestamp","getHours","getMinutes","getSeconds","getDate","getMonth","log","origin","add","prop","Node","list","pushNode","shift","forEachReverse","getReverse","mapReverse","initial","acc","reduceReverse","toArrayReverse","from","to","sliceReverse","reverse","p","factory","define","amd","ErrorStackParser","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","parse","ErrorStackParser$$parse","stacktrace","parseOpera","stack","parseV8OrIE","parseFFOrSafari","extractLocation","ErrorStackParser$$extractLocation","urlLike","regExp","parts","exec","ErrorStackParser$$parseV8OrIE","filtered","sanitizedLine","location","locationParts","functionName","fileName","lineNumber","columnNumber","source","ErrorStackParser$$parseFFOrSafari","functionNameRegex","matches","ErrorStackParser$$parseOpera","message","parseOpera9","parseOpera10","parseOpera11","ErrorStackParser$$parseOpera9","lineRE","lines","ErrorStackParser$$parseOpera10","ErrorStackParser$$parseOpera11","tokens","functionCall","argsRaw","_isNumber","isNaN","parseFloat","isFinite","_capitalize","charAt","substring","_getter","booleanProps","numericProps","stringProps","arrayProps","objectProps","props","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFileName","getLineNumber","getColumnNumber","getFunctionName","getIsEval","fromString","StackFrame$$fromString","argsStartIndex","argsEndIndex","lastIndexOf","locationString","Boolean","j","EventEmitter","event","listener","listenersMap","index","didThrow","caughtError","clonedListeners","splice","CHROME_WEBSTORE_EXTENSION_ID","INTERNAL_EXTENSION_ID","LOCAL_EXTENSION_ID","__DEBUG__","__PERFORMANCE_PROFILE__","TREE_OPERATION_ADD","TREE_OPERATION_REMOVE","TREE_OPERATION_REORDER_CHILDREN","TREE_OPERATION_UPDATE_TREE_BASE_DURATION","TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS","TREE_OPERATION_REMOVE_ROOT","TREE_OPERATION_SET_SUBTREE_MODE","PROFILING_FLAG_BASIC_SUPPORT","PROFILING_FLAG_TIMELINE_SUPPORT","LOCAL_STORAGE_DEFAULT_TAB_KEY","LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY","SESSION_STORAGE_LAST_SELECTION_KEY","LOCAL_STORAGE_OPEN_IN_EDITOR_URL","LOCAL_STORAGE_OPEN_IN_EDITOR_URL_PRESET","LOCAL_STORAGE_PARSE_HOOK_NAMES_KEY","SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY","SESSION_STORAGE_RELOAD_AND_PROFILE_KEY","LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS","LOCAL_STORAGE_BROWSER_THEME","LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY","LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY","LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY","LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE","LOCAL_STORAGE_SUPPORTS_PROFILING_KEY","PROFILER_EXPORT_VERSION","FIREFOX_CONSOLE_DIMMING_COLOR","ANSI_STYLE_DIMMING_TEMPLATE","ANSI_STYLE_DIMMING_TEMPLATE_WITH_COMPONENT_STACK","localStorageGetItem","localStorage","getItem","localStorageRemoveItem","removeItem","localStorageSetItem","setItem","sessionStorageGetItem","sessionStorage","sessionStorageRemoveItem","sessionStorageSetItem","simpleIsEqual","resultFn","isEqual","lastResult","calledOnce","isNewArgEqualToLast","newArg","_len","newArgs","_key","every","enableComponentStackLocations","favorSafetyOverHydrationPerf","enableAsyncActions","disableSchedulerTimeoutInWorkLoop","enableDeferRootSchedulingToMicrotask","disableDefaultPropsExceptForClasses","enableSuspenseCallback","enableScopeAPI","enableCreateEventHandleAPI","enableLegacyFBSupport","enableCache","enableLegacyCache","__EXPERIMENTAL__","enableBinaryFlight","enableFlightReadableStream","enableAsyncIterableChildren","enableTaint","enablePostpone","enableTransitionTracing","enableLazyContextPropagation","enableLegacyHidden","enableSuspenseAvoidThisFallback","enableSuspenseAvoidThisFallbackFizz","enableCPUSuspense","enableUseMemoCacheHook","enableNoCloningMemoCache","enableUseEffectEventHook","enableFizzExternalRuntime","alwaysThrottleRetries","passChildrenWhenCloningPersistedNodes","enableServerComponentLogs","enableAddPropertiesFastPath","enableOwnerStacks","enableShallowPropDiffing","enableRetryLaneExpiration","retryLaneExpirationMs","syncLaneExpirationMs","transitionLaneExpirationMs","renameElementSymbol","disableLegacyContext","useModernStrictMode","disableIEWorkarounds","enableFilterEmptyStringAttributesDOM","disableClientCache","enableInfiniteRenderLoopDetection","enableRefAsProp","disableStringRefs","enableFastJSX","enableReactTestRendererWarning","disableLegacyMode","enableRenderableContext","enableUseDeferredValueInitialArg","forceConcurrentByDefaultForTesting","allowConcurrentByDefault","disableCommentsAsDOMContainers","enableTrustedTypesIntegration","disableInputAttributeSyncing","disableTextareaChildren","enableSchedulingProfiler","__PROFILE__","debugRenderPhaseSideEffectsForStrictMode","__DEV__","enableProfilerTimer","enableProfilerCommitHooks","enableProfilerNestedUpdatePhase","enableDebugTracing","enableAsyncDebugInfo","enableUpdaterTracking","enableGetInspectorDataForInstanceInProduction","consoleManagedByDevToolsDuringStrictMode","enableDO_NOT_USE_disableStrictPassiveEffect","REACT_LEGACY_ELEMENT_TYPE","for","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_SCOPE_TYPE","REACT_DEBUG_TRACING_MODE_TYPE","REACT_OFFSCREEN_TYPE","REACT_LEGACY_HIDDEN_TYPE","REACT_TRACING_MARKER_TYPE","REACT_MEMO_CACHE_SENTINEL","REACT_POSTPONE_TYPE","MAYBE_ITERATOR_SYMBOL","iterator","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","maybeIterator","ASYNC_ITERATOR","asyncIterator","ElementTypeClass","ElementTypeContext","ElementTypeFunction","ElementTypeForwardRef","ElementTypeHostComponent","ElementTypeMemo","ElementTypeOtherOrUnknown","ElementTypeProfiler","ElementTypeRoot","ElementTypeSuspense","ElementTypeSuspenseList","ElementTypeTracingMarker","ComponentFilterElementType","ComponentFilterDisplayName","ComponentFilterLocation","ComponentFilterHOC","StrictMode","LRU","isElement","typeOf","ContextConsumer","ContextProvider","ForwardRef","Fragment","Lazy","Memo","Portal","Profiler","Suspense","SuspenseList","TracingMarker","meta","cachedDisplayNames","WeakMap","encodedStringCache","alphaSortKeys","getAllEnumerableKeys","Set","current","currentKeys","getOwnPropertySymbols","descriptors","getOwnPropertyDescriptors","getPrototypeOf","getWrappedDisplayName","outerType","innerType","wrapperName","fallbackName","displayName","getDisplayName","nameFromCache","uidCounter","getUID","utfDecodeStringWithRanges","left","right","string","fromCodePoint","surrogatePairToCodePoint","charCode1","charCode2","utfEncodeString","cached","encoded","charCode","charCodeAt","printOperationsArray","operations","rendererID","rootID","logs","stringTable","stringTableSize","stringTableEnd","nextLength","nextString","operation","id","parentID","displayNameStringID","removeLength","removeIndex","mode","numChildren","children","numErrors","numWarnings","getDefaultComponentFilters","isEnabled","getSavedComponentFilters","raw","parsedFilters","filterOutLocationComponentFilters","setSavedComponentFilters","componentFilters","parseBool","castBool","castBrowserTheme","getAppendComponentStack","getBreakOnConsoleErrors","getHideConsoleLogsInStrictMode","getShowInlineWarningsAndErrors","getDefaultOpenInEditorURL","EDITOR_URL","getOpenInEditorURL","parseElementDisplayNameFromBackend","formattedDisplayName","hocDisplayNames","compiledWithForget","startsWith","displayNameWithoutForgetWrapper","shallowDiffers","attribute","getInObject","object","path","reduced","attr","deletePathInObject","last","parent","renamePathInObject","oldPath","newPath","lastOld","lastNew","setInObject","getDataType","HTMLElement","ArrayBuffer","isView","toStringValue","isPlainObject","typeOfWithLegacyElementSymbol","$$typeof","$$typeofType","getDisplayNameForReactElement","element","elementType","MAX_PREVIEW_STRING_LENGTH","truncateForDisplay","formatDataForPreview","showFormattedValue","preview_long","preview_short","tagName","toLowerCase","byteLength","buffer","formatted","shortName","entryOrEntries","toStringTag","sort","objectPrototype","objectParentPrototype","backendToFrontendSerializedElementMapper","normalizeUrl","url","inspectable","inspected","readonly","unserializable","LEVEL_THRESHOLD","createDehydrated","cleaned","dehydrated","dehydrate","isPathAllowed","level","isPathAllowedCheck","unserializableValue","keyAsString","fillInPath","target","unserializablePath","isMatch","upgradeUnserializable","hydrate","NaN","replaced","replacement","destination","defineProperties","isArrayImpl","compareVersions","FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER","hasAssignedBackend","gte","cleanForBridge","cleanedPaths","unserializablePaths","cleanedData","copyWithDelete","updated","copyWithRename","oldKey","newKey","copyWithSet","getEffectDurations","effectDuration","passiveEffectDuration","hostRoot","stateNode","serializeToString","cache","formatWithStyles","inputArgs","REGEXP","firstArg","formatStr","elem","formatting","isInteger","formatConsoleArguments","maybeMessage","template","argumentsPointer","currentChar","nextChar","formatConsoleArgumentsToSingleString","escaped","ptn","flag","isSynchronousXHRSupported","window","document","featurePolicy","allowsFeature","gt","isReactNativeEnvironment","withoutParentheses","sourceURL","column","CHROME_STACK_REGEXP","parseSourceFromChromeStack","frames","frame","sanitizedFrame","locationInParenthesesMatch","possibleLocation","parseSourceFromFirefoxStack","frameWithoutFunctionName","parseSourceFromComponentStack","componentStack","getOwnerWindow","ownerDocument","defaultView","getOwnerIframe","nodeWindow","frameElement","getBoundingClientRectWithBorderOffset","dimensions","getElementDimensions","mergeRectOffsets","getBoundingClientRect","top","borderTop","borderLeft","bottom","borderBottom","borderRight","width","height","rects","previousRect","rect","getNestedBoundingClientRect","boundaryWindow","ownerIframe","currentIframe","onlyOneMore","domElement","calculatedStyle","getComputedStyle","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","marginLeft","marginRight","marginTop","marginBottom","paddingLeft","paddingRight","paddingTop","paddingBottom","assign","OverlayRect","doc","container","createElement","border","padding","content","borderColor","overlayStyles","backgroundColor","background","margin","pointerEvents","position","zIndex","appendChild","remove","parentNode","removeChild","update","box","dims","boxWrap","OverlayTip","tip","display","flexFlow","borderRadius","fontFamily","fontWeight","fontSize","whiteSpace","nameSpan","color","dimSpan","updateText","textContent","round","updatePosition","bounds","tipRect","tipPos","findTipPos","Overlay","agent","currentWindow","__REACT_DEVTOOLS_TARGET_WINDOW__","tipBoundsWindow","body","nodes","elements","nodeType","ELEMENT_NODE","outerBox","POSITIVE_INFINITY","NEGATIVE_INFINITY","nodeName","rendererInterface","getBestMatchingRendererInterface","getFiberIDForNative","ownerName","getDisplayNameForFiberID","tipBounds","documentElement","scrollY","scrollX","innerHeight","innerWidth","tipSize","tipHeight","tipWidth","what","borderStyle","SHOW_DURATION","timeoutID","overlay","hideOverlayNative","hideOverlayWeb","hideOverlay","showOverlayNative","showOverlayWeb","componentName","hideAfterTimeout","showOverlay","memoize","Agent","iframesListeningTo","setupHighlighter","bridge","clearNativeElementHighlight","highlightNativeElement","stopInspectingNative","startInspectingNative","registerListenersOnWindow","addEventListener","onClick","onMouseEvent","onPointerDown","onPointerMove","onPointerUp","removeListenersOnWindow","contentWindow","removeEventListener","openNativeElementsPanel","scrollIntoView","renderer","rendererInterfaces","warn","hasFiberWithId","findNativeNodesForFiberID","block","inline","__REACT_DEVTOOLS_GLOBAL_HOOK__","$0","send","preventDefault","stopPropagation","selectFiberForNode","getEventTarget","lastHoveredNode","iframe","getIDForNode","composed","composedPath","OUTLINE_COLOR","COLORS","canvas","drawNative","nodeToData","nodesToDraw","iterateNodes","drawWeb","initialize","canvasFlow","context","getContext","clearRect","drawBorder","draw","execute","count","colorIndex","lineWidth","strokeStyle","strokeRect","setLineDash","destroyNative","destroyWeb","destroy","cssText","insertBefore","firstChild","destroyCanvas","DISPLAY_DURATION","MAX_DISPLAY_DURATION","REMEASUREMENT_AFTER_DURATION","getCurrentTime","performance","drawAnimationFrameID","redrawTimeoutID","injectedAgent","traceUpdates","toggleEnabled","cancelAnimationFrame","lastMeasuredAt","measureNode","expirationTime","requestAnimationFrame","prepareToDraw","earliestExpiration","MAX_VALUE","React","ReactSharedInternals","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","FunctionComponent","ClassComponent","HostRoot","HostPortal","HostComponent","HostText","Mode","SuspenseComponent","MemoComponent","SimpleMemoComponent","LazyComponent","IncompleteClassComponent","DehydratedFragment","SuspenseListComponent","ScopeComponent","OffscreenComponent","LegacyHiddenComponent","CacheComponent","TracingMarkerComponent","HostHoistable","HostSingleton","IncompleteFunctionComponent","Throw","hookLog","primitiveStackCache","getPrimitiveStackCache","readHookLog","Dispatcher","useContext","_currentValue","useState","useReducer","useRef","useCacheRefresh","useLayoutEffect","useInsertionEffect","useEffect","useImperativeHandle","useDebugValue","useCallback","useTransition","useSyncExternalStore","useDeferredValue","useMemo","useMemoCache","useOptimistic","useFormState","useActionState","use","then","status","useId","useHostTransitionStatus","hook","stackError","currentFiber","currentHook","currentContextDependency","nextHook","readContext","memoizedValue","SuspenseException","usable","thenable","fulfilledValue","debugInfo","_debugInfo","dispatcherHookName","rejectedError","reason","initialState","state","memoizedState","action","reducer","initialArg","init","initialValue","ref","refresh","inputs","instance","formatterFn","callback","nextCreate","subscribe","getSnapshot","getServerSnapshot","stateHook","isPending","prevValue","fiber","memoCache","updateQueue","passthrough","permalink","actionResult","payload","DispatcherProxyHandler","DispatcherProxy","Proxy","mostLikelyAncestorIndex","findSharedIndex","hookStack","rootStack","rootIndex","hookSearch","findCommonAncestorIndex","isReactWrapper","hookName","parseHookName","findPrimitiveIndex","stackCache","primitiveStack","parseTrimmedStack","primitiveIndex","startIndex","buildTree","rootChildren","prevStack","levelChildren","nativeHookID","stackOfChildren","parseResult","primitiveFrame","commonSteps","stackSource","prevSource","stackFrame","levelChild","isStateEditable","subHooks","hookSource","processDebugValues","hooksTree","parentHooksNode","debugValueHooksNodes","hooksNode","handleRenderFunctionError","wrapperError","cause","inspectHooks","renderFunction","currentDispatcher","previousDispatcher","H","ancestorStackError","setupContexts","contextMap","tag","_context","memoizedProps","return","restoreContexts","inspectHooksOfForwardRef","resolveDefaultProps","Component","baseProps","defaultProps","propName","inspectHooksOfFiber","dependencies","firstContext","dependencies_old","dependencies_new","contextDependencies","first","render","CONCURRENT_MODE_NUMBER","CONCURRENT_MODE_SYMBOL_STRING","CONTEXT_NUMBER","CONTEXT_SYMBOL_STRING","SERVER_CONTEXT_SYMBOL_STRING","DEPRECATED_ASYNC_MODE_SYMBOL_STRING","ELEMENT_SYMBOL_STRING","LEGACY_ELEMENT_NUMBER","LEGACY_ELEMENT_SYMBOL_STRING","DEBUG_TRACING_MODE_NUMBER","DEBUG_TRACING_MODE_SYMBOL_STRING","FORWARD_REF_NUMBER","FORWARD_REF_SYMBOL_STRING","FRAGMENT_NUMBER","FRAGMENT_SYMBOL_STRING","LAZY_NUMBER","LAZY_SYMBOL_STRING","MEMO_NUMBER","MEMO_SYMBOL_STRING","PORTAL_NUMBER","PORTAL_SYMBOL_STRING","PROFILER_NUMBER","PROFILER_SYMBOL_STRING","PROVIDER_NUMBER","PROVIDER_SYMBOL_STRING","CONSUMER_SYMBOL_STRING","SCOPE_NUMBER","SCOPE_SYMBOL_STRING","STRICT_MODE_NUMBER","STRICT_MODE_SYMBOL_STRING","SUSPENSE_NUMBER","SUSPENSE_SYMBOL_STRING","SUSPENSE_LIST_NUMBER","SUSPENSE_LIST_SYMBOL_STRING","SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED_SYMBOL_STRING","enableLogger","enableStyleXFeatures","isInternalFacebookBuild","is","y","objectIs","cachedStyleNameToValueMap","getStyleXData","sources","resolvedStyles","crawlData","entry","crawlObjectProperties","fromEntries","propertyValue","getPropertyValueForStyleName","nestedStyle","styleName","styleSheetIndex","styleSheets","styleSheet","rules","cssRules","_e","ruleIndex","CSSStyleRule","rule","selectorText","property","getPropertyValue","CHANGE_LOG_URL","UNSUPPORTED_VERSION_URL","REACT_DEVTOOLS_WORKPLACE_URL","THEME_STYLES","light","dark","compact","comfortable","COMFORTABLE_LINE_HEIGHT","COMPACT_LINE_HEIGHT","REACT_TOTAL_NUM_LANES","SCHEDULING_PROFILER_VERSION","SNAPSHOT_MAX_HEIGHT","disabledDepth","prevLog","prevInfo","prevWarn","prevError","prevGroup","prevGroupCollapsed","prevGroupEnd","disabledLog","__reactDisabledLog","disableLogs","info","group","groupCollapsed","groupEnd","reenableLogs","prefix","describeBuiltInComponentFrame","suffix","__IS_CHROME__","__IS_EDGE__","__IS_NATIVE__","__IS_FIREFOX__","describeDebugInfoFrame","reentry","componentFrameCache","PossiblyWeakMap","describeNativeComponentFrame","construct","currentDispatcherRef","previousPrepareStackTrace","prepareStackTrace","RunInRootFrame","DetermineComponentFrameRoot","control","Fake","Reflect","maybePromise","catch","sample","namePropDescriptor","sampleStack","controlStack","sampleLines","controlLines","c","includes","syntheticFrame","describeClassComponentFrame","describeFunctionComponentFrame","describeFiber","workTagMap","workInProgress","IndeterminateComponent","getStackByFiberInDevAndProd","supportsNativeConsoleTasks","_debugTask","TIME_OFFSET","performanceTarget","supportsUserTiming","mark","clearMarks","supportsUserTimingV3","CHECK_V3_MARK","markOptions","setPerformanceMock_ONLY_FOR_TESTING","performanceMock","createProfilingHooks","getDisplayNameForFiber","getIsProfiling","getLaneLabelMap","reactVersion","currentBatchUID","currentReactComponentMeasure","currentReactMeasuresStack","currentTimelineData","currentFiberStacks","isProfiling","nextRenderShouldStartNewBatch","getRelativeTime","currentTime","startTime","getInternalModuleRanges","ranges","getTimelineData","laneToLanesArray","lanes","lanesArray","lane","laneToLabelMap","markMetadata","markAndClear","range","startStackFrame","stopStackFrame","labels","markName","recordReactMeasureStarted","reactMeasure","batchUID","duration","batchUIDToMeasuresMap","laneToReactMeasureMap","reactMeasures","recordReactMeasureCompleted","markCommitStarted","markCommitStopped","markComponentRenderStarted","warning","markComponentRenderStopped","componentMeasures","markComponentLayoutEffectMountStarted","markComponentLayoutEffectMountStopped","markComponentLayoutEffectUnmountStarted","markComponentLayoutEffectUnmountStopped","markComponentPassiveEffectMountStarted","markComponentPassiveEffectMountStopped","markComponentPassiveEffectUnmountStarted","markComponentPassiveEffectUnmountStopped","markComponentErrored","thrownValue","phase","alternate","thrownErrors","wakeableIDs","wakeableID","getWakeableID","wakeable","markComponentSuspended","eventType","suspenseEvent","promiseName","resolution","suspenseEvents","markLayoutEffectsStarted","markLayoutEffectsStopped","markPassiveEffectsStarted","markPassiveEffectsStopped","markRenderStarted","markRenderYielded","markRenderStopped","markRenderScheduled","schedulingEvents","markForceUpdateScheduled","getParentFibers","parents","markStateUpdateScheduled","toggleProfilingStatus","internalModuleSourceToRanges","flamechart","nativeEvents","networkMeasures","otherUserTimingMarks","snapshots","snapshotHeight","fiberStack","profilingHooks","patchConsoleUsingWindowValues","registerRenderer","registerRendererWithConsole","patchForStrictMode","patchConsoleForStrictMode","unpatchForStrictMode","unpatchConsoleForStrictMode","getDispatcherRef","injectedRef","getFiberFlags","flags","effectTag","getInternalReactConstants","ReactPriorityLevels","ImmediatePriority","UserBlockingPriority","NormalPriority","LowPriority","IdlePriority","NoPriority","StrictModeBits","ReactTypeOfWork","CoroutineComponent","CoroutineHandlerPhase","DehydratedSuspenseComponent","YieldComponent","getTypeSymbol","symbolOrNumber","resolveFiberType","typeSymbol","shouldSkipForgetCheck","resolvedType","resolvedContext","fiberRoot","_debugRootType","Provider","fiberToIDMap","idToArbitraryFiberMap","fiberToComponentStackMap","attach","reconcilerVersion","injectProfilingHooks","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","scheduleRefresh","setErrorHandler","setSuspenseHandler","scheduleUpdate","supportsTogglingError","supportsTogglingSuspense","response","fibersWithChangedErrorOrWarningCounts","pendingFiberToErrorsMap","pendingFiberToWarningsMap","fiberIDToErrorsMap","fiberIDToWarningsMap","clearErrorsAndWarnings","updateMostRecentlyInspectedElementIfNecessary","flushPendingEvents","clearMessageCountHelper","fiberID","pendingFiberToMessageCountMap","fiberIDToMessageCountMap","clearErrorsForFiberID","clearWarningsForFiberID","mostRecentlyInspectedElement","hasElementUpdatedSinceLastInspected","onErrorOrWarning","maybeID","getFiberIDUnsafe","forceErrorForFiberIDs","debug","fiberMap","messageMap","flushPendingErrorsAndWarningsAfterDelay","parentFiber","extraString","parentDisplayName","maybeParentID","hideElementsWithDisplayNames","hideElementsWithPaths","hideElementsWithTypes","traceUpdatesEnabled","traceUpdatesForNodes","applyComponentFilters","componentFilter","isValid","__REACT_DEVTOOLS_COMPONENT_FILTERS__","componentFiltersWithoutLocationBasedOnes","updateComponentFilters","getFiberRoots","currentRootID","getOrGenerateFiberID","pushOperation","rootDisplayNameCounter","setRootPseudoKey","mountFiberRecursively","reevaluateErrorsAndWarnings","shouldFilterFiber","getElementTypeForFiber","displayNameRegExp","idToTreeBaseDurationMap","idToRootMap","didGenerateID","refinedID","getFiberIDThrows","untrackFiberID","untrackFibersSet","untrackFibersTimeoutID","untrackFibers","shouldErrorFiberAlwaysNull","getChangeDescription","prevFiber","nextFiber","didHooksChange","isFirstMount","getContextChangedKeys","getChangedKeys","indices","getChangedHooksIndices","hooks","updateContextsForFiber","idToContextsMap","contexts","getContextsForFiber","NO_CONTEXT","legacyContext","modernContext","contextType","crawlToInitializeContextsMap","child","sibling","prevContexts","nextContexts","prevLegacyContext","prevModernContext","nextLegacyContext","nextModernContext","prevContext","nextContext","isHookThatCanScheduleUpdate","hookObject","boundHasOwnProperty","bind","didStatefulHookChange","prevMemoizedState","nextMemoizedState","changedKeys","didFiberRender","PerformedWork","pendingOperations","pendingRealUnmountedIDs","pendingSimulatedUnmountedIDs","pendingOperationsQueue","pendingStringTable","pendingStringTableLength","pendingUnmountedRootID","op","shouldBailoutWithPendingOperations","currentCommitProfilingMetadata","durations","flushOrQueueOperations","flushPendingErrorsAndWarningsAfterDelayTimeoutID","clearPendingErrorsAndWarningsAfterDelay","recordPendingErrorsAndWarnings","countMap","mergeMapsAndGetCountHelper","newCount","messageCountMap","pendingMessageCountMap","refinedMessageCountMap","pendingCount","previousCount","errorCount","warningCount","numUnmountIDs","stringKey","encodedString","getStringID","existingEntry","recordMount","isRoot","hasOwnerMetadata","isProfilingSupported","profilingFlags","isProductionBuildOfRenderer","bundleType","displayNamesByRootID","getDisplayNameForRoot","debugOwner","_debugOwner","ownerID","keyString","keyStringID","recordProfilingDurations","recordUnmount","isSimulated","trackedPathMatchFiber","setTrackedPath","unsafeID","_debugNeedsRemount","traverseSiblings","traceNearestHostComponentUpdate","mightSiblingsBeOnTrackedPath","updateTrackedPathStateBeforeMount","shouldIncludeInTree","isSuspense","isTimedOut","primaryChildFragment","fallbackChildFragment","fallbackChild","primaryChild","areSuspenseChildrenConditionallyWrapped","updateTrackedPathStateAfterMount","unmountFiberChildrenRecursively","isTimedOutSuspense","actualDuration","treeBaseDuration","convertedTreeBaseDuration","floor","selfDuration","metadata","maxActualDuration","recordChangeDescriptions","changeDescription","changeDescriptions","recordResetChildren","childSet","nextChildren","findReorderedChildrenRecursively","updateFiberRecursively","shouldResetChildren","prevDidTimeout","nextDidTimeOut","nextFiberChild","nextFallbackChildSet","prevFiberChild","prevFallbackChildSet","nextPrimaryChildSet","nextChild","prevChildAtSameIndex","prevChild","hostFibers","findAllCurrentHostFibers","hostFiber","nextChildSet","cleanup","rootSupportsProfiling","memoizedInteractions","flushInitialOperations","localPendingOperationsQueue","trackedPath","mightBeOnTrackedPath","commitTime","profilingStartTime","priorityLevel","updaters","getUpdatersList","memoizedUpdaters","fiberToSerializedElement","handleCommitFiberUnmount","handlePostCommitFiberRoot","handleCommitFiberRoot","formatPriorityLevel","wasMounted","isDehydrated","isMounted","removeRootPseudoKey","commitProfilingMetadata","rootToCommitProfilingMetadataMap","fibers","findCurrentFiberUsingSlowPathById","err","getFiberForNative","hostInstance","findFiberByHostInstance","findNearestUnfilteredAncestor","assertIsMounted","getNearestMountedFiber","nearestMounted","nextNode","Placement","Hydrating","parentA","parentB","nextParent","didFindChild","prepareViewAttributeSource","isMostRecentlyInspectedElement","$attribute","prepareViewElementSource","$type","getOwnersList","owners","owner","ownerFiber","getInstanceAndStyle","isErrorBoundary","getDerivedStateFromError","componentDidCatch","getNearestErrorBoundaryID","inspectElementRaw","usesHooks","showState","canViewSource","shouldHideContext","contextTypes","consumerResolvedContext","currentType","currentTypeSymbol","providerResolvedContext","hasLegacyContext","originalConsoleMethods","method","rootType","errors","warnings","isErrored","targetErrorBoundaryID","DidCapture","plugins","stylex","xstyle","getSourceForFiber","canEditHooks","canEditFunctionProps","canEditHooksAndDeletePaths","canEditHooksAndRenamePaths","canEditFunctionPropsDeletePaths","canEditFunctionPropsRenamePaths","canToggleError","canToggleSuspense","forceFallbackForSuspenseIDs","rendererPackageName","rendererVersion","currentlyInspectedPaths","isMostRecentlyInspectedElementCurrent","mergeInspectedPaths","createIsPathAllowed","secondaryCategory","updateSelectedElement","inspectedElement","$r","storeAsGlobal","getSerializedElementValueByPath","valueToCopy","inspectElement","requestID","forceFullData","responseID","errorType","cleanedInspectedElement","logElementToConsole","supportsGroup","nativeNodes","chrome","navigator","userAgent","deletePath","hookID","forceUpdate","pendingProps","renamePath","overrideValueAtPath","initialTreeBaseDurationsMap","initialIDToRootMap","getProfilingData","dataForRoots","commitData","initialTreeBaseDurations","commitProfilingData","commitIndex","fiberActualDurations","fiberSelfDurations","timelineData","rest","batchUIDToMeasuresKeyValueArray","laneToLabelKeyValueArray","laneToReactMeasureKeyValueArray","startProfiling","shouldRecordChangeDescriptions","stopProfiling","shouldErrorFiberAccordingToMap","overrideError","forceError","shouldSuspendFiberAlwaysFalse","shouldSuspendFiberAccordingToSet","overrideSuspense","forceFallback","trackedPathMatchDepth","returnFiber","returnAlternate","actualFrame","getPathFrame","expectedFrame","rootPseudoKeys","counter","pseudoKey","preferredDisplayName","fallbackDisplayName","getPathForElement","keyPath","getBestMatchForTrackedPath","isFullMatch","setTraceUpdatesEnabled","getComponentStackForFiber","dispatcherRef","OVERRIDE_CONSOLE_METHODS","PREFIX_REGEX","ROW_COLUMN_NUMBER_REGEX","isStringComponentStack","text","STYLE_DIRECTIVE_REGEX","isStrictModeOverride","frameDiffs","areStackTracesEqual","restorePotentiallyModifiedArgs","injectedRenderers","targetConsole","targetConsoleMethods","unpatchFn","dangerous_setTargetConsoleForTesting","targetConsoleForTesting","getCurrentFiber","consoleSettingsRef","appendComponentStack","breakOnConsoleErrors","showInlineWarningsAndErrors","hideConsoleLogsInStrictMode","browserTheme","patch","originalMethod","__REACT_DEVTOOLS_ORIGINAL_METHOD__","overrideMethod","alreadyHasComponentStack","lastArg","shouldShowInlineWarningsAndErrors","fakeError","endsWith","__REACT_DEVTOOLS_OVERRIDE_METHOD__","unpatch","unpatchForStrictModeFn","overrideConsoleMethods","__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__","__REACT_DEVTOOLS_STRICT_MODE_OVERRIDE_METHOD__","__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__","__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__","__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__","__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__","__REACT_DEVTOOLS_BROWSER_THEME__","writeConsolePatchSettingsToWindow","settings","installConsoleFunctionsToWindow","__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__","BATCH_DURATION","BRIDGE_PROTOCOL","minNpmVersion","maxNpmVersion","currentBridgeProtocol","Bridge","wall","_timeoutID","_messageQueue","_wall","_flush","wasForwarded","_wallUnlisten","listen","_isShutdown","shutdown","wallUnlisten","setupTraceUpdates","patchConsole","methodName","_rendererInterfaces","_bridge","DEVTOOLS_VERSION","_isProfiling","_persistedSelectionMatch","_persistedSelection","_throttledPersistSelection","_traceUpdatesEnabled","selectNode","_recordChangeDescriptions","selected","prevMatch","nextMatch","prevMatchID","nextMatchID","persistedSelectionString","copyElementPath","getBackendVersion","getBridgeProtocol","getProfilingStatus","reloadAndProfile","syncSelectionFromNativeElementsPanel","updateConsolePatchSettings","viewAttributeSource","viewElementSource","overrideContext","overrideState","isBackendStorageAPISupported","bestMatch","setRendererInterface","selection","onUnsupportedRenderer","decorate","old","decorateMany","fns","olds","restoreMany","updater","enqueueForceUpdate","getData","internalInstance","_currentElement","getElementType","publicInstance","getPublicInstance","getChildren","_renderedComponent","_renderedChildren","renderedChildren","idToInternalInstanceMap","internalInstanceToIDMap","internalInstanceToRootIDMap","getInternalIDForNative","findNativeNodeForInternalID","ComponentTree","getClosestInstanceFromNode","getNodeFromInstance","Mount","getID","getNode","areEqualArrays","parentIDStack","oldReconcilerMethods","Reconciler","mountComponent","hostContainerInfo","_topLevelWrapper","performUpdateIfNecessary","prevChildren","recordReorder","receiveComponent","unmountComponent","Mixin","_owner","nextChildIDs","pendingUnmountedIDs","crawlAndRecordInitialMounts","roots","_instancesByReactRootID","_instancesByContainerID","encodedKey","existingID","stringID","currentlyInspectedElementID","_instance","nativeNode","enabled","attachLegacy","isMatchingRender","initBackend","subs","sub","onFastRefreshScheduled","onHookOperations","onTraceUpdates","attachRenderer","renderers","reactDevtoolsAgent","onAgentShutdown","installHook","detectReactBuildType","_renderNewRootComponent","renderRootCode","checkDCE","code","hasDetectedBadDCE","patchConsoleForInitialCommitInStrictMode","unpatchConsoleForInitialCommitInStrictMode","inject","reactBuildType","__REACT_DEVTOOLS_ATTACH__","fiberRoots","onCommitFiberUnmount","onCommitFiberRoot","mountedRoots","isKnownRoot","isUnmounting","onPostCommitFiberRoot","setStrictMode","isStrictMode","openModuleRangesStack","moduleRanges","getTopStackFrameString","registerInternalModuleStart","registerInternalModuleStop","backends","supportsFiber","__TEST__","resolveBoxStyle","hasParts","styleForAll","styleForHorizontal","styleForLeft","styleForRight","styleForEnd","styleForStart","styleForVertical","styleForBottom","styleForTop","setupNativeStyleEditor","resolveNativeStyle","validAttributes","measureStyle","oldName","newName","renameStyle","setStyle","isSupported","EMPTY_BOX_STYLE","componentIDToStyleOverrides","layout","resolvedStyle","styleOverrides","measure","shallowClone","cloned","newStyle","customStyle","setNativeProps","lastIndex","lastLength","startActivation","onSavedPreferences","finishActivation","resolveRNStyle","nativeStyleEditorValidAttributes","activate","createBridge","onMessage","transferable","postMessage"],"sourceRoot":""}